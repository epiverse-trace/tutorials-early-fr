<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="fr" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Lire et nettoyer les données de cas, puis créer une tableau de données de cas pour l’analyse d’épidémie avec R: Nettoyage des données épidémiologiques</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XZ471458FQ');
    </script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/epiverse-trace/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicons/epiverse-trace/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicons/epiverse-trace/favicon-16x16.png"><link rel="manifest" href="../favicons/epiverse-trace/site.webmanifest"><link rel="mask-icon" href="../favicons/epiverse-trace/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav epiverse-trace"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Passer au contenu principal</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="epiverse-trace-logo" alt="epiverse-trace" src="../assets/images/epiverse-trace-logo.svg"><span class="badge text-bg-danger" style="background-color: #FF4955; border-radius: 5px">
          <abbr title="Cette leçon est en version pre-alpha, ce qui signifie qu'elle est au début de son développement, mais n'a pas encore été enseignée.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">Cette leçon est en version pre-alpha, ce qui signifie qu'elle est au début de son développement, mais n'a pas encore été enseignée.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Changer de thème (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Vue Instructeur <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../clean-data.html';">Vue Apprenti</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav epiverse-trace" aria-label="Navigation Principale"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Afficher/cacher la barre de navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="epiverse-trace" src="../assets/images/epiverse-trace-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Lire et nettoyer les données de cas, puis créer une tableau de données de cas pour l’analyse d’épidémie avec R
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Rechercher dans la page 'All In One'" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Lire et nettoyer les données de cas, puis créer une tableau de données de cas pour l’analyse d’épidémie avec R
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Points clés</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Notes de l'instructeur</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extraire toutes les images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Voir plus <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><hr><li><a class="dropdown-item" href="epikinetics-descriptive.html">Descriptive analysis with epikinetics data</a></li><li><a class="dropdown-item" href="epikinetics-statistics.html">Statistical analysis using epikinetics data</a></li><li><a class="dropdown-item" href="reference.html">Glossary of Terms: Epiverse-TRACE</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Rechercher dans la page 'All In One'"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Rechercher dans la page 'All In One'">Rechercher dans la page 'All In One'</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Lire et nettoyer les données de cas, puis créer une tableau de données de cas pour l’analyse d’épidémie avec R
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 50%" class="percentage">
    50%
  </div>
  <div class="progress epiverse-trace">
    <div class="progress-bar epiverse-trace" role="progressbar" style="width: 50%" aria-valuenow="50" aria-label="Avancée de la leçon" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="fermer le menu" alt="fermer le menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Cacher " data-episodes="Épisodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Vue Instructeur
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../clean-data.html">Vue Apprenti</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  ÉPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Résumé et Emploi du Temps</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="read-cases.html">1. Lecture des données épidémiologiques</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        2. Nettoyage des données épidémiologiques
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#introduction">Introduction</a></li>
<li><a href="#une-inspection-rapide">Une inspection rapide</a></li>
<li><a href="#op%C3%A9rations-courantes">Opérations courantes</a></li>
<li><a href="#autres-op%C3%A9rations-li%C3%A9es-%C3%A0-l%C3%A9pid%C3%A9miologie">Autres opérations liées à l’épidémiologie</a></li>
<li><a href="#plusieurs-op%C3%A9rations-%C3%A0-la-fois">Plusieurs opérations à la fois</a></li>
<li><a href="#rapport-du-nettoyage-des-donn%C3%A9es">Rapport du nettoyage des données</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESSOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Points clés</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Notes de l'instructeur</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extraire toutes les images</a>
                      </li>
                      <hr><li><a class="dropdown-item" href="epikinetics-descriptive.html">Descriptive analysis with epikinetics data</a></li><li><a class="dropdown-item" href="epikinetics-statistics.html">Statistical analysis using epikinetics data</a></li><li><a class="dropdown-item" href="reference.html">Glossary of Terms: Epiverse-TRACE</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="../instructor/aio.html">Voir tout sur une seule page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Chapitre Précédent et Suivant"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/read-cases.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Précédent</a>
        <a class="chapter-link float-end" href="../instructor/index.html">Suivant<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/read-cases.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Précédent: Lecture des données
        </a>
        <a class="chapter-link float-end" href="../instructor/index.html" rel="next">
          Accueil
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Nettoyage des données épidémiologiques</h1>
        <p>Dernière mise à jour le 2025-08-29 |

        <a href="https://github.com/epiverse-trace/tutorials-early-fr/edit/main/episodes/clean-data.Rmd" class="external-link">Modifier cette page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <p>Durée estimée : <i aria-hidden="true" data-feather="clock"></i> 30 minutes</p>

        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Afficher toutes les solutions " data-collapse="Cacher toutes les solutions "> Afficher toutes les solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Vue d'ensemble</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>Comment nettoyer et standardiser les données épidémiologiques ?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectifs</h3>
<ul><li>Expliquez comment nettoyer, organiser et standardiser les données
épidémioloques en utilisant la librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>
</li>
<li>Appliquer les opérations de nettoyage de données sur des données
épidémiologiques simulées</li>
</ul></div>
</div>
</div>
</div>
</div>
<div id="prereq1" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Pré-requis</h3>
<div class="callout-content">
<p>Pour cet épisode, nous utiliserons les données simulées portant sur
des individus atteints de la fièvre hémorargique ébola que vous
devez:</p>
<ul><li>d’abord télécharger à partir d’<a href="https://epiverse-trace.github.io/tutorials-early/data/simulated_ebola_2.csv" class="external-link">ici</a>,</li>
<li>puis l’enregistrez-le dans le répertoire <code>data/</code>.</li>
</ul></div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a></h2>
<hr class="half-width"><p>Lors de l’analyse de données épidémiologiques, il est essentiel de
s’assurer que les des données sont nettoyées, organisées, standardisées
et validées pour garantir la précision (vous analysez ce que vous pensez
analyser) et la reproductibilité (si quelqu’un veut revenir en arrière
et répéter vos étapes d’analyse avec votre code, vous pouvez être sûr
qu’il obtiendra les mêmes résultats) de l’analyse. Cet épisode est
consacré au nettoyage de données relatives aux épidémies à l’aide du
package R <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">{cleanepi}</a>. Pour
illustrer l’utilisation des fonctionalités de ce package, nous les
appliquerons sur des données simulées de cas d’Ebola.</p>
<p>En plus du package {cleanepi}, nous utiliserons d’autres fonctions
qui proviennent des packages R suivants durant cette procédure de
nettoyage des données :</p>
<ul><li>
<a href="https://here.r-lib.org/" class="external-link">here</a> pour faciliter le référencement des
fichiers,</li>
<li>
<a href="https://gesistsa.github.io/rio/" class="external-link">rio</a> pour importer les données dans R,</li>
<li>
<a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> pour effectuer certaines opérations de
traitement de données,</li>
<li>
<a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a> pour utiliser son <strong>opérateur pipe
(<code>%&gt;%</code>)</strong>.</li>
</ul><!-- Nous encourageons les utilisateurs disposant de versions récentes de R (version > 4.4.1) à utiliser l'opérateur de pipe de la librairie de base de R (`|>`) au lieu de `%>%`. --><!-- Nous vous recommandons également d'utiliser le package `{pak}` pour l'installation des packages dans R, comme indiqué ci-dessous. Vous pouvez consulter le [document de référence de`{pak}`](https://pak.r-lib.org/reference/features.html) pour plus de détails sur ses avantages. --><div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># charger les librairies</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">rio</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">here</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">cleanepi</span><span class="op">)</span></span></code></pre>
</div>
<div id="lopérateur-double-deux-points" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="lopérateur-double-deux-points" class="callout-inner">
<h3 class="callout-title">L’opérateur double deux-points
(<code>::</code>)</h3>
<div class="callout-content">
<p>L’opérateur <code>::</code> de R permet d’accéder aux fonctions ou
aux objets d’un package spécifique sans attacher l’intégralité du
package (sans faire appel à la function<code>libray()</code>). Il offre
plusieurs avantages, notamment :</p>
<ul><li>Indiquer explicitement le package d’origine d’une fonction,
réduisant ainsi les ambiguïtés et les conflits potentiels lorsque
plusieurs packages possèdent des fonctions portant le même nom.</li>
<li>Permettre d’appeler une fonction depuis un package sans charger
l’intégralité du package avec <code>library()</code>.</li>
</ul><p>Par exemple, la commande <code>dplyr::filter(data, condition)</code>
signifie que nous appelons la fonction <code>filter()</code> depuis la
librairie <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>.</p>
</div>
</div>
</div>
<p>La première étape consiste à importer le jeu de données dans
l’environnement de travail. Pour ce faire, nous suivrons les
instructions décrites dans l’épisode <a href="read-cases.html">Importer
les données de cas épidémiologiques</a> pour importer les données dans
<code>R</code> et visualiser sa structure et son contenu.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Importer les données</span></span>
<span><span class="co"># supposons que le chemin d'accès au ficher est: data/simulated_ebola_2.csv</span></span>
<span><span class="va">raw_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu">import</span><span class="op">(</span></span>
<span>  <span class="fu">here</span><span class="fu">::</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"simulated_ebola_2.csv"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span> <span class="co"># convertir en tibble</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Afficher les dix premières lignes du data frame</span></span>
<span><span class="va">raw_ebola_data</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 15,003 × 9
      V1 `case id` age     gender status `date onset` `date sample` lab   region
   &lt;int&gt;     &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;        &lt;chr&gt;         &lt;lgl&gt; &lt;chr&gt;
 1     1     14905 90      1      "conf… 03/15/2015   06/04/2015    NA    valdr…
 2     2     13043 twenty… 2      ""     Sep /11/13   03/01/2014    NA    valdr…
 3     3     14364 54      f       &lt;NA&gt;  09/02/2014   03/03/2015    NA    valdr…
 4     4     14675 ninety  &lt;NA&gt;   ""     10/19/2014   31/ 12 /14    NA    valdr…
 5     5     12648 74      F      ""     08/06/2014   10/10/2016    NA    valdr…
 6     5     12648 74      F      ""     08/06/2014   10/10/2016    NA    valdr…
 7     6     14274 sevent… female ""     Apr /05/15   01/23/2016    NA    valdr…
 8     7     14132 sixteen male   "conf… Dec /29/Y    05/10/2015    NA    valdr…
 9     8     14715 44      f      "conf… Apr /06/Y    04/24/2016    NA    valdr…
10     9     13435 26      1      ""     09/07/2014   20/ 09 /14    NA    valdr…
# ℹ 14,993 more rows</code></pre>
</div>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Discussion</h3>
<div class="callout-content">
<p>Jettons un coup d’oeil sur ce jeu de données pour dressez la liste de
toutes les anormalies qui pourraient poser problème durant l’analyse des
données.</p>
<p>Certaines de ces anormalies vous sont-elles familières dans le cadre
d’une analyse de données que vous avez déjà effectuée ?</p>
</div>
</div>
</div>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Remarque de l'instructeur </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" data-bs-parent="#accordionInstructor1" aria-labelledby="headingInstructor1">
<div class="accordion-body">
<p>Animez une brève discussion pour établir un lien entre les anormalies
détectées et les opérations de nettoyage requises.</p>
<p>Vous pouvez utiliser les termes suivants pour désigner les
<strong>anormalies qui ont été identifiées</strong>:</p>
<ul><li>
<em>Codification</em>: codification des valeurs dans certaines
colonnes, telles que ‘gender’, ‘age’, à l’aide de chiffres, de lettres
et de mots. Également l’existence de plusieur formats de dates
((“jj/mm/aaaa”, “aaaa/mm/jj”, etc)) dans une même colonne telle que
‘date_onset’. Moins visibles, les noms des colonnes.</li>
<li>
<em>Manquant</em>: comment interpréter une entrée telle que “” dans
la colonne ‘statut’ ou “-99” dans d’autres circonstances ?
Disposons-nous d’un dictionaire de données provenant du processus de
collecte des données ?</li>
<li>
<em>Incohérences</em>: avoir des incohérences comme lorsque la date
d’échantillonnage est antérieure à la date d’apparition des
symptomes.</li>
<li>
<em>Valeurs non plausibles</em> Les valeurs non plausibles, comme
les observations aberrantes avec des dates en dehors de la période
concernée.</li>
<li>
<em>Les doublons</em> Toutes les observations sont-elles uniques
?</li>
</ul><p>Vous pouvez utiliser ces termes pour vous référer aux
<strong>opérations de nettoyage</strong>:</p>
<ul><li>Normaliser le nom des colonnes</li>
<li>Normaliser les variables catégorielles comme ‘gender’</li>
<li>Normaliser les colonnes de type date</li>
<li>Convertir des caractères en valeurs numériques</li>
<li>Vérifier la séquence d’événements datés</li>
</ul></div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="une-inspection-rapide">Une inspection rapide<a class="anchor" aria-label="anchor" href="#une-inspection-rapide"></a></h2>
<hr class="half-width"><p>Une exploration et une inspection rapides des données sont
essentielles pour identifier les problèmes potentiels avant d’entamer le
processus d’analyse des données. Le package {cleanepi} simplifie ce
processus grâce à la fonction <code>scan_data()</code>. Voyons comment
vous pouvez l’utiliser.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">scan_data</span><span class="op">(</span><span class="va">raw_ebola_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  Field_names missing numeric   date character logical
1         age  0.0646  0.8348 0.0000    0.1006       0
2      gender  0.1578  0.0472 0.0000    0.7950       0
3      status  0.0535  0.0000 0.0000    0.9465       0
4  date onset  0.0001  0.0000 0.9159    0.0840       0
5 date sample  0.0001  0.0000 0.9999    0.0000       0
6      region  0.0000  0.0000 0.0000    1.0000       0</code></pre>
</div>
<p>Le résultat donne un aperçu du contenu de toutes les colonnes de type
charactère, y compris la structure de ces noms de colonnes et le
pourcentage de certains types de données qu’on y retrouve. Vous pouvez
constater que les noms des colonnes sont descriptifs mais manquent de
cohérence. Certains sont composés de plusieurs mots séparés par des
espaces. En outre, certaines colonnes contiennent plus d’un type de
données, et il y a des valeurs manquantes dans d’autres.</p>
</section><section><h2 class="section-heading" id="opérations-courantes">Opérations courantes<a class="anchor" aria-label="anchor" href="#op%C3%A9rations-courantes"></a></h2>
<hr class="half-width"><p>Cette section montre comment effectuer quelques opérations courantes
de nettoyage de données à l’aide de la librairie
<a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>.</p>
<div class="section level3">
<h3 id="normalisation-des-noms-de-colonnes">Normalisation des noms de colonnes<a class="anchor" aria-label="anchor" href="#normalisation-des-noms-de-colonnes"></a></h3>
<p>Pour cet exemple de jeu de données, la normalisation des noms de
colonnes consiste généralement à supprimer les espaces et à relier les
mots avec <code>"_"</code>. Cette pratique permet de maintenir la
cohérence et la lisibilité du jeu de données. Cependant, la fonction
utilisée pour normaliser les noms de colonnes offre plus d’options.
Entrez <code>?cleanepi::standardize_column_names</code> dans la console
pour plus de détails.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_column_names</span><span class="op">(</span><span class="va">raw_ebola_data</span><span class="op">)</span></span>
<span><span class="fu">names</span><span class="op">(</span><span class="va">sim_ebola_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "v1"          "case_id"     "age"         "gender"      "status"
[6] "date_onset"  "date_sample" "lab"         "region"     </code></pre>
</div>
<p>Si vous souhaitez conserver certains noms de colonnes sans les
soumettre au processus de normalisation, vous pouvez utiliser l’argument
<code>keep</code> de la fonction
<code>cleanepi::standardize_column_names()</code>. Cet argument accepte
un vecteur de noms de colonnes qui doivent rester inchangés.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Défi</h3>
<div class="callout-content">
<ul><li><p>Quelles différences pouvez-vous observer dans les noms de
colonnes ?</p></li>
<li><p>Normalisez les noms des colonnes de l’ensemble de données
d’entrée, mais conservez le nom de la première colonne tel
quel.</p></li>
</ul></div>
</div>
</div>
<div id="accordionHint1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint1" aria-expanded="false" aria-controls="collapseHint1">
  <h4 class="accordion-header" id="headingHint1"> Donner un indice </h4>
</button>
<div id="collapseHint1" class="accordion-collapse collapse" data-bs-parent="#accordionHint1" aria-labelledby="headingHint1">
<div class="accordion-body">
<p>Vous pouvez essayer
<code>cleanepi::standardize_column_names(data = raw_ebola_data, keep = "V1")</code></p>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="suppression-des-irrégularités">Suppression des irrégularités<a class="anchor" aria-label="anchor" href="#suppression-des-irr%C3%A9gularit%C3%A9s"></a></h3>
<p>Les données brutes contiennent souvent des irrégularités telles que
des lignes <strong>vides</strong> et colonnes vides, ou des colonnes
<strong>constant</strong> (où toutes les entrées ont la même valeur).
Elles peuvent aussi contenir des doublons. Les fonctions de
<a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> comme <code>remove_duplicates()</code> et
<code>remove_constants()</code> peuvent être utilisées pour supprimer
ces irrégularités, comme le montre le morceau de code ci-dessous.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Supprimer les données invariables</span></span>
<span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">remove_constants</span><span class="op">(</span><span class="va">sim_ebola_data</span><span class="op">)</span></span></code></pre>
</div>
<p>Maintenant, afficher le résultat pour identifier les colonnes
constantes que vous avez supprimé.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Supprimer les doublons</span></span>
<span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">remove_duplicates</span><span class="op">(</span><span class="va">sim_ebola_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>! Found 5 duplicated rows in the dataset.
ℹ Use `attr(dat, "report")[["duplicated_rows"]]` to access them, where "dat" is
  the object used to store the output from this operation.</code></pre>
</div>
<div id="accordionSpoiler1" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler1" aria-expanded="false" aria-controls="collapseSpoiler1">
  <h3 class="accordion-header" id="headingSpoiler1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> Combien de lignes avez-vous supprimées ? Quelles lignes ont été supprimées ? </h3>
</button>
<div id="collapseSpoiler1" class="accordion-collapse collapse" data-bs-parent="#accordionSpoiler1" aria-labelledby="headingSpoiler1">
<div class="accordion-body">
<p>Vous pouvez obtenir le nombre et l’emplacement des lignes redondantes
qui ont été identifiées à l’aide de la function
<code>cleanepi::print_report()</code>.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># les doublons identifiés</span></span>
<span><span class="va">doublons</span> <span class="op">&lt;-</span> <span class="fu">print_report</span><span class="op">(</span><span class="va">sim_ebola_data</span>, <span class="st">"found_duplicates"</span><span class="op">)</span></span>
<span><span class="va">doublons</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Défi</h3>
<div class="callout-content">
<p>Dans le jeu de données suivant :</p>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 6 × 5
   col1  col2 col3  col4  col5
  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;date&gt;
1     1     1 a     b     NA
2     2     3 a     b     NA
3    NA    NA a     &lt;NA&gt;  NA
4    NA    NA a     &lt;NA&gt;  NA
5    NA    NA a     &lt;NA&gt;  NA
6    NA    NA &lt;NA&gt;  &lt;NA&gt;  NA    </code></pre>
</div>
<p>Quelles sont les colonnes ou les lignes:</p>
<ul><li>contenant des doublons ?</li>
<li>vides ?</li>
<li>contenant des données constantes ?</li>
</ul></div>
</div>
</div>
<div id="accordionHint2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint2" aria-expanded="false" aria-controls="collapseHint2">
  <h4 class="accordion-header" id="headingHint2"> Donner un indice </h4>
</button>
<div id="collapseHint2" class="accordion-collapse collapse" data-bs-parent="#accordionHint2" aria-labelledby="headingHint2">
<div class="accordion-body">
<p>Les données constantes se réfèrent principalement aux lignes et
colonnes vides, mais aussi aux colonnes invariables.</p>
</div>
</div>
</div>
</div>
<div id="accordionInstructor2" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor2" aria-expanded="false" aria-controls="collapseInstructor2">
  <h3 class="accordion-header" id="headingInstructor2">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Remarque de l'instructeur </h3>
</button>
<div id="collapseInstructor2" class="accordion-collapse collapse" data-bs-parent="#accordionInstructor2" aria-labelledby="headingInstructor2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cleaned_df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">remove_constants</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">remove_duplicates</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>! Constant data was removed after 2 iterations.
ℹ Enter `attr(dat, "report")[["constant_data"]]` for more information, where
  "dat" represents the object used to store the output from
  `remove_constants()`.
ℹ No duplicates were found.</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">print_report</span><span class="op">(</span><span class="va">cleaned_df</span>, <span class="st">"constant_data"</span><span class="op">)</span></span></code></pre>
</div>
<ul><li>indices des doublon : aucun</li>
<li>colonnes vides :
<ul><li>premiere itération: col5</li>
<li>seconde itération: aucune</li>
</ul></li>
<li>lignes vides :
<ul><li>premiere itération: 6</li>
<li>seconde itération: 3, 4, 5</li>
</ul></li>
<li>colonnes constantes : col3, col4</li>
</ul><p>Faites remarquer aux apprenants qu’ils peuvent obtenir des résultats
différents en variant la valeur de l’argument <code>cutoff</code>.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cleaned_df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">remove_constants</span><span class="op">(</span>cutoff <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">print_report</span><span class="op">(</span><span class="va">cleaned_df</span>, <span class="st">"constant_data"</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="remplacer-les-valeurs-manquantes">Remplacer les valeurs manquantes<a class="anchor" aria-label="anchor" href="#remplacer-les-valeurs-manquantes"></a></h3>
<p>Outre les irrégularités, les données brutes peuvent contenir des
valeurs manquantes, qui peuvent être representées par différentes
chaînes de caractères (par ex. <code>"NA"</code>, <code>""</code>,
<code>character(0)</code>). Pour garantir une analyse solide, il est
conseillé de remplacer toutes les valeurs manquantes par <code>NA</code>
dans l’ensemble du jeu de données. Vous trouverez ci-dessous un extrait
de code démontrant comment vous pouvez remplacer les valeures
manquantes, représentées par une chaîne vide <code>""</code>, en
utilisant la librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">replace_missing_values</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sim_ebola_data</span>,</span>
<span>  na_strings <span class="op">=</span> <span class="st">""</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_ebola_data</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 15,000 × 8
      v1 case_id age         gender status    date_onset date_sample row_id
   &lt;int&gt;   &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;        &lt;int&gt;
 1     1   14905 90          1      confirmed 03/15/2015 06/04/2015       1
 2     2   13043 twenty-five 2      &lt;NA&gt;      Sep /11/13 03/01/2014       2
 3     3   14364 54          f      &lt;NA&gt;      09/02/2014 03/03/2015       3
 4     4   14675 ninety      &lt;NA&gt;   &lt;NA&gt;      10/19/2014 31/ 12 /14       4
 5     5   12648 74          F      &lt;NA&gt;      08/06/2014 10/10/2016       5
 6     6   14274 seventy-six female &lt;NA&gt;      Apr /05/15 01/23/2016       7
 7     7   14132 sixteen     male   confirmed Dec /29/Y  05/10/2015       8
 8     8   14715 44          f      confirmed Apr /06/Y  04/24/2016       9
 9     9   13435 26          1      &lt;NA&gt;      09/07/2014 20/ 09 /14      10
10    10   14816 thirty      f      &lt;NA&gt;      06/29/2015 06/02/2015      11
# ℹ 14,990 more rows</code></pre>
</div>
<!-- idée : après avoir résolu le problème des chaînes na_string multiples, ajoutez un défi à ce sujet + ajoutez-les à l'ensemble des données brutes ! -->
</div>
<div class="section level3">
<h3 id="validation-des-identifiants-des-individus">Validation des identifiants des individus<a class="anchor" aria-label="anchor" href="#validation-des-identifiants-des-individus"></a></h3>
<p>Chaque entrée du jeu de données représente un individu (par exemple,
un patient ou un participant à une étude) et doit pouvoir être
distinguée par un identifiant unique formatée d’une certaine façon. Ces
identifiants peuvent contenir des nombres se situant dans un intervalle
bien déterminé, a préfixe et/ou suffixe, être formatés de façon à
contenir un nombre spécifique de caractères. La librairie
<a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> propose la fonction
<code>check_subject_ids()</code> permettant de vérifier si les
identifiants des individus sont uniques et s’ils satisfont aux critères
établis par l’utilisateur.</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># vérifier si les identifiants des individus comportent des nombres</span></span>
<span><span class="co"># variant entre 0 et 15000</span></span>
<span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">check_subject_ids</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sim_ebola_data</span>,</span>
<span>  target_columns <span class="op">=</span> <span class="st">"case_id"</span>,</span>
<span>  range <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">15000</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>! Found 1957 duplicated values in the subject Ids.
ℹ Enter `attr(dat, "report")[["duplicated_rows"]]` to access them, where "dat"
  is the object used to store the output from this operation.
ℹ No incorrect subject id was detected.</code></pre>
</div>
<p>Notez que notre jeu de données simulé contient des doublons dans la
colonne ayant les identifiants uniques des individus.</p>
<div id="accordionSpoiler2" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler2" aria-expanded="false" aria-controls="collapseSpoiler2">
  <h3 class="accordion-header" id="headingSpoiler2">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> Comment corriger les identifiants des individus ? </h3>
</button>
<div id="collapseSpoiler2" class="accordion-collapse collapse" data-bs-parent="#accordionSpoiler2" aria-labelledby="headingSpoiler2">
<div class="accordion-body">
<p>Visualisons un rapport préliminaire avec
<code>cleanepi::print_report(sim_ebola_data)</code>. Concentrez-vous sur
l’onglet “Unexpected subject ids” pour identifier les identifiants qui
nécessitent une correction.</p>
<p>Après avoir terminé ce tutoriel, nous vous invitons à explorer le
guide de référence de la function <a href="https://epiverse-trace.github.io/cleanepi/reference/check_subject_ids.html" class="external-link"><code>cleanepi::check_subject_ids()</code></a>
pour identifier la function qui peut remédier à cette situation.</p>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="normalisation-des-dates">Normalisation des dates<a class="anchor" aria-label="anchor" href="#normalisation-des-dates"></a></h3>
<p>Un jeu de données épidémiques contient généralement des colonnes de
type date pour différents événements, tels que la date d’infection, la
date d’apparition des symptômes, etc. Ces dates peuvent apparaître sous
différents formats, et il est bon de les normaliser afin de bénéficier
des puissantes fonctionalités de R conçues pour traiter les valeurs de
type date durant l’analyse des données. La librairies
<a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> fournit une fonctionnalité permettant de
convertir les colonnes de type date dans les données épidémiologiques au
format ISO8601, garantissant la cohérence des différentes colonnes de
type dates. Voici comment vous pouvez l’utiliser sur notre jeu de
données simulé :</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_dates</span><span class="op">(</span></span>
<span>  <span class="va">sim_ebola_data</span>,</span>
<span>  target_columns <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"date_onset"</span>, <span class="st">"date_sample"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_ebola_data</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 15,000 × 8
      v1 case_id age         gender status    date_onset date_sample row_id
   &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;     &lt;date&gt;     &lt;date&gt;       &lt;int&gt;
 1     1 14905   90          1      confirmed 2015-03-15 2015-06-04       1
 2     2 13043   twenty-five 2      &lt;NA&gt;      2013-09-11 2014-03-01       2
 3     3 14364   54          f      &lt;NA&gt;      2014-09-02 2015-03-03       3
 4     4 14675   ninety      &lt;NA&gt;   &lt;NA&gt;      2014-10-19 2031-12-14       4
 5     5 12648   74          F      &lt;NA&gt;      2014-08-06 2016-10-10       5
 6     6 14274   seventy-six female &lt;NA&gt;      2015-04-05 2016-01-23       7
 7     7 14132   sixteen     male   confirmed NA         2015-05-10       8
 8     8 14715   44          f      confirmed NA         2016-04-24       9
 9     9 13435   26          1      &lt;NA&gt;      2014-09-07 2020-09-14      10
10    10 14816   thirty      f      &lt;NA&gt;      2015-06-29 2015-06-02      11
# ℹ 14,990 more rows</code></pre>
</div>
<p>Cette fonction convertit les valeurs dans les colonnes cibles au le
format <strong>YYYY-mm-dd</strong>.</p>
<div id="comment-cela-est-il-possible" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="comment-cela-est-il-possible" class="callout-inner">
<h3 class="callout-title">Comment cela est-il possible ?</h3>
<div class="callout-content">
<p>Nous vous invitons à trouver la principale librairie qui rend cette
normalisation possible au sein de <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> en lisant la
section “Détails” du <a href="https://epiverse-trace.github.io/cleanepi/reference/standardize_dates.html#details" class="external-link">Manuel
de référence sur la normalisation des variables de type date</a>!</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="conversion-en-valeurs-numériques">Conversion en valeurs numériques<a class="anchor" aria-label="anchor" href="#conversion-en-valeurs-num%C3%A9riques"></a></h3>
<p>Dans les données brutes, certaines colonnes peuvent contenir un
mélange de valeurs numériques et de caractères, et vous voudrez souvent
convertir les caractères en numériques. Par exemple, certaines valeurs
de la colonne de ‘age’ de notre jeu de données simulées sont écrites en
mots. Dans <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> la fonction
<code>convert_to_numeric()</code> permet d’effectuer la conversion de
ces mots en chiffres, comme illustré ci-dessous.</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">convert_to_numeric</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sim_ebola_data</span>,</span>
<span>  target_columns <span class="op">=</span> <span class="st">"age"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_ebola_data</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 15,000 × 8
      v1 case_id   age gender status    date_onset date_sample row_id
   &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;date&gt;     &lt;date&gt;       &lt;int&gt;
 1     1 14905      90 1      confirmed 2015-03-15 2015-06-04       1
 2     2 13043      25 2      &lt;NA&gt;      2013-09-11 2014-03-01       2
 3     3 14364      54 f      &lt;NA&gt;      2014-09-02 2015-03-03       3
 4     4 14675      90 &lt;NA&gt;   &lt;NA&gt;      2014-10-19 2031-12-14       4
 5     5 12648      74 F      &lt;NA&gt;      2014-08-06 2016-10-10       5
 6     6 14274      76 female &lt;NA&gt;      2015-04-05 2016-01-23       7
 7     7 14132      16 male   confirmed NA         2015-05-10       8
 8     8 14715      44 f      confirmed NA         2016-04-24       9
 9     9 13435      26 1      &lt;NA&gt;      2014-09-07 2020-09-14      10
10    10 14816      30 f      &lt;NA&gt;      2015-06-29 2015-06-02      11
# ℹ 14,990 more rows</code></pre>
</div>
<div id="langues-prise-en-charge" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="langues-prise-en-charge" class="callout-inner">
<h3 class="callout-title">Langues prise en charge</h3>
<div class="callout-content">
<p>Il faut savoir que la fonction
<code>cleanepi::convert_to_numeric()</code> fait appel à la fonction
principale de la librairie <a href="https://github.com/epiverse-trace/numberize" class="external-link">numberize</a>, qui permet de
convertir, en valeurs entières positives, les mots écrits en anglais,
français et espagnol.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="autres-opérations-liées-à-lépidémiologie">Autres opérations liées à l’épidémiologie<a class="anchor" aria-label="anchor" href="#autres-op%C3%A9rations-li%C3%A9es-%C3%A0-l%C3%A9pid%C3%A9miologie"></a></h2>
<hr class="half-width"><p>Outre les tâches courantes de nettoyage des données, telles que
celles évoquées dans les sections précédentes, la librairie
<a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> offre des fonctionnalités supplémentaires
spécialement conçues pour le traitement et l’analyse des données
relatives aux épidémies. Cette section couvre certaines de ces tâches
spécialisées.</p>
<div class="section level3">
<h3 id="vérification-de-la-séquence-des-événements-datés">Vérification de la séquence des événements datés<a class="anchor" aria-label="anchor" href="#v%C3%A9rification-de-la-s%C3%A9quence-des-%C3%A9v%C3%A9nements-dat%C3%A9s"></a></h3>
<p>Garantir l’ordre et la séquence correcte des événements datés est
crucial dans l’analyse des données épidémiologiques, en particulier lors
de l’analyse des maladies infectieuses, où la chronologie d’événements
tels que la date d’apparition des symptômes et la date de collecte
d’échantillons est essentielle. La librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>
fournit une fonction utile appelée <code>check_date_sequence()</code>
précisément conçu dans ce but.</p>
<p>Voici un exemple de morceau de code démontrant l’utilisation de la
fonction <code>check_date_sequence()</code> dans les 100 premières
lignes de notre ensemble de données Ebola simulé.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">check_date_sequence</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sim_ebola_data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span>, <span class="op">]</span>,</span>
<span>  target_columns <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"date_onset"</span>, <span class="st">"date_sample"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>! Detected 16 incorrect date sequences at lines: "10, 20, 22, 26, 29, 44, 46,
  54, 60, 63, 70, 71, 73, 80, 81, 90".
ℹ Enter `attr(dat, "report")[["incorrect_date_sequence"]]` to access them,
  where "dat" is the object used to store the output from this operation.</code></pre>
</div>
<p>Cette fonctionnalité est essentielle pour garantir l’intégrité des
données et la précision dans les analyses épidémiologiques, car elle
permet d’identifier toute incohérence ou erreur dans l’ordre
chronologique des événements, ce qui vous permet d’y remédier de manière
appropriée.</p>
</div>
<div class="section level3">
<h3 id="substitution-basée-sur-un-dictionnaire">Substitution basée sur un dictionnaire<a class="anchor" aria-label="anchor" href="#substitution-bas%C3%A9e-sur-un-dictionnaire"></a></h3>
<p>Dans le cadre du prétraitement des données, il est fréquent de
rencontrer des scénarios dans lesquels certaines colonnes d’un jeu de
données, comme la colonne “gender” dans notre jeu de données Ebola
simulé, sont censées avoir des valeurs ou des facteurs spécifiques.
Cependant, il est également fréquent que des valeurs inattendues ou
erronées apparaissent dans ces colonnes, et doivent être remplacées par
des valeurs de valeurs appropriées. La librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>
offre une fonction qui prend en charge la substitution de valeurs basée
sur un dictionnaire données. Ainsi, vous permet de remplacer des valeurs
dans des colonnes spécifiques sur la base de correspondances définies
dans un dictionnaire de données.</p>
<p>Par ailleurs, la librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> fournit un exemple
de dictionnaire intégré spécialement conçu pour les données
épidémiologiques. Le code ci-dessous montre les correspondances qui y
sont établies pour la colonne “gender”.</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_dict</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu">readRDS</span><span class="op">(</span></span>
<span>  <span class="fu">system.file</span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"test_dict.RDS"</span>, package <span class="op">=</span> <span class="st">"cleanepi"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">test_dict</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 6 × 4
  options values grp    orders
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;int&gt;
1 1       male   gender      1
2 2       female gender      2
3 M       male   gender      3
4 F       female gender      4
5 m       male   gender      5
6 f       female gender      6</code></pre>
</div>
<p>Nous pouvons maintenant utiliser ce dictionnaire pour substituer les
valeurs de la colonne “gender” selon des catégories prédéfinies. Vous
trouverez ci-dessous un exemple de code démontrant comment utiliser la
fonction <code>clean_using_dictionary()</code> de la librairie
{cleanepi} allant dans ce sens.</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">clean_using_dictionary</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sim_ebola_data</span>,</span>
<span>  dictionary <span class="op">=</span> <span class="va">test_dict</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_ebola_data</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 15,000 × 8
      v1 case_id   age gender status    date_onset date_sample row_id
   &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;date&gt;     &lt;date&gt;       &lt;int&gt;
 1     1 14905      90 male   confirmed 2015-03-15 2015-06-04       1
 2     2 13043      25 female &lt;NA&gt;      2013-09-11 2014-03-01       2
 3     3 14364      54 female &lt;NA&gt;      2014-09-02 2015-03-03       3
 4     4 14675      90 &lt;NA&gt;   &lt;NA&gt;      2014-10-19 2031-12-14       4
 5     5 12648      74 female &lt;NA&gt;      2014-08-06 2016-10-10       5
 6     6 14274      76 female &lt;NA&gt;      2015-04-05 2016-01-23       7
 7     7 14132      16 male   confirmed NA         2015-05-10       8
 8     8 14715      44 female confirmed NA         2016-04-24       9
 9     9 13435      26 male   &lt;NA&gt;      2014-09-07 2020-09-14      10
10    10 14816      30 female &lt;NA&gt;      2015-06-29 2015-06-02      11
# ℹ 14,990 more rows</code></pre>
</div>
<p>Cette approche simplifie le processus de nettoyage des données, en
garantissant que les variables catégorielles dans les jeux de données
épidémiologiques sont catégorisées avec précision et prêtes pour une
analyse plus ultérieures.</p>
<!--
:::::::::::::::::::::::::: spoiler

#### Comment créer votre propre dictionnaire de données ?

Notez que, lorsqu'une colonne du jeu de données contient des valeurs qui ne figurent pas dans le dictionnaire, la fonction `cleanepi::clean_using_dictionary()` soulèvera une erreur.

Vous pouvez commencer à construire un dictionnaire de données personnalisé avec un jeu de données dans ou à l'extérieur de R, puis utiliser la fonction
`cleanepi::add_to_dictionary()` pour y ajouter de nouveaux éléments dans le dictionnaire. Ceci est illustré dans l'exemple ci-dessous:


``` r
new_dictionary <- tibble::tibble(
  options = "0",
  values = "female",
  grp = "sex",
  orders = 1L
) %>%
  cleanepi::add_to_dictionary(
    option = "1",
    value = "male",
    grp = "sex",
    order = NULL
  )

new_dictionary
```

``` output
# A tibble: 2 × 4
  options values grp   orders
  <chr>   <chr>  <chr>  <int>
1 0       female sex        1
2 1       male   sex        2
```

Vous pouvez avoir plus de détails dans la section "Dictionary-based data substituting" dans la
[Vignette](https://epiverse-trace.github.io/cleanepi/articles/cleanepi.html#dictionary-based-data-substituting) du package {cleanepi}.

Pour simplifier la correction des valeurs mals orthographiées, nous avons introduit la function `correct_misspelled_values()` à partir de la version `1.1.1` de la librairie {cleanepi}. Cette fonction permet d'établir des correspondances entre les valeurs mals orthographiées et l'ensemble des vraies valeurs que peuvent prendre les colonnes cibles. Ces valeurs mals
orthographiées seront ainsi substituées par les vraies valeurs qui leurs sont orthographiquement plus proches.


``` r
# remplacer automatiquement les valeurs mals orthographiées de la
# colonne 'status' avec les vraies
sim_ebola_data <- cleanepi::correct_misspelled_values(
  data = sim_ebola_data,
  target_columns = "status",
  wordlist = c("confirmed", "probable", "suspected", "died", "recovered"),
  confirm = FALSE # remplacement sans demander l'avis de l'utilisateur
)
```

``` error
Error: 'correct_misspelled_values' is not an exported object from 'namespace:cleanepi'
```

``` r
# remplacer les valeurs mals orthographiées de la colonne 'status' avec
# les vraies apres avoir demander la confirmation à l'utilisateur
sim_ebola_data <- cleanepi::correct_misspelled_values(
  data = sim_ebola_data,
  target_columns = "status",
  wordlist = c("confirmed", "probable", "suspected", "died", "recovered"),
  confirm = TRUE # remplacement après confirmation de l'utilisateur
)
```

``` error
Error: 'correct_misspelled_values' is not an exported object from 'namespace:cleanepi'
```

Notez qu'il faudrait préalablement convertir les colonnes cibles en `charactère`
avant de procéder à la substitution.

::::::::::::::::::::::::::
-->
</div>
<div class="section level3">
<h3 id="calcul-de-lintervalle-de-temps-entre-différentes-dates">Calcul de l’intervalle de temps entre différentes dates<a class="anchor" aria-label="anchor" href="#calcul-de-lintervalle-de-temps-entre-diff%C3%A9rentes-dates"></a></h3>
<p>Durant l’analyse de données épidémiologiques, il est utile de suivre
et d’analyser les événements se produisant au cours du temps, tels que
la progression d’une épidémie (c’est-à-dire le temps écoulé entre la
date de signalement du premier cas et aujourd’hui) ou la durée entre la
durée entre la date de collection et d’analyse des échantillons
(c’est-à-dire le temps écoulé entre la date de collecte des échantillons
et aujourd’hui). L’exemple le plus courant est le calcul de l’âge des
individus à partir de leur date de naissance (c’est-à-dire la différence
de temps entre aujourd’hui et leurs dates de naissance).</p>
<p>La librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> dispose d’une fonction
permettant de calculer le temps écoulé entre deux événements datés à
différentes échelles de temps. Par exemple, l’extrait de code ci-dessous
utilise la fonction <code>cleanepi::timespan()</code> pour calculer le
temps écoulé depuis la date à laquelle les échantillons ont été
prélevées jusqu’au 3 janvier 2025 (<code>"2025-01-03"</code>).</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">timespan</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sim_ebola_data</span>,</span>
<span>  target_column <span class="op">=</span> <span class="st">"date_sample"</span>,</span>
<span>  end_date <span class="op">=</span> <span class="fu">as.Date</span><span class="op">(</span><span class="st">"2025-01-03"</span><span class="op">)</span>,</span>
<span>  span_unit <span class="op">=</span> <span class="st">"years"</span>,</span>
<span>  span_column_name <span class="op">=</span> <span class="st">"years_since_collection"</span>,</span>
<span>  span_remainder_unit <span class="op">=</span> <span class="st">"months"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_ebola_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="va">case_id</span>, <span class="va">date_sample</span>, <span class="va">years_since_collection</span>, <span class="va">remainder_months</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 15,000 × 4
   case_id date_sample years_since_collection remainder_months
   &lt;chr&gt;   &lt;date&gt;                       &lt;dbl&gt;            &lt;dbl&gt;
 1 14905   2015-06-04                       9                7
 2 13043   2014-03-01                      10               10
 3 14364   2015-03-03                       9               10
 4 14675   2031-12-14                      -6              -11
 5 12648   2016-10-10                       8                2
 6 14274   2016-01-23                       8               11
 7 14132   2015-05-10                       9                7
 8 14715   2016-04-24                       8                8
 9 13435   2020-09-14                       4                3
10 14816   2015-06-02                       9                7
# ℹ 14,990 more rows</code></pre>
</div>
<p>Après avoir exécuté la fonction <code>cleanepi::timespan()</code>,
deux nouvelles colonnes nommées <code>years_since_collection</code> et
<code>remainder_months</code> ont été ajoutées à la base de données
<strong>sim_ebola_data</strong>. Ces colonnes contiennent respectivement
le temps écoulé depuis la date de prélèvement de l’échantillon de chaque
individu, mesuré en années, et le temps restant mesuré en mois.</p>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Défi</h3>
<div class="callout-content">
<p>Les données relatives à l’âge sont utiles dans beaucoup d’analyses
qui seront menées après le nettoyage des données. Vous pouvez classer
les âges en catégories pour générer des estimations stratifiées.</p>
<p>Utilisez le jeu de données <code>test_df.RDS</code> qui se trouve
dans la librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> pour calculez l’âge en années
<strong>jusqu’au 1er mars</strong> à partir de la date de naissance des
sujets, et le temps restant en mois. Nettoyez et standardisez les
éléments nécessaires pour y parvenir.</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># lire les donnees dans test_df.RDS</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">readRDS</span><span class="op">(</span></span>
<span>  file <span class="op">=</span> <span class="fu">system.file</span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"test_df.RDS"</span>, package <span class="op">=</span> <span class="st">"cleanepi"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="indice">
<p>Avant de calculer l’âge, vous aurez besoin de:</p>
<ul><li>normaliser les noms des colonnes</li>
<li>standardiser les colonnes de type date</li>
<li>remplacer les valeurs manquantes par ‘NA’</li>
</ul></div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Montrer la solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Dans la solution, nous avons ajouter
<code>date_first_pcr_positive_test</code> parmi les colonnes de type
date à standardiser étant donné que c’est une variable qui est souvent
utilisée durant les analyse épidémiologiques.</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_clean</span> <span class="op">&lt;-</span> <span class="va">dat</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># normaliser les noms de colonnes et les colonnes de type date</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_column_names</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_dates</span><span class="op">(</span></span>
<span>    target_columns <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"date_of_birth"</span>, <span class="st">"date_first_pcr_positive_test"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># replacer les chaînes de caractères représentant les données</span></span>
<span>  <span class="co"># manquantes avec NA</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">replace_missing_values</span><span class="op">(</span></span>
<span>    target_columns <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"date_of_birth"</span><span class="op">)</span>,</span>
<span>    na_strings <span class="op">=</span> <span class="st">"-99"</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># calculer l'age en 'annees' and retourner le reste en 'mois'</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">timespan</span><span class="op">(</span></span>
<span>    target_column <span class="op">=</span> <span class="st">"date_of_birth"</span>,</span>
<span>    end_date <span class="op">=</span> <span class="fu">as.Date</span><span class="op">(</span><span class="st">"2025-03-01"</span><span class="op">)</span>,</span>
<span>    span_unit <span class="op">=</span> <span class="st">"years"</span>,</span>
<span>    span_column_name <span class="op">=</span> <span class="st">"age_in_years"</span>,</span>
<span>    span_remainder_unit <span class="op">=</span> <span class="st">"months"</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>! Found &lt;numeric&gt; values that could also be of type &lt;Date&gt; in column:
  date_of_birth.
ℹ It is possible to convert them into &lt;Date&gt; using: `lubridate::as_date(x,
  origin = as.Date("1900-01-01"))`
• where "x" represents here the vector of values from these columns
  (`data$target_column`).</code></pre>
</div>
<p>Maintenant, comment définiriez-vous les classes d’une variable
numérique ?</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Montrer la solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>La solution la plus simple consiste à utiliser
<code>Hmisc::cut2()</code>. Vous pouvez également utiliser
<code>dplyr::case_when()</code>. Cependant cette solution nécessite plus
de lignes de code et est plus appropriée pour les catégorisations
personnalisées. Nous vous proposons ici une solution basée sur
<code>base::cut()</code>:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_clean</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># selectionner les colonnes d'intéret</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span></span>
<span>    <span class="va">study_id</span>,</span>
<span>    <span class="va">sex</span>,</span>
<span>    <span class="va">date_first_pcr_positive_test</span>,</span>
<span>    <span class="va">date_of_birth</span>,</span>
<span>    <span class="va">age_in_years</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># categoriser la variable age [ajouter comme indice dans le challenge]</span></span>
<span>  <span class="co"># replacer avec la valeur maximale si elle est connue</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span></span>
<span>    age_category <span class="op">=</span> <span class="fu">base</span><span class="fu">::</span><span class="fu">cut</span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">age_in_years</span>,</span>
<span>      breaks <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">35</span>, <span class="fl">60</span>, <span class="cn">Inf</span><span class="op">)</span>,</span>
<span>      include.lowest <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      right <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 10 × 6
   study_id   sex date_first_pcr_posit…¹ date_of_birth age_in_years age_category
   &lt;chr&gt;    &lt;int&gt; &lt;date&gt;                 &lt;date&gt;               &lt;dbl&gt; &lt;fct&gt;
 1 PS001P2      1 2020-12-01             1972-06-01              52 [35,60)
 2 PS002P2      1 2021-01-01             1952-02-20              73 [60,Inf]
 3 PS004P2…    NA 2021-02-11             1961-06-15              63 [60,Inf]
 4 PS003P2      1 2021-02-01             1947-11-11              77 [60,Inf]
 5 P0005P2      2 2021-02-16             2000-09-26              24 [20,35)
 6 PS006P2      2 2021-05-02             NA                      NA &lt;NA&gt;
 7 PB500P2      1 2021-02-19             1989-11-03              35 [35,60)
 8 PS008P2      2 2021-09-20             1976-10-05              48 [35,60)
 9 PS010P2      1 2021-02-26             1991-09-23              33 [20,35)
10 PS011P2      2 2021-03-03             1991-02-08              34 [20,35)
# ℹ abbreviated name: ¹​date_first_pcr_positive_test</code></pre>
</div>
<p>Vous pouvez rechercher les valeurs maximales des variables à travers
le résumé obtenu en utilisant la fonction <code>skimr::skim()</code>. Au
lieu de <code>base::cut()</code> vous pouvez également utiliser
<code>Hmisc::cut2(x = age_in_years,cuts = c(20,35,60))</code> qui
calcule la valeur maximale et ne nécessite pas plus d’arguments.</p>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="plusieurs-opérations-à-la-fois">Plusieurs opérations à la fois<a class="anchor" aria-label="anchor" href="#plusieurs-op%C3%A9rations-%C3%A0-la-fois"></a></h2>
<hr class="half-width"><p>L’exécution individuelle des opérations de nettoyage des données peut
prendre beaucoup de temps et être source d’erreurs. La fonction
<code>clean_data()</code> de la librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> permet
de simplifier ce processus en permettant d’exécuter plusieurs opérations
à la fois.</p>
<p>Lorsque l’utilisateur ne spécifie aucune opération de nettoyage de
données, la fonction applique automatiquement une série d’opérations de
nettoyage de données. Voici un exemple de code illustrant l’utilisation
de la fonction <code>clean_data()</code> sur le jeu de données simulé
d’Ebola:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cleaned_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">clean_data</span><span class="op">(</span><span class="va">raw_ebola_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ℹ Cleaning column names</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ℹ Removing constant columns and empty rows</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ℹ Removing duplicated rows</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>! Found 5 duplicated rows in the dataset.
ℹ Use `attr(dat, "report")[["duplicated_rows"]]` to access them, where "dat" is
  the object used to store the output from this operation.</code></pre>
</div>
<p>En outre, vous pouvez combiner plusieurs opérations de nettoyage de
données via l’opérateur pipe (<code>|&gt;</code>) de la librairie de
base de R ou celui de la librairie {magrittr} (<code>%&gt;%</code>),
comme illustré à travers le code ci-dessous.</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Exécuter les opérations de nettoyage de données en utilisant l'opérateur %&gt;%</span></span>
<span><span class="va">cleaned_data</span> <span class="op">&lt;-</span> <span class="va">raw_ebola_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_column_names</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">remove_constants</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">remove_duplicates</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">replace_missing_values</span><span class="op">(</span>na_strings <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">check_subject_ids</span><span class="op">(</span></span>
<span>    target_columns <span class="op">=</span> <span class="st">"case_id"</span>,</span>
<span>    range <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">15000</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_dates</span><span class="op">(</span></span>
<span>    target_columns <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"date_onset"</span>, <span class="st">"date_sample"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">convert_to_numeric</span><span class="op">(</span>target_columns <span class="op">=</span> <span class="st">"age"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">check_date_sequence</span><span class="op">(</span></span>
<span>    target_columns <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"date_onset"</span>, <span class="st">"date_sample"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">clean_using_dictionary</span><span class="op">(</span>dictionary <span class="op">=</span> <span class="va">test_dict</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">timespan</span><span class="op">(</span></span>
<span>    target_column <span class="op">=</span> <span class="st">"date_sample"</span>,</span>
<span>    end_date <span class="op">=</span> <span class="fu">as.Date</span><span class="op">(</span><span class="st">"2025-01-03"</span><span class="op">)</span>,</span>
<span>    span_unit <span class="op">=</span> <span class="st">"years"</span>,</span>
<span>    span_column_name <span class="op">=</span> <span class="st">"years_since_collection"</span>,</span>
<span>    span_remainder_unit <span class="op">=</span> <span class="st">"months"</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<div id="discussion3" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Défi</h3>
<div class="callout-content">
<p>Avez-vous remarqué que <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> contient un ensemble
de fonctions pour <strong>diagnostiquer</strong> l’état de propreté des
données et un autre ensemble pour <strong>effectuer</strong> le
nettoyage ?</p>
<p>Identifier les deux groupes :</p>
<ul><li>Sur une feuille de papier, écrivez le nom de chaque fonction dans la
colonne correspondante :</li>
</ul><table class="table"><colgroup><col width="47%"><col width="52%"></colgroup><thead><tr class="header"><th>
<strong>Diagnostiquer</strong> la propreté des données</th>
<th>
<strong>Effectuer</strong> le nettoyage des données</th>
</tr></thead><tbody><tr class="odd"><td>…</td>
<td>…</td>
</tr></tbody></table></div>
</div>
</div>
<div id="accordionInstructor3" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor3" aria-expanded="false" aria-controls="collapseInstructor3">
  <h3 class="accordion-header" id="headingInstructor3">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Remarque de l'instructeur </h3>
</button>
<div id="collapseInstructor3" class="accordion-collapse collapse" data-bs-parent="#accordionInstructor3" aria-labelledby="headingInstructor3">
<div class="accordion-body">
<p>Notez que <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> contient un ensemble de fonctions
pour <strong>diagnostiquer</strong> l’état de propreté des données (par
exemple <code>check_subject_ids()</code> et
<code>check_date_sequence()</code> dans l’extrait de code ci-dessus) et
un autre pour <strong>effecture</strong> les opérations de nettoyage (le
reste des fonctions dans l’exemple ci-dessus).</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="rapport-du-nettoyage-des-données">Rapport du nettoyage des données<a class="anchor" aria-label="anchor" href="#rapport-du-nettoyage-des-donn%C3%A9es"></a></h2>
<hr class="half-width"><p><a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> génère un rapport complet détaillant les
résultats et les actions de tous les fonctions ayant servi au nettoyages
de données. Ce rapport se présente sous la forme d’un fichier HTML qui
s’ouvrira automatiquement dans votre navigateur par défaut. Il comporte
plusieurs sections. Chaque section correspond à une opération spécifique
de nettoyage des données, et un clic sur chaque section vous permet
d’accéder aux résultats de l’opération de nettoyage des données en
question. Cette approche interactive permet aux utilisateurs d’examiner
et d’analyser efficacement les effets des opérations de nettoyage des
données.</p>
<p>Vous pouvez consulter le rapport de nettage de données à l’aide de la
fonction <code>cleanepi::print_report(cleaned_data)</code>.</p>
<p>
<figure><img src="../fig/report_demo.png" alt="Rapport de nettoyage des données" width="600" class="figure"><figcaption><p>
Exemple de rapport de nettoyage de données généré par
<a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>
</p>
<p>
Les rapports de nettoyage de données sont générés par
<a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>.
</p></figcaption></figure></p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Points clés</h3>
<div class="callout-content">
<ul><li>Utiliser <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> pour nettoyer et normaliser les
données à caractère épidémiologiques.</li>
<li>Comprendre comment utiliser <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> pour effectuer
des tâches courantes de nettoyage de données.</li>
<li>Visualiser le rapport de nettoyage des données dans un navigateur,
le consulter et prendre des décisions.</li>
</ul></div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Chapitre Précédent et Suivant"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/read-cases.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Précédent</a>
        <a class="chapter-link float-end" href="../instructor/index.html">Suivant<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/read-cases.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Précédent: Lecture des données
        </a>
        <a class="chapter-link float-end" href="../instructor/index.html" rel="next">
          Accueil
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>Cette leçon est soumise au <a href="CODE_OF_CONDUCT.html">Code de Conduite</a></p>
        <p>

        <a href="https://github.com/epiverse-trace/tutorials-early-fr/edit/main/episodes/clean-data.Rmd" class="external-link">Modifier sur GitHub</a>

	
        | <a href="https://github.com/epiverse-trace/tutorials-early-fr/blob/main/CONTRIBUTING.md" class="external-link">Contribuer</a>
        | <a href="https://github.com/epiverse-trace/tutorials-early-fr/" class="external-link">Code Source</a></p>
				<p><a href="https://github.com/epiverse-trace/tutorials-early-fr/blob/main/CITATION.cff" class="external-link">Citer</a> | <a href="mailto:andree.valle-campos@lshtm.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">À propos</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Modèle publié sous licence <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> par <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Construit avec <a href="https://github.com/epiverse-trace/sandpaper/tree/patch-renv-github-bug" class="external-link">sandpaper (0.16.13.9000)</a>, <a href="https://github.com/carpentries/pegboard/tree/7dc6acfdd6233c0d124a0ecf288325edc40dd96d" class="external-link">pegboard (0.7.9)</a>, et <a href="https://github.com/epiverse-trace/varnish/tree/epiversetheme" class="external-link">varnish (1.0.7.9000)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Retour En Haut"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Retour</span> En Haut
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://epiverse-trace.github.io/tutorials-early-fr/instructor/clean-data.html",
  "inLanguage": "fr",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software,data,lesson,The Carpentries",
  "name": "Nettoyage des données épidémiologiques",
  "creativeWorkStatus": "active",
  "url": "https://epiverse-trace.github.io/tutorials-early-fr/instructor/clean-data.html",
  "identifier": "https://epiverse-trace.github.io/tutorials-early-fr/instructor/clean-data.html",
  "dateCreated": "2025-08-30",
  "dateModified": "2025-08-29",
  "datePublished": "2025-09-02"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

