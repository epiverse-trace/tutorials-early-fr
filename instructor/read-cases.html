<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="fr" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Lire et nettoyer les données de cas, puis créer une tableau de données de cas pour l’analyse d’épidémie avec R: Lecture des données épidémiologiques</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XZ471458FQ');
    </script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/epiverse-trace/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicons/epiverse-trace/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicons/epiverse-trace/favicon-16x16.png"><link rel="manifest" href="../favicons/epiverse-trace/site.webmanifest"><link rel="mask-icon" href="../favicons/epiverse-trace/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav epiverse-trace"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Passer au contenu principal</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="epiverse-trace-logo" alt="epiverse-trace" src="../assets/images/epiverse-trace-logo.svg"><span class="badge text-bg-danger" style="background-color: #FF4955; border-radius: 5px">
          <abbr title="Cette leçon est en version pre-alpha, ce qui signifie qu'elle est au début de son développement, mais n'a pas encore été enseignée.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">Cette leçon est en version pre-alpha, ce qui signifie qu'elle est au début de son développement, mais n'a pas encore été enseignée.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Changer de thème (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Vue Instructeur <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../read-cases.html';">Vue Apprenti</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav epiverse-trace" aria-label="Navigation Principale"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Afficher/cacher la barre de navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="epiverse-trace" src="../assets/images/epiverse-trace-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Lire et nettoyer les données de cas, puis créer une tableau de données de cas pour l’analyse d’épidémie avec R
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Rechercher dans la page 'All In One'" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Lire et nettoyer les données de cas, puis créer une tableau de données de cas pour l’analyse d’épidémie avec R
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Points clés</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Notes de l'instructeur</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extraire toutes les images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Voir plus <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><hr><li><a class="dropdown-item" href="epikinetics-descriptive.html">Descriptive analysis with epikinetics data</a></li><li><a class="dropdown-item" href="epikinetics-statistics.html">Statistical analysis using epikinetics data</a></li><li><a class="dropdown-item" href="reference.html">Glossary of Terms: Epiverse-TRACE</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Rechercher dans la page 'All In One'"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Rechercher dans la page 'All In One'">Rechercher dans la page 'All In One'</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Lire et nettoyer les données de cas, puis créer une tableau de données de cas pour l’analyse d’épidémie avec R
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 0%" class="percentage">
    0%
  </div>
  <div class="progress epiverse-trace">
    <div class="progress-bar epiverse-trace" role="progressbar" style="width: 0%" aria-valuenow="0" aria-label="Avancée de la leçon" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="fermer le menu" alt="fermer le menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Cacher " data-episodes="Épisodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Vue Instructeur
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../read-cases.html">Vue Apprenti</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  ÉPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Résumé et Emploi du Temps</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        1. Lecture des données épidémiologiques
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#introduction">Introduction</a></li>
<li><a href="#lecture-de-fichiers">Lecture de fichiers</a></li>
<li><a href="#lecture-de-donn%C3%A9es-%C3%A0-partir-dune-bases-de-donn%C3%A9es">Lecture de données à partir d’une bases de données</a></li>
<li><a href="#lecture-de-donn%C3%A9es-%C3%A0-partir-de-sis">Lecture de données à partir de SIS</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="clean-data.html">2. Nettoyage des données épidémiologiques</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESSOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Points clés</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Notes de l'instructeur</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extraire toutes les images</a>
                      </li>
                      <hr><li><a class="dropdown-item" href="epikinetics-descriptive.html">Descriptive analysis with epikinetics data</a></li><li><a class="dropdown-item" href="epikinetics-statistics.html">Statistical analysis using epikinetics data</a></li><li><a class="dropdown-item" href="reference.html">Glossary of Terms: Epiverse-TRACE</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="../instructor/aio.html">Voir tout sur une seule page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Chapitre Précédent et Suivant"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/index.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Précédent</a>
        <a class="chapter-link float-end" href="../instructor/clean-data.html">Suivant<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/index.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Accueil
        </a>
        <a class="chapter-link float-end" href="../instructor/clean-data.html" rel="next">
          Suivant: Nettoyage des...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Lecture des données épidémiologiques</h1>
        <p>Dernière mise à jour le 2025-08-28 |

        <a href="https://github.com/epiverse-trace/tutorials-early-fr/edit/main/episodes/read-cases.Rmd" class="external-link">Modifier cette page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <p>Durée estimée : <i aria-hidden="true" data-feather="clock"></i> 30 minutes</p>

        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Afficher toutes les solutions " data-collapse="Cacher toutes les solutions "> Afficher toutes les solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Vue d'ensemble</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>Où stockez-vous habituellement vos données épidémiologiques ?</li>
<li>Quels sont les formats des données que vous utilisez pour vos
analyses ?</li>
<li>Pouvez-vous importer des données à partir de bases de données et de
system d’information de santé (SIS) à travers leur API ?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectifs</h3>
<ul><li>Expliquez comment importer des données épidémiologiques dans
<code>R</code> à partir de différentes sources.</li>
</ul></div>
</div>
</div>
</div>
</div>
<div id="conditions-préalables-à-lutilisation-du-logiciel" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div id="conditions-préalables-à-lutilisation-du-logiciel" class="callout-inner">
<h3 class="callout-title">Conditions préalables à l’utilisation du logiciel</h3>
<div class="callout-content">
<p>Cet épisode nécessite que vous soyez familier avec <strong>Science
des données</strong>: Tâches de base avec R.</p>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a></h2>
<hr class="half-width"><p>L’étape initiale de l’analyse de données épidémiologiques consiste
généralement à importer le jeu de données d’intérêt dans le logiciel
<code>R</code> à partir d’une source locale (comme un fichier sur votre
ordinateur) ou d’une source externe (comme une base de données). Les
données relatives aux épidémies peuvent être stockées dans des fichiers
sous multiples formats, dans des systèmes de gestion de bases de données
relationnelles (SGBDR) ou dans des systèmes d’information sanitaires
(SIS), tels que <a href="https://sormas.org/" class="external-link">SORMAS</a> et <a href="https://dhis2.org/" class="external-link">DHIS2</a> qui fournissent une interface de
programme d’application (API) à la base de données du système afin que
les utilisateurs vérifiés puissent facilement y ajouter et en extraire
des données. Cette dernière option est particulièrement adaptée à la
collecte et au stockage de large données de santé par les institutions.
Cet épisode élucidera le processus de lecture de données à partir de ces
sources.</p>
<p>Commençons par charger la librairie <a href="https://gesistsa.github.io/rio/" class="external-link">rio</a> pour importer
les données stockées dans des fichiers et la librairie
<a href="https://here.r-lib.org/" class="external-link">here</a> pour trouver facilement un chemin d’accès à ces
fichiers dans votre projet RStudio. Nous utiliserons l’opérateur pipe
(<code>%&gt;%</code>) de la librairie <a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a> pour
relier facilement certaines de leurs fonctions, y compris les fonctions
de la librairie de formatage de données <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>. Nous
chargerons donc la librairie <a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a>, qui comprend à la
fois les librairies <a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a> et <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># charger les librairies</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">rio</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">here</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">readepi</span><span class="op">)</span></span></code></pre>
</div>
<div id="lopérateur-double-deux-points" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="lopérateur-double-deux-points" class="callout-inner">
<h3 class="callout-title">L’opérateur double deux-points
(<code>::</code>)</h3>
<div class="callout-content">
<p>L’opérateur <code>::</code> de R permet d’accéder aux fonctions ou
aux objets d’un package spécifique sans attacher l’intégralité du
package (sans faire appel à la function<code>libray()</code>). Il offre
plusieurs avantages, notamment :</p>
<ul><li>Indiquer explicitement le package d’origine d’une fonction,
réduisant ainsi les ambiguïtés et les conflits potentiels lorsque
plusieurs packages possèdent des fonctions portant le même nom.</li>
<li>Permettre d’appeler une fonction depuis un package sans charger
l’intégralité du package avec <code>library()</code>.</li>
</ul><p>Par exemple, la commande <code>dplyr::filter(data, condition)</code>
signifie que nous appelons la fonction <code>filter()</code> depuis la
librairie <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>.</p>
</div>
</div>
</div>
<div id="créez-un-projet-et-un-dossier" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div id="créez-un-projet-et-un-dossier" class="callout-inner">
<h3 class="callout-title">Créez un projet et un dossier</h3>
<div class="callout-content">
<ul><li>Créez un projet RStudio. Si nécessaire, suivez la procédure dans <a href="https://docs.posit.co/ide/user/ide/get-started/#hello-rstudio-projects" class="external-link">guide
pratique sur “Hello RStudio Projects”</a> pour en créer un.</li>
<li>Dans le projet RStudio, créez un dossier <code>data/</code>
dossier.</li>
<li>Dans le dossier <code>data/</code> enregistrez les fichiers au
format CSV <a href="https://epiverse-trace.github.io/tutorials-early/data/ebola_cases_2.csv" class="external-link">ebola_cases_2.csv</a>
et <a href="https://epiverse-trace.github.io/tutorials-early/data/Marburg.zip" class="external-link">marburg.zip</a>.</li>
</ul></div>
</div>
</div>
</section><section><h2 class="section-heading" id="lecture-de-fichiers">Lecture de fichiers<a class="anchor" aria-label="anchor" href="#lecture-de-fichiers"></a></h2>
<hr class="half-width"><p>Ils existent plusieurs librairies pour importer des données
épidémiologiques dans <code>R</code> à partir de fichiers individuels.
Il s’agit notamment de <a href="https://gesistsa.github.io/rio/" class="external-link">{rio}</a>, <a href="https://readr.tidyverse.org/" class="external-link">{readr}</a> de la
<a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a>, <a href="https://bitbucket.org/djhshih/io/src/master/" class="external-link">{io}</a>, <a href="https://cran.r-project.org/web/packages/ImportExport/index.html" class="external-link">{ImportExport}</a>
et <a href="https://rdatatable.gitlab.io/data.table/" class="external-link">{data.table}</a>,
et des fonctions similaires de la librairie de base de R. Ensemble, ces
librairies offrent des méthodes pour lire un ou plusieurs fichiers de
différents formats.</p>
<p>L’exemple ci-dessous montre comment importer un fichier
<code>csv</code> dans <code>R</code> à l’aide de la librairie
<a href="https://gesistsa.github.io/rio/" class="external-link">rio</a>. Nous avons utilisé la librairie <a href="https://here.r-lib.org/" class="external-link">here</a>
pour indiquer à R de rechercher le fichier dans le dossier
<code>data/</code> de votre projet, et la fonction
<code>dplyr::as_tibble()</code> pour le convertir dans un format plus
ordonné en vue d’une analyse ultérieure dans R.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># lire les données</span></span>
<span><span class="co"># exemple:</span></span>
<span><span class="co"># si le chemin d'accès au fichier est "data/raw-data/ebola_cases_2.csv",</span></span>
<span><span class="co"># alors:</span></span>
<span><span class="va">ebola_confirmed</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu">import</span><span class="op">(</span></span>
<span>  <span class="fu">here</span><span class="fu">::</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"ebola_cases_2.csv"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># obtenir un aperçu des données</span></span>
<span><span class="va">ebola_confirmed</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 120 × 4
    year month   day confirm
   &lt;int&gt; &lt;int&gt; &lt;int&gt;   &lt;int&gt;
 1  2014     5    18       1
 2  2014     5    20       2
 3  2014     5    21       4
 4  2014     5    22       6
 5  2014     5    23       1
 6  2014     5    24       2
 7  2014     5    26      10
 8  2014     5    27       8
 9  2014     5    28       2
10  2014     5    29      12
# ℹ 110 more rows</code></pre>
</div>
<p>Vous pouvez aussi importer des fichiers d’autres formats tels que
<code>tsv</code>, <code>xlsx</code>, etc en utilisant la même
fonction.</p>
<div id="pourquoi-devrions-nous-utiliser-la-librairie-here" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="pourquoi-devrions-nous-utiliser-la-librairie-here" class="callout-inner">
<h3 class="callout-title">Pourquoi devrions-nous utiliser la librairie {here}</h3>
<div class="callout-content">
<p>La librairie <a href="https://here.r-lib.org/" class="external-link">here</a> est conçue pour simplifier le
référencement des fichiers dans un projet R en fournissant un moyen
fiable de construire les chemins d’accès aux fichiers par rapport à la
racine du projet. La principale raison de l’utiliser est de s’assurer la
<strong>Compatibilité entre environnements</strong>.</p>
<p>Elle fonctionne à travers différents systèmes d’exploitation
(Windows, Mac, Linux) sans qu’il soit nécessaire d’ajuster les chemins
d’accès aux fichiers.</p>
<ul><li>Sous Windows, les chemins d’accès sont écrits en utilisant des
barres obliques inverses ( <code>\</code> ) comme séparateur entre les
noms de dossiers : <code>"data\raw-data\file.csv"</code>
</li>
<li>Sur les systèmes d’exploitation Unix tels que macOS ou Linux, on
utilise la barre oblique ( <code>/</code> ) pour séparer les noms de
dossiers : <code>"data/raw-data/file.csv"</code>
</li>
</ul><p>La librairie <a href="https://here.r-lib.org/" class="external-link">here</a> permet de renforcer la
reproductibilité de votre travail à travers différents systèmes
d’exploitation. Si vous êtes intéressé par la reproductibilité, nous
vous invitons à <a href="https://epiverse-trace.github.io/research-compendium/" class="external-link">lire ce
tutoriel pour accroître l’accès, la durabilité et la reproductibilité de
vos analyses épidémiques avec R</a>.</p>
</div>
</div>
</div>
<div id="lecture-de-données-compressées" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="lecture-de-données-compressées" class="callout-inner">
<h3 class="callout-title">Lecture de données compressées</h3>
<div class="callout-content">
<p>Pouvez-vous importer les données d’un fichier compressé dans
<code>R</code>?</p>
<p>Téléchargez le <a href="https://epiverse-trace.github.io/tutorials-early/data/Marburg.zip" class="external-link">fichier
compressé</a> contenant les données relatives à l’épidémie de Marburg et
importez-le dans votre environnement de travail.</p>
</div>
</div>
</div>
<div id="accordionHint1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint1" aria-expanded="false" aria-controls="collapseHint1">
  <h4 class="accordion-header" id="headingHint1"> Donner un indice </h4>
</button>
<div id="collapseHint1" class="accordion-collapse collapse" aria-labelledby="headingHint1" data-bs-parent="#accordionHint1">
<div class="accordion-body">
<p>Vous pouvez consulter la <a href="https://gesistsa.github.io/rio/#supported-file-formats" class="external-link">liste
complète des formats de fichiers pris en charge</a> sur le site web de
la librairie <a href="https://gesistsa.github.io/rio/" class="external-link">rio</a>. Pour étendre {rio} à d’autres formats,
vous pouvez installer les librairies correspondantes à l’aide de la
fonction ci-dessous :</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rio</span><span class="fu">::</span><span class="fu">install_formats</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Montrer la solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rio</span><span class="fu">::</span><span class="fu">import</span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"Marburg.zip"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="lecture-de-données-à-partir-dune-bases-de-données">Lecture de données à partir d’une bases de données<a class="anchor" aria-label="anchor" href="#lecture-de-donn%C3%A9es-%C3%A0-partir-dune-bases-de-donn%C3%A9es"></a></h2>
<hr class="half-width"><p>La librarie <code>{readepi}</code> contient des fonctionalités qui
permettent d’importer des données directement des SGBDR ou de SIS (à
travers leurs API). La fonction <code>readepi::read_rdbms()</code>
permet d’importer des données à partir de serveurs tels que Microsoft
SQL, MySQL, PostgreSQL, et SQLite. Elle repose essentiellement sur la
librairie <a href="https://dbi.r-dbi.org/" class="external-link">{DBI}</a> qui sert
d’interface polyvalente pour interagir avec les systèmes de gestion de
bases de données relationnelles (SGBDR).</p>
<div id="avantages-liées-à-limportation-des-données-à-partir-dune-base-de-données" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="avantages-liées-à-limportation-des-données-à-partir-dune-base-de-données" class="callout-inner">
<h3 class="callout-title">Avantages liées à l’importation des données à partir d’une base de données ?</h3>
<div class="callout-content">
<p>La lecture de données directement à partir d’une base de données
permet d’optimiser la quantité de mémoire utilisée par la session R. Si
nous envoyons une requête à la base de données avec des instructions de
filtrage des données (par exemple, select, filter, summarise) avant
d’extraire les données, nous pouvons réduire la charge de mémoire dans
notre session RStudio. À l’inverse, en effectuant toutes les
manipulations de données en dehors du système de gestion de base de
données après lecture de toute la base de données dans R peut entrainer
l’utilisation de beaucoup plus de mémoire (RAM) que possible sur un
ordinateur, pouvant entraîner un ralentissement, voire un blocage de
RStudio.</p>
<p>Les systèmes de gestion de bases de données relationnelles (SGBDR)
présentent également l’avantage de permettre à plusieurs utilisateurs
d’accéder, de stocker et d’analyser simultanément différentes parties de
l’ensemble de données, sans devoir transférer des fichiers individuels,
ce qui rendrait très difficile le suivi de la version la plus à
jour.</p>
</div>
</div>
</div>
<!--
### 1. Etablir la connection à une base de données

Vous pouvez utiliser la fonction `readepi::login()` pour établir une connection avec la base de données comme illuster ci-dessous.


``` r
# etablir la connection avec la base de donnees
rdbms_login <- login(
  from = "mysql-rfam-public.ebi.ac.uk",
  type = "MySQL",
  user_name = "rfamro",
  password = "",
  driver_name = "",
  db_name = "Rfam",
  port = 4497
)
```

### 2. Accéder á la liste des tables de la base de données

Vous pouvez accéder à la liste des noms de tables qui existent dans une base de données en utilisant la function `readepi::show_tables()`.


``` r
# obtenir la liste des tables dans la base de donnees
tables <- show_tables(login = rdbms_login)
tables
```

### 3. Lire les données d'une table dans une base de données

La fonction `readepi::read_rdbms()` permet d'importer les données à travers une requête SQL ou une liste de paramètres.


``` r
# lire les donnees de la table 'author' en utilisant une requete SQL
dat <- readepi::read_rdbms(
  login = rdbms_login,
  query = "select * from author"
)

# lire les donnees de la table 'author' en utilisant une liste de parametres
dat <- read_rdbms(
  login = rdbms_login,
  query = list(table = "author", fields = NULL, filter = NULL)
)
```
-->
<p>Le morceau de code suivant montre en quatre étapes comment créer une
base de données SQLite temporaire en mémoire, stocker le fichier
<code>ebola_confirmed</code> en tant que table, puis la lire :</p>
<div class="section level3">
<h3 id="connectez-vous-à-une-base-de-données">1. Connectez-vous à une base de données<a class="anchor" aria-label="anchor" href="#connectez-vous-%C3%A0-une-base-de-donn%C3%A9es"></a></h3>
<p>Tout d’abord, nous établissons une connexion avec une base de données
SQLite créée sur notre machine et stockée en mémoire locale avec
<code>DBI::dbConnect()</code>.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">DBI</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">RSQLite</span><span class="op">)</span></span>
<span></span>
<span><span class="va">db_connection</span> <span class="op">&lt;-</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu">dbConnect</span><span class="op">(</span></span>
<span>  drv <span class="op">=</span> <span class="fu">RSQLite</span><span class="fu">::</span><span class="fu">SQLite</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  dbname <span class="op">=</span> <span class="st">":memory:"</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<div id="callout1" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">À noter</h3>
<div class="callout-content">
<p>Une connexion réelle à une base de données SQLite externe pourrait
ressembler à ceci (bien que SQLite ne nécessite normalement pas de
<code>host</code>, <code>user</code> ou <code>password</code>; cet
exemple est plus typique pour MySQL/PostgreSQL) :</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">db_connection</span> <span class="op">&lt;-</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu">dbConnect</span><span class="op">(</span></span>
<span>  <span class="fu">RSQLite</span><span class="fu">::</span><span class="fu">SQLite</span><span class="op">(</span><span class="op">)</span>, </span>
<span>  host <span class="op">=</span> <span class="st">"database.epiversetrace.com"</span>,</span>
<span>  user <span class="op">=</span> <span class="st">"juanito"</span>,</span>
<span>  password <span class="op">=</span> <span class="fu">epiversetrace</span><span class="fu">::</span><span class="fu">askForPassword</span><span class="op">(</span><span class="st">"Database password"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="écrire-un-dataframe-local-en-tant-que-table-dans-la-base-de-données">2. Écrire un dataframe local en tant que table dans la base de
données<a class="anchor" aria-label="anchor" href="#%C3%A9crire-un-dataframe-local-en-tant-que-table-dans-la-base-de-donn%C3%A9es"></a></h3>
<p>Ensuite, nous pouvons écrire <code>ebola_confirmed</code> dans une
table nommée <code>cases</code> dans la base de données à l’aide de
<code>DBI::dbWriteTable()</code> :</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">DBI</span><span class="fu">::</span><span class="fu">dbWriteTable</span><span class="op">(</span></span>
<span>  conn <span class="op">=</span> <span class="va">db_connection</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"cases"</span>,</span>
<span>  value <span class="op">=</span> <span class="va">ebola_confirmed</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<p>Dans un contexte de base de données, vous pouvez avoir plusieurs
tables. Chaque table peut représenter une <code>entity</code> (par
exemple, les patients, les unités de soins, les emplois). Toutes les
tables peuvent être reliées par un identifiant commun ou
<code>primary key</code>.</p>
</div>
<div class="section level3">
<h3 id="lire-les-données-dune-table-dans-une-base-de-données">3. Lire les données d’une table dans une base de données<a class="anchor" aria-label="anchor" href="#lire-les-donn%C3%A9es-dune-table-dans-une-base-de-donn%C3%A9es"></a></h3>
<!-- Subsequently, we reads the data from the `cases` table using `DBI::dbReadTable()`. -->
<!-- ```{r,warning=FALSE,message=FALSE} -->
<!-- # Read data from the 'cases' table -->
<!-- extracted_data <- DBI::dbReadTable( -->
<!--   conn = db_connection, -->
<!--   name = "cases" -->
<!-- ) -->
<!-- ``` -->
<p>Ensuite, nous lisons les données de la table <code>cases</code> en
utilisant <code>dplyr::tbl()</code>.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mytable_db</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">tbl</span><span class="op">(</span>src <span class="op">=</span> <span class="va">db_connection</span>, <span class="st">"cases"</span><span class="op">)</span></span></code></pre>
</div>
<p>Si nous appliquons <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> à cette base de données
SQLite, ces verbes seront traduits en requêtes SQL.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mytable_db</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">filter</span><span class="op">(</span><span class="va">confirm</span> <span class="op">&gt;</span> <span class="fl">50</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">confirm</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">show_query</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;SQL&gt;
SELECT `cases`.*
FROM `cases`
WHERE (`confirm` &gt; 50.0)
ORDER BY `confirm` DESC</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="extraire-des-données-de-la-base-de-données">4. Extraire des données de la base de données<a class="anchor" aria-label="anchor" href="#extraire-des-donn%C3%A9es-de-la-base-de-donn%C3%A9es"></a></h3>
<p>Utiliser <code>dplyr::collect()</code> pour forcer le calcul d’une
requête de base de données et extraire la sortie sur votre ordinateur
local.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">extracted_data</span> <span class="op">&lt;-</span> <span class="va">mytable_db</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">filter</span><span class="op">(</span><span class="va">confirm</span> <span class="op">&gt;</span> <span class="fl">50</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">confirm</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">collect</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p>L’objet <code>extracted_data</code> représente l’extrait, idéalement
après avoir spécifié des requêtes qui réduisent sa taille.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">extracted_data</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 3 × 4
   year month   day confirm
  &lt;int&gt; &lt;int&gt; &lt;int&gt;   &lt;int&gt;
1  2014     9    16      84
2  2014     9    15      68
3  2014     9    17      56</code></pre>
</div>
<div id="exécutez-des-requêtes-sql-dans-r-à-laide-de-dbplyr" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="exécutez-des-requêtes-sql-dans-r-à-laide-de-dbplyr" class="callout-inner">
<h3 class="callout-title">Exécutez des requêtes SQL dans R à l’aide de dbplyr</h3>
<div class="callout-content">
<p>Entraînez-vous à faire des requêtes SQL sur des bases de données
relationnelles en utilisant plusieurs logiciels. Les verbes
<a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> comme <code>dplyr::left_join()</code> peuvent être
appliqués entre les tables avant d’extraire les données vers votre
session locale avec <code>dplyr::collect()</code> !</p>
<p>Vous pouvez également consulter le package <a href="https://dbplyr.tidyverse.org/" class="external-link">dbplyr</a> en
R. Pour un tutoriel pas à pas sur SQL, nous recommandons le <a href="https://datacarpentry.org/sql-ecology-lesson/" class="external-link">tutoriel sur la
gestion des données avec SQL pour écologistes</a>, qui montre
l’utilisation de <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> avec SQL.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="fermez-la-connexion-à-la-base-de-données">5. Fermez la connexion à la base de données<a class="anchor" aria-label="anchor" href="#fermez-la-connexion-%C3%A0-la-base-de-donn%C3%A9es"></a></h3>
<p>Enfin, nous pouvons fermer la connexion à la base de données avec
<code>dbDisconnect()</code>.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">DBI</span><span class="fu">::</span><span class="fu">dbDisconnect</span><span class="op">(</span>conn <span class="op">=</span> <span class="va">db_connection</span><span class="op">)</span></span></code></pre>
</div>
</div>
</section><section><h2 class="section-heading" id="lecture-de-données-à-partir-de-sis">Lecture de données à partir de SIS<a class="anchor" aria-label="anchor" href="#lecture-de-donn%C3%A9es-%C3%A0-partir-de-sis"></a></h2>
<hr class="half-width"><p>Les données relatives à la santé sont de plus en plus souvent
stockées dans des SIS spécialisées telles que
<strong>Fingertips</strong>, <strong>GoData</strong>,
<strong>REDCap</strong>, <strong>DHIS2</strong>,
<strong>SORMAS</strong>, etc. La version actuelle de la librairie
<code>{readepi}</code> permet d’importer des données à partir de
<strong>DHIS2</strong> et <strong>SORMAS</strong>.</p>
<div class="section level3">
<h3 id="lecture-des-données-à-partir-de-dhis2">Lecture des données à partir de DHIS2<a class="anchor" aria-label="anchor" href="#lecture-des-donn%C3%A9es-%C3%A0-partir-de-dhis2"></a></h3>
<p>Le système d’information sanitaire de district <a href="https://dhis2.org/about/" class="external-link">DHIS2</a> est un logiciel open source
qui a révolutionné la gestion des informations sanitaires mondiales. La
fonction <code>readepi::read_dhis2()</code> permet d’importer des
données depuis le system <a href="https://dhis2.org/tracker-in-action/" class="external-link">Tracker</a> de DHIS2 via
leurs API.</p>
<p>Pour cela, il faudra établir la connection au système en utilisant la
fonction <code>readepi::login()</code>, puis fornir le nom ou
l’identifiant du programme et de l’unité organisationnelle (structure
sanitaire, localité, pays, etc) cible.</p>
<p>Pour un système donné, vous pouvez accéder aux identifiants et noms
des programmes et structure sanitaires en utilisant les fonctions
<code>get_programs()</code> et <code>get_organisation_units()</code>
respectivement.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># etablir la connection au systeme</span></span>
<span><span class="va">dhis2_login</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">login</span><span class="op">(</span></span>
<span>  from <span class="op">=</span> <span class="st">"https://smc.moh.gm/dhis"</span>,</span>
<span>  user_name <span class="op">=</span> <span class="st">"test"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"Gambia@123"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># obtenir les noms et identifiants des programmes</span></span>
<span><span class="va">programs</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">get_programs</span><span class="op">(</span>login <span class="op">=</span> <span class="va">dhis2_login</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># obtenir les noms et identifiants des unites organisationnelles</span></span>
<span><span class="va">org_units</span> <span class="op">&lt;-</span> <span class="fu">get_organisation_units</span><span class="op">(</span>login <span class="op">=</span> <span class="va">dhis2_login</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># importer les donnees a partir de DHIS2 en utilisant les identifiants</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">read_dhis2</span><span class="op">(</span></span>
<span>  login <span class="op">=</span> <span class="va">dhis2_login</span>,</span>
<span>  org_unit <span class="op">=</span> <span class="st">"GcLhRNAFppR"</span>,</span>
<span>  program <span class="op">=</span> <span class="st">"E5IUQuHg3Mg"</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<!--
<!--` ` ` r
<!--# importer les donnees a partir de DHIS2 en utilisant les noms
<!--data <- readepi::read_dhis2(
<!--  login = dhis2_login,
<!--  org_unit = "Keneba",
<!--  program = "Child Registration & Treatment "
<!--)
<!--` ` `
-->
<p>Il est important de savoir que toutes les unités organisationnelles
(structures sanitaires) ne sont pas enregistrées pour un programme
spécifique. Pour connaître les unités organisationnelles qui exécutent
un programme particulier, utilisez la fonction
<code>get_program_org_units()</code> comme illustré dans l’exemple
ci-dessous.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># obtenir les unités organisationnelles qui exécutent un programme "E5IUQuHg3Mg"</span></span>
<span><span class="va">target_org_units</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">get_program_org_units</span><span class="op">(</span></span>
<span>  login <span class="op">=</span> <span class="va">dhis2_login</span>,</span>
<span>  program <span class="op">=</span> <span class="st">"E5IUQuHg3Mg"</span>,</span>
<span>  org_units <span class="op">=</span> <span class="va">org_units</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="lecture-des-données-à-partir-de-sormas">Lecture des données à partir de SORMAS<a class="anchor" aria-label="anchor" href="#lecture-des-donn%C3%A9es-%C3%A0-partir-de-sormas"></a></h3>
<p>Le Système de surveillance, de gestion et d’analyse des réponses aux
épidémies <a href="https://sormas.org/" class="external-link">SORMAS</a> est un système de
santé digital open source qui optimise les processus de surveillance de
la propagation des maladies infectieuses et de réponse aux épidémies. La
fonction <code>readepi::read_sormas()</code> permet d’importer des
données depuis SORMAS via son API.</p>
<p>Dans la version actuelle de la librairie <code>{readepi}</code>, la
fonction <code>read_sormas()</code> renvoie des données pour les
colonnes suivantes: <strong>case_id, person_id, sex, date_of_birth,
case_origin, country, city, lat, long, case_status, date_onset,
date_admission, date_last_contact, date_first_contact, outcome,
date_outcome, Ct_values</strong>.</p>
<p>Un des arguments fondamentals est le nom de la maladie pour laquelle
l’utilisateur souhaite obtenir des données. Pour vous assurez de la
vraie synthaxe à utiliser lors de l’appel à la fonction, vous pouvez
obtenir la liste des noms de maladies à travers la fonction
<code>sormas_get_diseases()</code>.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># obtenir la liste des noms de maladies</span></span>
<span><span class="va">disease_names</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">sormas_get_diseases</span><span class="op">(</span></span>
<span>  base_url <span class="op">=</span> <span class="st">"https://demo.sormas.org/sormas-rest"</span>,</span>
<span>  user_name <span class="op">=</span> <span class="st">"SurvSup"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"Lk5R7JXeZSEc"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># obtenir les donnees de tous les cas de COVID-19</span></span>
<span><span class="va">covid_cases</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">read_sormas</span><span class="op">(</span></span>
<span>  base_url <span class="op">=</span> <span class="st">"https://demo.sormas.org/sormas-rest"</span>,</span>
<span>  user_name <span class="op">=</span> <span class="st">"SurvSup"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"Lk5R7JXeZSEc"</span>,</span>
<span>  disease <span class="op">=</span> <span class="st">"coronavirus"</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Points clés</h3>
<div class="callout-content">
<ul><li>Utilisez <a href="https://gesistsa.github.io/rio/" class="external-link">rio</a>, <a href="https://bitbucket.org/djhshih/io" class="external-link">io</a>, <a href="https://readr.tidyverse.org" class="external-link">readr</a>
et <code>{ImportExport}</code> pour importer les données à partir des
fichiers.</li>
<li>Utilisez <code>{readepi}</code> pour importer les données à partir
des SIS et SGBDR.</li>
</ul></div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Chapitre Précédent et Suivant"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/index.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Précédent</a>
        <a class="chapter-link float-end" href="../instructor/clean-data.html">Suivant<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/index.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Accueil
        </a>
        <a class="chapter-link float-end" href="../instructor/clean-data.html" rel="next">
          Suivant: Nettoyage des...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>Cette leçon est soumise au <a href="CODE_OF_CONDUCT.html">Code de Conduite</a></p>
        <p>

        <a href="https://github.com/epiverse-trace/tutorials-early-fr/edit/main/episodes/read-cases.Rmd" class="external-link">Modifier sur GitHub</a>

	
        | <a href="https://github.com/epiverse-trace/tutorials-early-fr/blob/main/CONTRIBUTING.md" class="external-link">Contribuer</a>
        | <a href="https://github.com/epiverse-trace/tutorials-early-fr/" class="external-link">Code Source</a></p>
				<p><a href="https://github.com/epiverse-trace/tutorials-early-fr/blob/main/CITATION.cff" class="external-link">Citer</a> | <a href="mailto:andree.valle-campos@lshtm.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">À propos</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Modèle publié sous licence <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> par <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Construit avec <a href="https://github.com/epiverse-trace/sandpaper/tree/patch-renv-github-bug" class="external-link">sandpaper (0.16.13.9000)</a>, <a href="https://github.com/carpentries/pegboard/tree/7dc6acfdd6233c0d124a0ecf288325edc40dd96d" class="external-link">pegboard (0.7.9)</a>, et <a href="https://github.com/epiverse-trace/varnish/tree/epiversetheme" class="external-link">varnish (1.0.7.9000)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Retour En Haut"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Retour</span> En Haut
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://epiverse-trace.github.io/tutorials-early-fr/instructor/read-cases.html",
  "inLanguage": "fr",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software,data,lesson,The Carpentries",
  "name": "Lecture des données épidémiologiques",
  "creativeWorkStatus": "active",
  "url": "https://epiverse-trace.github.io/tutorials-early-fr/instructor/read-cases.html",
  "identifier": "https://epiverse-trace.github.io/tutorials-early-fr/instructor/read-cases.html",
  "dateCreated": "2025-08-29",
  "dateModified": "2025-08-28",
  "datePublished": "2025-08-29"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

