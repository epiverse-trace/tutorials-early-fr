<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="fr" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Lire et nettoyer les données de cas, puis créer une tableau de données de cas pour l’analyse d’épidémie avec R: Tout sur une seule page</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css">
<script src="assets/scripts.js" type="text/javascript"></script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XZ471458FQ');
    </script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/epiverse-trace/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicons/epiverse-trace/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicons/epiverse-trace/favicon-16x16.png">
<link rel="manifest" href="favicons/epiverse-trace/site.webmanifest">
<link rel="mask-icon" href="favicons/epiverse-trace/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav epiverse-trace"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Passer au contenu principal</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="epiverse-trace-logo" alt="epiverse-trace" src="assets/images/epiverse-trace-logo.svg"><span class="badge text-bg-danger" style="background-color: #FF4955; border-radius: 5px">
          <abbr title="Cette leçon est en version pre-alpha, ce qui signifie qu'elle est au début de son développement, mais n'a pas encore été enseignée.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">Cette leçon est en version pre-alpha, ce qui signifie qu'elle est au début de son développement, mais n'a pas encore été enseignée.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Changer de thème (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Vue Apprenti <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/aio.html';">Vue Instructeur</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav epiverse-trace" aria-label="Navigation Principale"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Afficher/cacher la barre de navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="epiverse-trace" src="assets/images/epiverse-trace-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Lire et nettoyer les données de cas, puis créer une tableau de données de cas pour l’analyse d’épidémie avec R
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Rechercher dans la page 'All In One'" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Lire et nettoyer les données de cas, puis créer une tableau de données de cas pour l’analyse d’épidémie avec R
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Points clés</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossaire</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Profils d'apprentissage</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Voir plus <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="epikinetics-descriptive.html">Descriptive analysis with epikinetics data</a></li>
<li><a class="dropdown-item" href="epikinetics-statistics.html">Statistical analysis using epikinetics data</a></li>
<li><a class="dropdown-item" href="reference.html">Glossary of Terms: Epiverse-TRACE</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Rechercher dans la page 'All In One'"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Rechercher dans la page 'All In One'">Rechercher dans la page 'All In One'</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Lire et nettoyer les données de cas, puis créer une tableau de données de cas pour l’analyse d’épidémie avec R
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress epiverse-trace">
    <div class="progress-bar epiverse-trace" role="progressbar" style="width: %" aria-valuenow="" aria-label="Avancée de la leçon" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="fermer le menu" alt="fermer le menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Cacher " data-episodes="Épisodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Vue Apprenti
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/aio.html">Vue Instructeur</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  ÉPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Résumé et Mise en Place</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="read-cases.html">1. Lecture des données épidémiologiques</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="clean-data.html">2. Nettoyage des données épidémiologiques</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="validate.html">3. Valider les données épidémiologiques</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="describe-cases.html">4. Agréger et visualiser les données épidémiologiques</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESSOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="key-points.html">Points clés</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossaire</a>
                      </li>
                      <li>
                        <a href="profiles.html">Profils d'apprentissage</a>
                      </li>
                      <li><a href="epikinetics-descriptive.html">Descriptive analysis with epikinetics data</a></li>
<li><a href="epikinetics-statistics.html">Statistical analysis using epikinetics data</a></li>
<li><a href="reference.html">Glossary of Terms: Epiverse-TRACE</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="aio.html">Voir tout sur une seule page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-read-cases"><p>Content from <a href="read-cases.html">Lecture des données épidémiologiques</a></p>
<hr>
<p>Dernière mise à jour le 2025-08-29 |

        <a href="https://github.com/epiverse-trace/tutorials-early-fr/edit/main/episodes/read-cases.Rmd" class="external-link">Modifier cette page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Afficher toutes les solutions " data-collapse="Cacher toutes les solutions "> Afficher toutes les solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Vue d'ensemble</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>Où stockez-vous habituellement vos données épidémiologiques ?</li>
<li>Quels sont les formats des données que vous utilisez pour vos
analyses ?</li>
<li>Pouvez-vous importer des données à partir de bases de données et de
system d’information de santé (SIS) à travers leur API ?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectifs</h3>
<ul>
<li>Expliquez comment importer des données épidémiologiques dans
<code>R</code> à partir de différentes sources.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="conditions-préalables-à-lutilisation-du-logiciel" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div id="conditions-préalables-à-lutilisation-du-logiciel" class="callout-inner">
<h3 class="callout-title">Conditions préalables à l’utilisation du logiciel</h3>
<div class="callout-content">
<p>Cet épisode nécessite que vous soyez familier avec <strong>Science
des données</strong>: Tâches de base avec R.</p>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>L’étape initiale de l’analyse de données épidémiologiques consiste
généralement à importer le jeu de données d’intérêt dans le logiciel
<code>R</code> à partir d’une source locale (comme un fichier sur votre
ordinateur) ou d’une source externe (comme une base de données). Les
données relatives aux épidémies peuvent être stockées dans des fichiers
sous multiples formats, dans des systèmes de gestion de bases de données
relationnelles (SGBDR) ou dans des systèmes d’information sanitaires
(SIS), tels que <a href="https://sormas.org/" class="external-link">SORMAS</a> et <a href="https://dhis2.org/" class="external-link">DHIS2</a> qui fournissent une interface de
programme d’application (API) à la base de données du système afin que
les utilisateurs vérifiés puissent facilement y ajouter et en extraire
des données. Cette dernière option est particulièrement adaptée à la
collecte et au stockage de large données de santé par les institutions.
Cet épisode élucidera le processus de lecture de données à partir de ces
sources.</p>
<p>Commençons par charger la librairie <a href="https://gesistsa.github.io/rio/" class="external-link">rio</a> pour importer
les données stockées dans des fichiers et la librairie
<a href="https://here.r-lib.org/" class="external-link">here</a> pour trouver facilement un chemin d’accès à ces
fichiers dans votre projet RStudio. Nous utiliserons l’opérateur pipe
(<code>%&gt;%</code>) de la librairie <a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a> pour
relier facilement certaines de leurs fonctions, y compris les fonctions
de la librairie de formatage de données <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>. Nous
chargerons donc la librairie <a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a>, qui comprend à la
fois les librairies <a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a> et <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># charger les librairies</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">rio</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">here</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">readepi</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">dbplyr</span><span class="op">)</span></span></code></pre>
</div>
<div id="lopérateur-double-deux-points" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="lopérateur-double-deux-points" class="callout-inner">
<h3 class="callout-title">L’opérateur double deux-points
(<code>::</code>)</h3>
<div class="callout-content">
<p>L’opérateur <code>::</code> de R permet d’accéder aux fonctions ou
aux objets d’un package spécifique sans attacher l’intégralité du
package (sans faire appel à la function<code>libray()</code>). Il offre
plusieurs avantages, notamment :</p>
<ul>
<li>Indiquer explicitement le package d’origine d’une fonction,
réduisant ainsi les ambiguïtés et les conflits potentiels lorsque
plusieurs packages possèdent des fonctions portant le même nom.</li>
<li>Permettre d’appeler une fonction depuis un package sans charger
l’intégralité du package avec <code>library()</code>.</li>
</ul>
<p>Par exemple, la commande <code>dplyr::filter(data, condition)</code>
signifie que nous appelons la fonction <code>filter()</code> depuis la
librairie <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>.</p>
</div>
</div>
</div>
<div id="créez-un-projet-et-un-dossier" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div id="créez-un-projet-et-un-dossier" class="callout-inner">
<h3 class="callout-title">Créez un projet et un dossier</h3>
<div class="callout-content">
<ul>
<li>Créez un projet RStudio. Si nécessaire, suivez la procédure dans <a href="https://docs.posit.co/ide/user/ide/get-started/#hello-rstudio-projects" class="external-link">guide
pratique sur “Hello RStudio Projects”</a> pour en créer un.</li>
<li>Dans le projet RStudio, créez un dossier <code>data/</code>
dossier.</li>
<li>Dans le dossier <code>data/</code> enregistrez les fichiers au
format CSV <a href="https://epiverse-trace.github.io/tutorials-early/data/ebola_cases_2.csv" class="external-link">ebola_cases_2.csv</a>
et <a href="https://epiverse-trace.github.io/tutorials-early/data/Marburg.zip" class="external-link">marburg.zip</a>.</li>
</ul>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="lecture-de-fichiers">Lecture de fichiers<a class="anchor" aria-label="anchor" href="#lecture-de-fichiers"></a>
</h2>
<hr class="half-width">
<p>Ils existent plusieurs librairies pour importer des données
épidémiologiques dans <code>R</code> à partir de fichiers individuels.
Il s’agit notamment de <a href="https://gesistsa.github.io/rio/" class="external-link">{rio}</a>, <a href="https://readr.tidyverse.org/" class="external-link">{readr}</a> de la
<a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a>, <a href="https://bitbucket.org/djhshih/io/src/master/" class="external-link">{io}</a>, <a href="https://cran.r-project.org/web/packages/ImportExport/index.html" class="external-link">{ImportExport}</a>
et <a href="https://rdatatable.gitlab.io/data.table/" class="external-link">{data.table}</a>,
et des fonctions similaires de la librairie de base de R. Ensemble, ces
librairies offrent des méthodes pour lire un ou plusieurs fichiers de
différents formats.</p>
<p>L’exemple ci-dessous montre comment importer un fichier
<code>csv</code> dans <code>R</code> à l’aide de la librairie
<a href="https://gesistsa.github.io/rio/" class="external-link">rio</a>. Nous avons utilisé la librairie <a href="https://here.r-lib.org/" class="external-link">here</a>
pour indiquer à R de rechercher le fichier dans le dossier
<code>data/</code> de votre projet, et la fonction
<code>dplyr::as_tibble()</code> pour le convertir dans un format plus
ordonné en vue d’une analyse ultérieure dans R.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># lire les données</span></span>
<span><span class="co"># exemple:</span></span>
<span><span class="co"># si le chemin d'accès au fichier est "data/raw-data/ebola_cases_2.csv",</span></span>
<span><span class="co"># alors:</span></span>
<span><span class="va">ebola_confirmed</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu">import</span><span class="op">(</span></span>
<span>  <span class="fu">here</span><span class="fu">::</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"ebola_cases_2.csv"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># obtenir un aperçu des données</span></span>
<span><span class="va">ebola_confirmed</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 120 × 4
    year month   day confirm
   &lt;int&gt; &lt;int&gt; &lt;int&gt;   &lt;int&gt;
 1  2014     5    18       1
 2  2014     5    20       2
 3  2014     5    21       4
 4  2014     5    22       6
 5  2014     5    23       1
 6  2014     5    24       2
 7  2014     5    26      10
 8  2014     5    27       8
 9  2014     5    28       2
10  2014     5    29      12
# ℹ 110 more rows</code></pre>
</div>
<p>Vous pouvez aussi importer des fichiers d’autres formats tels que
<code>tsv</code>, <code>xlsx</code>, etc en utilisant la même
fonction.</p>
<div id="pourquoi-devrions-nous-utiliser-la-librairie-here" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="pourquoi-devrions-nous-utiliser-la-librairie-here" class="callout-inner">
<h3 class="callout-title">Pourquoi devrions-nous utiliser la librairie {here}</h3>
<div class="callout-content">
<p>La librairie <a href="https://here.r-lib.org/" class="external-link">here</a> est conçue pour simplifier le
référencement des fichiers dans un projet R en fournissant un moyen
fiable de construire les chemins d’accès aux fichiers par rapport à la
racine du projet. La principale raison de l’utiliser est de s’assurer la
<strong>Compatibilité entre environnements</strong>.</p>
<p>Elle fonctionne à travers différents systèmes d’exploitation
(Windows, Mac, Linux) sans qu’il soit nécessaire d’ajuster les chemins
d’accès aux fichiers.</p>
<ul>
<li>Sous Windows, les chemins d’accès sont écrits en utilisant des
barres obliques inverses ( <code>\</code> ) comme séparateur entre les
noms de dossiers : <code>"data\raw-data\file.csv"</code>
</li>
<li>Sur les systèmes d’exploitation Unix tels que macOS ou Linux, on
utilise la barre oblique ( <code>/</code> ) pour séparer les noms de
dossiers : <code>"data/raw-data/file.csv"</code>
</li>
</ul>
<p>La librairie <a href="https://here.r-lib.org/" class="external-link">here</a> permet de renforcer la
reproductibilité de votre travail à travers différents systèmes
d’exploitation. Si vous êtes intéressé par la reproductibilité, nous
vous invitons à <a href="https://epiverse-trace.github.io/research-compendium/" class="external-link">lire ce
tutoriel pour accroître l’accès, la durabilité et la reproductibilité de
vos analyses épidémiques avec R</a>.</p>
</div>
</div>
</div>
<div id="lecture-de-données-compressées" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="lecture-de-données-compressées" class="callout-inner">
<h3 class="callout-title">Lecture de données compressées</h3>
<div class="callout-content">
<p>Pouvez-vous importer les données d’un fichier compressé dans
<code>R</code>?</p>
<p>Téléchargez le <a href="https://epiverse-trace.github.io/tutorials-early/data/Marburg.zip" class="external-link">fichier
compressé</a> contenant les données relatives à l’épidémie de Marburg et
importez-le dans votre environnement de travail.</p>
</div>
</div>
</div>
<div id="accordionHint1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint1" aria-expanded="false" aria-controls="collapseHint1">
  <h4 class="accordion-header" id="headingHint1"> Donner un indice </h4>
</button>
<div id="collapseHint1" class="accordion-collapse collapse" data-bs-parent="#accordionHint1" aria-labelledby="headingHint1">
<div class="accordion-body">
<p>Vous pouvez consulter la <a href="https://gesistsa.github.io/rio/#supported-file-formats" class="external-link">liste
complète des formats de fichiers pris en charge</a> sur le site web de
la librairie <a href="https://gesistsa.github.io/rio/" class="external-link">rio</a>. Pour étendre {rio} à d’autres formats,
vous pouvez installer les librairies correspondantes à l’aide de la
fonction ci-dessous :</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rio</span><span class="fu">::</span><span class="fu">install_formats</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Montrer la solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rio</span><span class="fu">::</span><span class="fu">import</span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"Marburg.zip"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="lecture-de-données-à-partir-dune-bases-de-données">Lecture de données à partir d’une bases de données<a class="anchor" aria-label="anchor" href="#lecture-de-donn%C3%A9es-%C3%A0-partir-dune-bases-de-donn%C3%A9es"></a>
</h2>
<hr class="half-width">
<p>La librarie <code>{readepi}</code> contient des fonctionalités qui
permettent d’importer des données directement des SGBDR ou de SIS (à
travers leurs API). La fonction <code>readepi::read_rdbms()</code>
permet d’importer des données à partir de serveurs tels que Microsoft
SQL, MySQL, PostgreSQL, et SQLite. Elle repose essentiellement sur la
librairie <a href="https://dbi.r-dbi.org/" class="external-link">{DBI}</a> qui sert
d’interface polyvalente pour interagir avec les systèmes de gestion de
bases de données relationnelles (SGBDR).</p>
<div id="avantages-liées-à-limportation-des-données-à-partir-dune-base-de-données" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="avantages-liées-à-limportation-des-données-à-partir-dune-base-de-données" class="callout-inner">
<h3 class="callout-title">Avantages liées à l’importation des données à partir d’une base de données ?</h3>
<div class="callout-content">
<p>La lecture de données directement à partir d’une base de données
permet d’optimiser la quantité de mémoire utilisée par la session R. Si
nous envoyons une requête à la base de données avec des instructions de
filtrage des données (par exemple, select, filter, summarise) avant
d’extraire les données, nous pouvons réduire la charge de mémoire dans
notre session RStudio. À l’inverse, en effectuant toutes les
manipulations de données en dehors du système de gestion de base de
données après lecture de toute la base de données dans R peut entrainer
l’utilisation de beaucoup plus de mémoire (RAM) que possible sur un
ordinateur, pouvant entraîner un ralentissement, voire un blocage de
RStudio.</p>
<p>Les systèmes de gestion de bases de données relationnelles (SGBDR)
présentent également l’avantage de permettre à plusieurs utilisateurs
d’accéder, de stocker et d’analyser simultanément différentes parties de
l’ensemble de données, sans devoir transférer des fichiers individuels,
ce qui rendrait très difficile le suivi de la version la plus à
jour.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="etablir-la-connection-à-une-base-de-données">1. Etablir la connection à une base de données<a class="anchor" aria-label="anchor" href="#etablir-la-connection-%C3%A0-une-base-de-donn%C3%A9es"></a>
</h3>
<p>Vous pouvez utiliser la fonction <code>readepi::login()</code> pour
établir une connection avec la base de données comme illuster
ci-dessous.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># etablir la connection avec la base de donnees</span></span>
<span><span class="va">rdbms_login</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">login</span><span class="op">(</span></span>
<span>  from <span class="op">=</span> <span class="st">"mysql-rfam-public.ebi.ac.uk"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"MySQL"</span>,</span>
<span>  user_name <span class="op">=</span> <span class="st">"rfamro"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">""</span>,</span>
<span>  driver_name <span class="op">=</span> <span class="st">""</span>,</span>
<span>  db_name <span class="op">=</span> <span class="st">"Rfam"</span>,</span>
<span>  port <span class="op">=</span> <span class="fl">4497</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>✔ Logged in successfully!</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rdbms_login</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;Pool&gt; of MySQLConnection objects
  Objects checked out: 0
  Available in pool: 1
  Max size: Inf
  Valid: TRUE</code></pre>
</div>
<div id="callout1" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">À noter</h3>
<div class="callout-content">
<p>Dans cet exemple, l’accès peut être limité par des restrictions
réseau organisationnelles, mais il devrait fonctionner normalement sur
les réseaux domestiques</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="accéder-á-la-liste-des-tables-de-la-base-de-données">2. Accéder á la liste des tables de la base de données<a class="anchor" aria-label="anchor" href="#acc%C3%A9der-%C3%A1-la-liste-des-tables-de-la-base-de-donn%C3%A9es"></a>
</h3>
<p>Vous pouvez accéder à la liste des noms de tables qui existent dans
une base de données en utilisant la function
<code>readepi::show_tables()</code>.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># obtenir la liste des tables dans la base de donnees</span></span>
<span><span class="va">tables</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">show_tables</span><span class="op">(</span>login <span class="op">=</span> <span class="va">rdbms_login</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tables</span></span></code></pre>
</div>
<p>Dans un cadre de base de données, vous pouvez avoir plusieurs
tables.<br>
Chaque table peut correspondre à une <code>entité</code> spécifique (par
ex. patients, unités de soins, emplois).<br>
Toutes les tables sont liées par un identifiant commun ou une
<code>clé primaire</code>.</p>
</div>
<div class="section level3">
<h3 id="lire-les-données-dune-table-dans-une-base-de-données">3. Lire les données d’une table dans une base de données<a class="anchor" aria-label="anchor" href="#lire-les-donn%C3%A9es-dune-table-dans-une-base-de-donn%C3%A9es"></a>
</h3>
<p>La fonction <code>readepi::read_rdbms()</code> permet d’importer les
données à travers une requête SQL ou une liste de paramètres.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># lire les donnees de la table 'author' en utilisant une requete SQL</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">read_rdbms</span><span class="op">(</span></span>
<span>  login <span class="op">=</span> <span class="va">rdbms_login</span>,</span>
<span>  query <span class="op">=</span> <span class="st">"select * from author"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># lire les donnees de la table 'author' en utilisant une liste de parametres</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">read_rdbms</span><span class="op">(</span></span>
<span>  login <span class="op">=</span> <span class="va">rdbms_login</span>,</span>
<span>  query <span class="op">=</span> <span class="fu">list</span><span class="op">(</span>table <span class="op">=</span> <span class="st">"author"</span>, fields <span class="op">=</span> <span class="cn">NULL</span>, filter <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<p>Alternativement, nous pouvons lire les données de la table
<code>author</code> en utilisant <code>dplyr::tbl()</code>.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># lire les donnees de la table 'author' en utilisant une requete SQL</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">rdbms_login</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">tbl</span><span class="op">(</span>from <span class="op">=</span> <span class="st">"author"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">filter</span><span class="op">(</span><span class="va">initials</span> <span class="op">==</span> <span class="st">"A"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">author_id</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Source:     SQL [?? x 6]
# Database:   mysql 5.6.36-log [@mysql-rfam-public.ebi.ac.uk:/Rfam]
# Ordered by: desc(author_id)
  author_id name           last_name    initials orcid                 synonyms
      &lt;int&gt; &lt;chr&gt;          &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt;                 &lt;chr&gt;
1        46 Roth A         Roth         A        ""                    ""
2        42 Nahvi A        Nahvi        A        ""                    ""
3        32 Machado Lima A Machado Lima A        ""                    ""
4        31 Levy A         Levy         A        ""                    ""
5        27 Gruber A       Gruber       A        "0000-0003-1219-4239" ""
6        13 Chen A         Chen         A        ""                    ""
7         6 Bateman A      Bateman      A        "0000-0002-6982-4660" ""      </code></pre>
</div>
<p>Si nous appliquons <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> à cette base de données
SQLite, ces verbes seront traduits en requêtes SQL.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">show_query</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;SQL&gt;
SELECT `author`.*
FROM `author`
WHERE (`initials` = 'A')
ORDER BY `author_id` DESC</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="extraire-des-données-de-la-base-de-données">4. Extraire des données de la base de données<a class="anchor" aria-label="anchor" href="#extraire-des-donn%C3%A9es-de-la-base-de-donn%C3%A9es"></a>
</h3>
<p>Utiliser <code>dplyr::collect()</code> pour forcer le calcul d’une
requête de base de données et extraire la sortie sur votre ordinateur
local.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">collect</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 7 × 6
  author_id name           last_name    initials orcid                 synonyms
      &lt;int&gt; &lt;chr&gt;          &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt;                 &lt;chr&gt;
1        46 Roth A         Roth         A        ""                    ""
2        42 Nahvi A        Nahvi        A        ""                    ""
3        32 Machado Lima A Machado Lima A        ""                    ""
4        31 Levy A         Levy         A        ""                    ""
5        27 Gruber A       Gruber       A        "0000-0003-1219-4239" ""
6        13 Chen A         Chen         A        ""                    ""
7         6 Bateman A      Bateman      A        "0000-0002-6982-4660" ""      </code></pre>
</div>
<p>Idéalement, après avoir spécifié un ensemble de requêtes, nous
pouvons réduire la taille du jeu de données d’entrée à utiliser dans
l’environnement de notre session R.</p>
<div id="exécutez-des-requêtes-sql-dans-r-à-laide-de-dbplyr" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exécutez-des-requêtes-sql-dans-r-à-laide-de-dbplyr" class="callout-inner">
<h3 class="callout-title">Exécutez des requêtes SQL dans R à l’aide de dbplyr</h3>
<div class="callout-content">
<p>Entraînez-vous à faire des requêtes SQL sur des bases de données
relationnelles en utilisant plusieurs logiciels. Les verbes
<a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> comme <code>dplyr::left_join()</code> peuvent être
appliqués entre les tables avant d’extraire les données vers votre
session locale avec <code>dplyr::collect()</code> !</p>
<p>Vous pouvez également consulter le package <a href="https://dbplyr.tidyverse.org/" class="external-link">dbplyr</a> en
R. Pour un tutoriel pas à pas sur SQL, nous recommandons le <a href="https://datacarpentry.org/sql-ecology-lesson/" class="external-link">tutoriel sur la
gestion des données avec SQL pour écologistes</a>, qui montre
l’utilisation de <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> avec SQL.</p>
</div>
</div>
</div>
<div id="accordionHint2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint2" aria-expanded="false" aria-controls="collapseHint2">
  <h4 class="accordion-header" id="headingHint2"> Donner un indice </h4>
</button>
<div id="collapseHint2" class="accordion-collapse collapse" data-bs-parent="#accordionHint2" aria-labelledby="headingHint2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># SELECT FEW COLUMNS FROM ONE TABLE AND LEFT JOIN WITH ANOTHER TABLE</span></span>
<span><span class="va">author</span> <span class="op">&lt;-</span> <span class="va">rdbms_login</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">tbl</span><span class="op">(</span>from <span class="op">=</span> <span class="st">"author"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="va">author_id</span>, <span class="va">name</span><span class="op">)</span></span>
<span></span>
<span><span class="va">family_author</span> <span class="op">&lt;-</span> <span class="va">rdbms_login</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">tbl</span><span class="op">(</span>from <span class="op">=</span> <span class="st">"family_author"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="va">author_id</span>, <span class="va">rfam_acc</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu">left_join</span><span class="op">(</span><span class="va">author</span>, <span class="va">family_author</span>, keep <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">show_query</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Joining with `by = join_by(author_id)`</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;SQL&gt;
SELECT
  `author`.`author_id` AS `author_id.x`,
  `name`,
  `family_author`.`author_id` AS `author_id.y`,
  `rfam_acc`
FROM `author`
LEFT JOIN `family_author`
  ON (`author`.`author_id` = `family_author`.`author_id`)</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu">left_join</span><span class="op">(</span><span class="va">author</span>, <span class="va">family_author</span>, keep <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">collect</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Joining with `by = join_by(author_id)`</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 4,874 × 4
   author_id.x name         author_id.y rfam_acc
         &lt;int&gt; &lt;chr&gt;              &lt;int&gt; &lt;chr&gt;
 1          44 Osuch I               44 RF01571
 2           2 Argasinska J           2 RF02588
 3           2 Argasinska J           2 RF02587
 4           2 Argasinska J           2 RF02586
 5           2 Argasinska J           2 RF02585
 6           2 Argasinska J           2 RF02549
 7           8 Boursnell C            8 RF02002
 8          56 Weinberg Z            56 RF01741
 9          39 Moxon SJ              39 RF00496
10          39 Moxon SJ              39 RF00469
# ℹ 4,864 more rows</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="lecture-de-données-à-partir-de-sis">Lecture de données à partir de SIS<a class="anchor" aria-label="anchor" href="#lecture-de-donn%C3%A9es-%C3%A0-partir-de-sis"></a>
</h2>
<hr class="half-width">
<p>Les données relatives à la santé sont de plus en plus souvent
stockées dans des SIS spécialisées telles que
<strong>Fingertips</strong>, <strong>GoData</strong>,
<strong>REDCap</strong>, <strong>DHIS2</strong>,
<strong>SORMAS</strong>, etc. La version actuelle de la librairie
<code>{readepi}</code> permet d’importer des données à partir de
<strong>DHIS2</strong> et <strong>SORMAS</strong>.</p>
<div class="section level3">
<h3 id="lecture-des-données-à-partir-de-dhis2">Lecture des données à partir de DHIS2<a class="anchor" aria-label="anchor" href="#lecture-des-donn%C3%A9es-%C3%A0-partir-de-dhis2"></a>
</h3>
<p>Le système d’information sanitaire de district <a href="https://dhis2.org/about/" class="external-link">DHIS2</a> est un logiciel open source
qui a révolutionné la gestion des informations sanitaires mondiales. La
fonction <code>readepi::read_dhis2()</code> permet d’importer des
données depuis le system <a href="https://dhis2.org/tracker-in-action/" class="external-link">Tracker</a> de DHIS2 via
leurs API.</p>
<p>Pour cela, il faudra établir la connection au système en utilisant la
fonction <code>readepi::login()</code>, puis fornir le nom ou
l’identifiant du programme et de l’unité organisationnelle (structure
sanitaire, localité, pays, etc) cible.</p>
<p>Pour un système donné, vous pouvez accéder aux identifiants et noms
des programmes et structure sanitaires en utilisant les fonctions
<code>get_programs()</code> et <code>get_organisation_units()</code>
respectivement.</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># etablir la connection au systeme</span></span>
<span><span class="va">dhis2_login</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">login</span><span class="op">(</span></span>
<span>  from <span class="op">=</span> <span class="st">"https://smc.moh.gm/dhis"</span>,</span>
<span>  user_name <span class="op">=</span> <span class="st">"test"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"Gambia@123"</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>✔ Logged in successfully!</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># obtenir les noms et identifiants des programmes</span></span>
<span><span class="va">programs</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">get_programs</span><span class="op">(</span>login <span class="op">=</span> <span class="va">dhis2_login</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># obtenir les noms et identifiants des unites organisationnelles</span></span>
<span><span class="va">org_units</span> <span class="op">&lt;-</span> <span class="fu">get_organisation_units</span><span class="op">(</span>login <span class="op">=</span> <span class="va">dhis2_login</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># importer les donnees a partir de DHIS2 en utilisant les identifiants</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">read_dhis2</span><span class="op">(</span></span>
<span>  login <span class="op">=</span> <span class="va">dhis2_login</span>,</span>
<span>  org_unit <span class="op">=</span> <span class="st">"GcLhRNAFppR"</span>,</span>
<span>  program <span class="op">=</span> <span class="st">"E5IUQuHg3Mg"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># importer les donnees a partir de DHIS2 en utilisant les noms</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">read_dhis2</span><span class="op">(</span></span>
<span>  login <span class="op">=</span> <span class="va">dhis2_login</span>,</span>
<span>  org_unit <span class="op">=</span> <span class="st">"Keneba"</span>,</span>
<span>  program <span class="op">=</span> <span class="st">"Child Registration &amp; Treatment "</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tibble</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 1,116 × 69
   event   tracked_entity org_unit ` SMC-CR Scan QR Code` SMC-CR Did the child…¹
   &lt;chr&gt;   &lt;chr&gt;          &lt;chr&gt;    &lt;chr&gt;                  &lt;chr&gt;
 1 bgSDQb… yv7MOkGD23q    Keneba   SMC23-0510989          1
 2 y4MKmP… nibnZ8h0Nse    Keneba   SMC2021-018089         1
 3 yK7VG3… nibnZ8h0Nse    Keneba   SMC2021-018089         1
 4 EmNflz… nibnZ8h0Nse    Keneba   SMC2021-018089         1
 5 UF96ms… nibnZ8h0Nse    Keneba   SMC2021-018089         1
 6 guQTwc… FomREQ2it4n    Keneba   SMC23-0510012          1
 7 jbkRkL… FomREQ2it4n    Keneba   SMC23-0510012          1
 8 AEeype… FomREQ2it4n    Keneba   SMC23-0510012          1
 9 R30SPs… E5oAWGcdFT4    Keneba   koika-smc-22897        1
10 nr03Qy… E5oAWGcdFT4    Keneba   koika-smc-22897        1
# ℹ 1,106 more rows
# ℹ abbreviated name: ¹​`SMC-CR Did the child  previously received a card?`
# ℹ 64 more variables: `SMC-CR Child First Name1` &lt;chr&gt;,
#   `SMC-CR Child Last Name` &lt;chr&gt;, `SMC-CR Date of Birth` &lt;chr&gt;,
#   `SMC-CR Select Age Category  ` &lt;chr&gt;, `SMC-CR Child gender1` &lt;chr&gt;,
#   `SMC-CR Mother/Person responsible full name` &lt;chr&gt;,
#   `SMC-CR Mother/Person responsible phone number1` &lt;chr&gt;, …</code></pre>
</div>
<p>Il est important de savoir que toutes les unités organisationnelles
(structures sanitaires) ne sont pas enregistrées pour un programme
spécifique. Pour connaître les unités organisationnelles qui exécutent
un programme particulier, utilisez la fonction
<code>get_program_org_units()</code> comme illustré dans l’exemple
ci-dessous.</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># obtenir les unités organisationnelles qui exécutent un programme "E5IUQuHg3Mg"</span></span>
<span><span class="va">target_org_units</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">get_program_org_units</span><span class="op">(</span></span>
<span>  login <span class="op">=</span> <span class="va">dhis2_login</span>,</span>
<span>  program <span class="op">=</span> <span class="st">"E5IUQuHg3Mg"</span>,</span>
<span>  org_units <span class="op">=</span> <span class="va">org_units</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tibble</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="va">target_org_units</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 26 × 3
   org_unit_ids levels            org_unit_names
   &lt;chr&gt;        &lt;chr&gt;             &lt;chr&gt;
 1 UrLrbEiWk3J  Town/Village_name Sare Sibo
 2 wlVsFVeHSTx  Town/Village_name Jawo Kunda
 3 kp0ZYUEqJE8  Town/Village_name Chewal
 4 Wr3htgGxhBv  Town/Village_name Madinayel
 5 psyHoqeN2Tw  Town/Village_name Bolibanna
 6 MGBYonFM4y3  Town/Village_name Sare Mala
 7 GcLhRNAFppR  Town/Village_name Keneba
 8 y1Z3KuvQyhI  Town/Village_name Brikama
 9 W3vH9yBUSei  Town/Village_name Gidda
10 ISbNWYieHY8  Town/Village_name Song Kunda
# ℹ 16 more rows</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="lecture-des-données-à-partir-de-sormas">Lecture des données à partir de SORMAS<a class="anchor" aria-label="anchor" href="#lecture-des-donn%C3%A9es-%C3%A0-partir-de-sormas"></a>
</h3>
<p>Le Système de surveillance, de gestion et d’analyse des réponses aux
épidémies <a href="https://sormas.org/" class="external-link">SORMAS</a> est un système de
santé digital open source qui optimise les processus de surveillance de
la propagation des maladies infectieuses et de réponse aux épidémies. La
fonction <code>readepi::read_sormas()</code> permet d’importer des
données depuis SORMAS via son API.</p>
<p>Dans la version actuelle de la librairie <code>{readepi}</code>, la
fonction <code>read_sormas()</code> renvoie des données pour les
colonnes suivantes: <strong>case_id, person_id, sex, date_of_birth,
case_origin, country, city, lat, long, case_status, date_onset,
date_admission, date_last_contact, date_first_contact, outcome,
date_outcome, Ct_values</strong>.</p>
<p>Un des arguments fondamentals est le nom de la maladie pour laquelle
l’utilisateur souhaite obtenir des données. Pour vous assurez de la
vraie synthaxe à utiliser lors de l’appel à la fonction, vous pouvez
obtenir la liste des noms de maladies à travers la fonction
<code>sormas_get_diseases()</code>.</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># obtenir la liste des noms de maladies</span></span>
<span><span class="va">disease_names</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">sormas_get_diseases</span><span class="op">(</span></span>
<span>  base_url <span class="op">=</span> <span class="st">"https://demo.sormas.org/sormas-rest"</span>,</span>
<span>  user_name <span class="op">=</span> <span class="st">"SurvSup"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"Lk5R7JXeZSEc"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tibble</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="va">disease_names</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 65 × 2
   disease            active
   &lt;chr&gt;              &lt;chr&gt;
 1 AFP                TRUE
 2 CHOLERA            TRUE
 3 CONGENITAL_RUBELLA TRUE
 4 CSM                TRUE
 5 DENGUE             TRUE
 6 EVD                TRUE
 7 GUINEA_WORM        TRUE
 8 LASSA              TRUE
 9 MEASLES            TRUE
10 MONKEYPOX          TRUE
# ℹ 55 more rows</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># obtenir les donnees de tous les cas de COVID-19</span></span>
<span><span class="va">covid_cases</span> <span class="op">&lt;-</span> <span class="fu">readepi</span><span class="fu">::</span><span class="fu">read_sormas</span><span class="op">(</span></span>
<span>  base_url <span class="op">=</span> <span class="st">"https://demo.sormas.org/sormas-rest"</span>,</span>
<span>  user_name <span class="op">=</span> <span class="st">"SurvSup"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"Lk5R7JXeZSEc"</span>,</span>
<span>  disease <span class="op">=</span> <span class="st">"coronavirus"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tibble</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="va">covid_cases</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 6 × 16
  case_id    person_id date_onset date_admission case_origin case_status outcome
  &lt;chr&gt;      &lt;chr&gt;     &lt;date&gt;     &lt;date&gt;         &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;
1 QFC5QI-GC… XNQZBX-W… NA         NA             IN_COUNTRY  NOT_CLASSI… NO_OUT…
2 UOZL3G-4M… UGBWTB-B… 2025-05-27 NA             IN_COUNTRY  SUSPECT     NO_OUT…
3 SRO72L-LY… UOAAIQ-Z… NA         NA             IN_COUNTRY  NOT_CLASSI… NO_OUT…
4 XV7RQ3-ZY… XP2SJX-W… 2025-07-03 NA             IN_COUNTRY  NOT_CLASSI… NO_OUT…
5 SMUIMI-ZI… TMWNQS-O… NA         NA             IN_COUNTRY  CONFIRMED   NO_OUT…
6 SZ3GHH-RJ… V2XMXK-K… NA         NA             IN_COUNTRY  NOT_CLASSI… NO_OUT…
# ℹ 9 more variables: sex &lt;chr&gt;, date_of_birth &lt;chr&gt;, country &lt;chr&gt;,
#   city &lt;chr&gt;, latitude &lt;chr&gt;, longitude &lt;chr&gt;, contact_id &lt;chr&gt;,
#   date_last_contact &lt;date&gt;, Ct_values &lt;chr&gt;</code></pre>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Points clés</h3>
<div class="callout-content">
<ul>
<li>Utilisez <a href="https://gesistsa.github.io/rio/" class="external-link">rio</a>, <a href="https://bitbucket.org/djhshih/io" class="external-link">io</a>, <a href="https://readr.tidyverse.org" class="external-link">readr</a>
et <code>{ImportExport}</code> pour importer les données à partir des
fichiers.</li>
<li>Utilisez <code>{readepi}</code> pour importer les données à partir
des SIS et SGBDR.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</section></section><section id="aio-clean-data"><p>Content from <a href="clean-data.html">Nettoyage des données épidémiologiques</a></p>
<hr>
<p>Dernière mise à jour le 2025-08-29 |

        <a href="https://github.com/epiverse-trace/tutorials-early-fr/edit/main/episodes/clean-data.Rmd" class="external-link">Modifier cette page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Afficher toutes les solutions " data-collapse="Cacher toutes les solutions "> Afficher toutes les solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Vue d'ensemble</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>Comment nettoyer et standardiser les données épidémiologiques ?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectifs</h3>
<ul>
<li>Expliquez comment nettoyer, organiser et standardiser les données
épidémioloques en utilisant la librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>
</li>
<li>Appliquer les opérations de nettoyage de données sur des données
épidémiologiques simulées</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="prereq1" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Pré-requis</h3>
<div class="callout-content">
<p>Pour cet épisode, nous utiliserons les données simulées portant sur
des individus atteints de la fièvre hémorargique ébola que vous
devez:</p>
<ul>
<li>d’abord télécharger à partir d’<a href="https://epiverse-trace.github.io/tutorials-early/data/simulated_ebola_2.csv" class="external-link">ici</a>,</li>
<li>puis l’enregistrez-le dans le répertoire <code>data/</code>.</li>
</ul>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>Lors de l’analyse de données épidémiologiques, il est essentiel de
s’assurer que les des données sont nettoyées, organisées, standardisées
et validées pour garantir la précision (vous analysez ce que vous pensez
analyser) et la reproductibilité (si quelqu’un veut revenir en arrière
et répéter vos étapes d’analyse avec votre code, vous pouvez être sûr
qu’il obtiendra les mêmes résultats) de l’analyse. Cet épisode est
consacré au nettoyage de données relatives aux épidémies à l’aide du
package R <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">{cleanepi}</a>. Pour
illustrer l’utilisation des fonctionalités de ce package, nous les
appliquerons sur des données simulées de cas d’Ebola.</p>
<p>En plus du package {cleanepi}, nous utiliserons d’autres fonctions
qui proviennent des packages R suivants durant cette procédure de
nettoyage des données :</p>
<ul>
<li>
<a href="https://here.r-lib.org/" class="external-link">here</a> pour faciliter le référencement des
fichiers,</li>
<li>
<a href="https://gesistsa.github.io/rio/" class="external-link">rio</a> pour importer les données dans R,</li>
<li>
<a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> pour effectuer certaines opérations de
traitement de données,</li>
<li>
<a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a> pour utiliser son <strong>opérateur pipe
(<code>%&gt;%</code>)</strong>.</li>
</ul>
<!-- Nous encourageons les utilisateurs disposant de versions récentes de R (version > 4.4.1) à utiliser l'opérateur de pipe de la librairie de base de R (`|>`) au lieu de `%>%`. --><!-- Nous vous recommandons également d'utiliser le package `{pak}` pour l'installation des packages dans R, comme indiqué ci-dessous. Vous pouvez consulter le [document de référence de`{pak}`](https://pak.r-lib.org/reference/features.html) pour plus de détails sur ses avantages. --><div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># charger les librairies</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">rio</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">here</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">cleanepi</span><span class="op">)</span></span></code></pre>
</div>
<div id="lopérateur-double-deux-points" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="lopérateur-double-deux-points" class="callout-inner">
<h3 class="callout-title">L’opérateur double deux-points
(<code>::</code>)</h3>
<div class="callout-content">
<p>L’opérateur <code>::</code> de R permet d’accéder aux fonctions ou
aux objets d’un package spécifique sans attacher l’intégralité du
package (sans faire appel à la function<code>libray()</code>). Il offre
plusieurs avantages, notamment :</p>
<ul>
<li>Indiquer explicitement le package d’origine d’une fonction,
réduisant ainsi les ambiguïtés et les conflits potentiels lorsque
plusieurs packages possèdent des fonctions portant le même nom.</li>
<li>Permettre d’appeler une fonction depuis un package sans charger
l’intégralité du package avec <code>library()</code>.</li>
</ul>
<p>Par exemple, la commande <code>dplyr::filter(data, condition)</code>
signifie que nous appelons la fonction <code>filter()</code> depuis la
librairie <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>.</p>
</div>
</div>
</div>
<p>La première étape consiste à importer le jeu de données dans
l’environnement de travail. Pour ce faire, nous suivrons les
instructions décrites dans l’épisode <a href="read-cases.html">Importer
les données de cas épidémiologiques</a> pour importer les données dans
<code>R</code> et visualiser sa structure et son contenu.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Importer les données</span></span>
<span><span class="co"># supposons que le chemin d'accès au ficher est: data/simulated_ebola_2.csv</span></span>
<span><span class="va">raw_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu">import</span><span class="op">(</span></span>
<span>  <span class="fu">here</span><span class="fu">::</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"simulated_ebola_2.csv"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span> <span class="co"># convertir en tibble</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Afficher les dix premières lignes du data frame</span></span>
<span><span class="va">raw_ebola_data</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 15,003 × 9
      V1 `case id` age     gender status `date onset` `date sample` lab   region
   &lt;int&gt;     &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;        &lt;chr&gt;         &lt;lgl&gt; &lt;chr&gt;
 1     1     14905 90      1      "conf… 03/15/2015   06/04/2015    NA    valdr…
 2     2     13043 twenty… 2      ""     Sep /11/13   03/01/2014    NA    valdr…
 3     3     14364 54      f       &lt;NA&gt;  09/02/2014   03/03/2015    NA    valdr…
 4     4     14675 ninety  &lt;NA&gt;   ""     10/19/2014   31/ 12 /14    NA    valdr…
 5     5     12648 74      F      ""     08/06/2014   10/10/2016    NA    valdr…
 6     5     12648 74      F      ""     08/06/2014   10/10/2016    NA    valdr…
 7     6     14274 sevent… female ""     Apr /05/15   01/23/2016    NA    valdr…
 8     7     14132 sixteen male   "conf… Dec /29/Y    05/10/2015    NA    valdr…
 9     8     14715 44      f      "conf… Apr /06/Y    04/24/2016    NA    valdr…
10     9     13435 26      1      ""     09/07/2014   20/ 09 /14    NA    valdr…
# ℹ 14,993 more rows</code></pre>
</div>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Discussion</h3>
<div class="callout-content">
<p>Jettons un coup d’oeil sur ce jeu de données pour dressez la liste de
toutes les anormalies qui pourraient poser problème durant l’analyse des
données.</p>
<p>Certaines de ces anormalies vous sont-elles familières dans le cadre
d’une analyse de données que vous avez déjà effectuée ?</p>
</div>
</div>
</div>

</section><section><h2 class="section-heading" id="une-inspection-rapide">Une inspection rapide<a class="anchor" aria-label="anchor" href="#une-inspection-rapide"></a>
</h2>
<hr class="half-width">
<p>Une exploration et une inspection rapides des données sont
essentielles pour identifier les problèmes potentiels avant d’entamer le
processus d’analyse des données. Le package {cleanepi} simplifie ce
processus grâce à la fonction <code>scan_data()</code>. Voyons comment
vous pouvez l’utiliser.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">scan_data</span><span class="op">(</span><span class="va">raw_ebola_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  Field_names missing numeric   date character logical
1         age  0.0646  0.8348 0.0000    0.1006       0
2      gender  0.1578  0.0472 0.0000    0.7950       0
3      status  0.0535  0.0000 0.0000    0.9465       0
4  date onset  0.0001  0.0000 0.9159    0.0840       0
5 date sample  0.0001  0.0000 0.9999    0.0000       0
6      region  0.0000  0.0000 0.0000    1.0000       0</code></pre>
</div>
<p>Le résultat donne un aperçu du contenu de toutes les colonnes de type
charactère, y compris la structure de ces noms de colonnes et le
pourcentage de certains types de données qu’on y retrouve. Vous pouvez
constater que les noms des colonnes sont descriptifs mais manquent de
cohérence. Certains sont composés de plusieurs mots séparés par des
espaces. En outre, certaines colonnes contiennent plus d’un type de
données, et il y a des valeurs manquantes dans d’autres.</p>
</section><section><h2 class="section-heading" id="opérations-courantes">Opérations courantes<a class="anchor" aria-label="anchor" href="#op%C3%A9rations-courantes"></a>
</h2>
<hr class="half-width">
<p>Cette section montre comment effectuer quelques opérations courantes
de nettoyage de données à l’aide de la librairie
<a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>.</p>
<div class="section level3">
<h3 id="normalisation-des-noms-de-colonnes">Normalisation des noms de colonnes<a class="anchor" aria-label="anchor" href="#normalisation-des-noms-de-colonnes"></a>
</h3>
<p>Pour cet exemple de jeu de données, la normalisation des noms de
colonnes consiste généralement à supprimer les espaces et à relier les
mots avec <code>"_"</code>. Cette pratique permet de maintenir la
cohérence et la lisibilité du jeu de données. Cependant, la fonction
utilisée pour normaliser les noms de colonnes offre plus d’options.
Entrez <code>?cleanepi::standardize_column_names</code> dans la console
pour plus de détails.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_column_names</span><span class="op">(</span><span class="va">raw_ebola_data</span><span class="op">)</span></span>
<span><span class="fu">names</span><span class="op">(</span><span class="va">sim_ebola_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "v1"          "case_id"     "age"         "gender"      "status"
[6] "date_onset"  "date_sample" "lab"         "region"     </code></pre>
</div>
<p>Si vous souhaitez conserver certains noms de colonnes sans les
soumettre au processus de normalisation, vous pouvez utiliser l’argument
<code>keep</code> de la fonction
<code>cleanepi::standardize_column_names()</code>. Cet argument accepte
un vecteur de noms de colonnes qui doivent rester inchangés.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Défi</h3>
<div class="callout-content">
<ul>
<li><p>Quelles différences pouvez-vous observer dans les noms de
colonnes ?</p></li>
<li><p>Normalisez les noms des colonnes de l’ensemble de données
d’entrée, mais conservez le nom de la première colonne tel
quel.</p></li>
</ul>
</div>
</div>
</div>
<div id="accordionHint1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint1" aria-expanded="false" aria-controls="collapseHint1">
  <h4 class="accordion-header" id="headingHint1"> Donner un indice </h4>
</button>
<div id="collapseHint1" class="accordion-collapse collapse" aria-labelledby="headingHint1" data-bs-parent="#accordionHint1">
<div class="accordion-body">
<p>Vous pouvez essayer
<code>cleanepi::standardize_column_names(data = raw_ebola_data, keep = "V1")</code></p>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="suppression-des-irrégularités">Suppression des irrégularités<a class="anchor" aria-label="anchor" href="#suppression-des-irr%C3%A9gularit%C3%A9s"></a>
</h3>
<p>Les données brutes contiennent souvent des irrégularités telles que
des lignes <strong>vides</strong> et colonnes vides, ou des colonnes
<strong>constant</strong> (où toutes les entrées ont la même valeur).
Elles peuvent aussi contenir des doublons. Les fonctions de
<a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> comme <code>remove_duplicates()</code> et
<code>remove_constants()</code> peuvent être utilisées pour supprimer
ces irrégularités, comme le montre le morceau de code ci-dessous.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Supprimer les données invariables</span></span>
<span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">remove_constants</span><span class="op">(</span><span class="va">sim_ebola_data</span><span class="op">)</span></span></code></pre>
</div>
<p>Maintenant, afficher le résultat pour identifier les colonnes
constantes que vous avez supprimé.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Supprimer les doublons</span></span>
<span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">remove_duplicates</span><span class="op">(</span><span class="va">sim_ebola_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>! Found 5 duplicated rows in the dataset.
ℹ Use `attr(dat, "report")[["duplicated_rows"]]` to access them, where "dat" is
  the object used to store the output from this operation.</code></pre>
</div>
<div id="accordionSpoiler1" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler1" aria-expanded="false" aria-controls="collapseSpoiler1">
  <h3 class="accordion-header" id="headingSpoiler1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> Combien de lignes avez-vous supprimées ? Quelles lignes ont été supprimées ? </h3>
</button>
<div id="collapseSpoiler1" class="accordion-collapse collapse" aria-labelledby="headingSpoiler1" data-bs-parent="#accordionSpoiler1">
<div class="accordion-body">
<p>Vous pouvez obtenir le nombre et l’emplacement des lignes redondantes
qui ont été identifiées à l’aide de la function
<code>cleanepi::print_report()</code>.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># les doublons identifiés</span></span>
<span><span class="va">doublons</span> <span class="op">&lt;-</span> <span class="fu">print_report</span><span class="op">(</span><span class="va">sim_ebola_data</span>, <span class="st">"found_duplicates"</span><span class="op">)</span></span>
<span><span class="va">doublons</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Défi</h3>
<div class="callout-content">
<p>Dans le jeu de données suivant :</p>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 6 × 5
   col1  col2 col3  col4  col5
  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;date&gt;
1     1     1 a     b     NA
2     2     3 a     b     NA
3    NA    NA a     &lt;NA&gt;  NA
4    NA    NA a     &lt;NA&gt;  NA
5    NA    NA a     &lt;NA&gt;  NA
6    NA    NA &lt;NA&gt;  &lt;NA&gt;  NA    </code></pre>
</div>
<p>Quelles sont les colonnes ou les lignes:</p>
<ul>
<li>contenant des doublons ?</li>
<li>vides ?</li>
<li>contenant des données constantes ?</li>
</ul>
</div>
</div>
</div>
<div id="accordionHint2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint2" aria-expanded="false" aria-controls="collapseHint2">
  <h4 class="accordion-header" id="headingHint2"> Donner un indice </h4>
</button>
<div id="collapseHint2" class="accordion-collapse collapse" aria-labelledby="headingHint2" data-bs-parent="#accordionHint2">
<div class="accordion-body">
<p>Les données constantes se réfèrent principalement aux lignes et
colonnes vides, mais aussi aux colonnes invariables.</p>
</div>
</div>
</div>
</div>

</div>
<div class="section level3">
<h3 id="remplacer-les-valeurs-manquantes">Remplacer les valeurs manquantes<a class="anchor" aria-label="anchor" href="#remplacer-les-valeurs-manquantes"></a>
</h3>
<p>Outre les irrégularités, les données brutes peuvent contenir des
valeurs manquantes, qui peuvent être representées par différentes
chaînes de caractères (par ex. <code>"NA"</code>, <code>""</code>,
<code>character(0)</code>). Pour garantir une analyse solide, il est
conseillé de remplacer toutes les valeurs manquantes par <code>NA</code>
dans l’ensemble du jeu de données. Vous trouverez ci-dessous un extrait
de code démontrant comment vous pouvez remplacer les valeures
manquantes, représentées par une chaîne vide <code>""</code>, en
utilisant la librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">replace_missing_values</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sim_ebola_data</span>,</span>
<span>  na_strings <span class="op">=</span> <span class="st">""</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_ebola_data</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 15,000 × 8
      v1 case_id age         gender status    date_onset date_sample row_id
   &lt;int&gt;   &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;        &lt;int&gt;
 1     1   14905 90          1      confirmed 03/15/2015 06/04/2015       1
 2     2   13043 twenty-five 2      &lt;NA&gt;      Sep /11/13 03/01/2014       2
 3     3   14364 54          f      &lt;NA&gt;      09/02/2014 03/03/2015       3
 4     4   14675 ninety      &lt;NA&gt;   &lt;NA&gt;      10/19/2014 31/ 12 /14       4
 5     5   12648 74          F      &lt;NA&gt;      08/06/2014 10/10/2016       5
 6     6   14274 seventy-six female &lt;NA&gt;      Apr /05/15 01/23/2016       7
 7     7   14132 sixteen     male   confirmed Dec /29/Y  05/10/2015       8
 8     8   14715 44          f      confirmed Apr /06/Y  04/24/2016       9
 9     9   13435 26          1      &lt;NA&gt;      09/07/2014 20/ 09 /14      10
10    10   14816 thirty      f      &lt;NA&gt;      06/29/2015 06/02/2015      11
# ℹ 14,990 more rows</code></pre>
</div>
<!-- idée : après avoir résolu le problème des chaînes na_string multiples, ajoutez un défi à ce sujet + ajoutez-les à l'ensemble des données brutes ! -->
</div>
<div class="section level3">
<h3 id="validation-des-identifiants-des-individus">Validation des identifiants des individus<a class="anchor" aria-label="anchor" href="#validation-des-identifiants-des-individus"></a>
</h3>
<p>Chaque entrée du jeu de données représente un individu (par exemple,
un patient ou un participant à une étude) et doit pouvoir être
distinguée par un identifiant unique formatée d’une certaine façon. Ces
identifiants peuvent contenir des nombres se situant dans un intervalle
bien déterminé, a préfixe et/ou suffixe, être formatés de façon à
contenir un nombre spécifique de caractères. La librairie
<a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> propose la fonction
<code>check_subject_ids()</code> permettant de vérifier si les
identifiants des individus sont uniques et s’ils satisfont aux critères
établis par l’utilisateur.</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># vérifier si les identifiants des individus comportent des nombres</span></span>
<span><span class="co"># variant entre 0 et 15000</span></span>
<span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">check_subject_ids</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sim_ebola_data</span>,</span>
<span>  target_columns <span class="op">=</span> <span class="st">"case_id"</span>,</span>
<span>  range <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">15000</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>! Found 1957 duplicated values in the subject Ids.
ℹ Enter `attr(dat, "report")[["duplicated_rows"]]` to access them, where "dat"
  is the object used to store the output from this operation.
ℹ No incorrect subject id was detected.</code></pre>
</div>
<p>Notez que notre jeu de données simulé contient des doublons dans la
colonne ayant les identifiants uniques des individus.</p>
<div id="accordionSpoiler2" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler2" aria-expanded="false" aria-controls="collapseSpoiler2">
  <h3 class="accordion-header" id="headingSpoiler2">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> Comment corriger les identifiants des individus ? </h3>
</button>
<div id="collapseSpoiler2" class="accordion-collapse collapse" aria-labelledby="headingSpoiler2" data-bs-parent="#accordionSpoiler2">
<div class="accordion-body">
<p>Visualisons un rapport préliminaire avec
<code>cleanepi::print_report(sim_ebola_data)</code>. Concentrez-vous sur
l’onglet “Unexpected subject ids” pour identifier les identifiants qui
nécessitent une correction.</p>
<p>Après avoir terminé ce tutoriel, nous vous invitons à explorer le
guide de référence de la function <a href="https://epiverse-trace.github.io/cleanepi/reference/check_subject_ids.html" class="external-link"><code>cleanepi::check_subject_ids()</code></a>
pour identifier la function qui peut remédier à cette situation.</p>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="normalisation-des-dates">Normalisation des dates<a class="anchor" aria-label="anchor" href="#normalisation-des-dates"></a>
</h3>
<p>Un jeu de données épidémiques contient généralement des colonnes de
type date pour différents événements, tels que la date d’infection, la
date d’apparition des symptômes, etc. Ces dates peuvent apparaître sous
différents formats, et il est bon de les normaliser afin de bénéficier
des puissantes fonctionalités de R conçues pour traiter les valeurs de
type date durant l’analyse des données. La librairies
<a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> fournit une fonctionnalité permettant de
convertir les colonnes de type date dans les données épidémiologiques au
format ISO8601, garantissant la cohérence des différentes colonnes de
type dates. Voici comment vous pouvez l’utiliser sur notre jeu de
données simulé :</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_dates</span><span class="op">(</span></span>
<span>  <span class="va">sim_ebola_data</span>,</span>
<span>  target_columns <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"date_onset"</span>, <span class="st">"date_sample"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_ebola_data</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 15,000 × 8
      v1 case_id age         gender status    date_onset date_sample row_id
   &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;       &lt;chr&gt;  &lt;chr&gt;     &lt;date&gt;     &lt;date&gt;       &lt;int&gt;
 1     1 14905   90          1      confirmed 2015-03-15 2015-06-04       1
 2     2 13043   twenty-five 2      &lt;NA&gt;      2013-09-11 2014-03-01       2
 3     3 14364   54          f      &lt;NA&gt;      2014-09-02 2015-03-03       3
 4     4 14675   ninety      &lt;NA&gt;   &lt;NA&gt;      2014-10-19 2031-12-14       4
 5     5 12648   74          F      &lt;NA&gt;      2014-08-06 2016-10-10       5
 6     6 14274   seventy-six female &lt;NA&gt;      2015-04-05 2016-01-23       7
 7     7 14132   sixteen     male   confirmed NA         2015-05-10       8
 8     8 14715   44          f      confirmed NA         2016-04-24       9
 9     9 13435   26          1      &lt;NA&gt;      2014-09-07 2020-09-14      10
10    10 14816   thirty      f      &lt;NA&gt;      2015-06-29 2015-06-02      11
# ℹ 14,990 more rows</code></pre>
</div>
<p>Cette fonction convertit les valeurs dans les colonnes cibles au le
format <strong>YYYY-mm-dd</strong>.</p>
<div id="comment-cela-est-il-possible" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="comment-cela-est-il-possible" class="callout-inner">
<h3 class="callout-title">Comment cela est-il possible ?</h3>
<div class="callout-content">
<p>Nous vous invitons à trouver la principale librairie qui rend cette
normalisation possible au sein de <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> en lisant la
section “Détails” du <a href="https://epiverse-trace.github.io/cleanepi/reference/standardize_dates.html#details" class="external-link">Manuel
de référence sur la normalisation des variables de type date</a>!</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="conversion-en-valeurs-numériques">Conversion en valeurs numériques<a class="anchor" aria-label="anchor" href="#conversion-en-valeurs-num%C3%A9riques"></a>
</h3>
<p>Dans les données brutes, certaines colonnes peuvent contenir un
mélange de valeurs numériques et de caractères, et vous voudrez souvent
convertir les caractères en numériques. Par exemple, certaines valeurs
de la colonne de ‘age’ de notre jeu de données simulées sont écrites en
mots. Dans <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> la fonction
<code>convert_to_numeric()</code> permet d’effectuer la conversion de
ces mots en chiffres, comme illustré ci-dessous.</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">convert_to_numeric</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sim_ebola_data</span>,</span>
<span>  target_columns <span class="op">=</span> <span class="st">"age"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_ebola_data</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 15,000 × 8
      v1 case_id   age gender status    date_onset date_sample row_id
   &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;date&gt;     &lt;date&gt;       &lt;int&gt;
 1     1 14905      90 1      confirmed 2015-03-15 2015-06-04       1
 2     2 13043      25 2      &lt;NA&gt;      2013-09-11 2014-03-01       2
 3     3 14364      54 f      &lt;NA&gt;      2014-09-02 2015-03-03       3
 4     4 14675      90 &lt;NA&gt;   &lt;NA&gt;      2014-10-19 2031-12-14       4
 5     5 12648      74 F      &lt;NA&gt;      2014-08-06 2016-10-10       5
 6     6 14274      76 female &lt;NA&gt;      2015-04-05 2016-01-23       7
 7     7 14132      16 male   confirmed NA         2015-05-10       8
 8     8 14715      44 f      confirmed NA         2016-04-24       9
 9     9 13435      26 1      &lt;NA&gt;      2014-09-07 2020-09-14      10
10    10 14816      30 f      &lt;NA&gt;      2015-06-29 2015-06-02      11
# ℹ 14,990 more rows</code></pre>
</div>
<div id="langues-prise-en-charge" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="langues-prise-en-charge" class="callout-inner">
<h3 class="callout-title">Langues prise en charge</h3>
<div class="callout-content">
<p>Il faut savoir que la fonction
<code>cleanepi::convert_to_numeric()</code> fait appel à la fonction
principale de la librairie <a href="https://github.com/epiverse-trace/numberize" class="external-link">numberize</a>, qui permet de
convertir, en valeurs entières positives, les mots écrits en anglais,
français et espagnol.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="autres-opérations-liées-à-lépidémiologie">Autres opérations liées à l’épidémiologie<a class="anchor" aria-label="anchor" href="#autres-op%C3%A9rations-li%C3%A9es-%C3%A0-l%C3%A9pid%C3%A9miologie"></a>
</h2>
<hr class="half-width">
<p>Outre les tâches courantes de nettoyage des données, telles que
celles évoquées dans les sections précédentes, la librairie
<a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> offre des fonctionnalités supplémentaires
spécialement conçues pour le traitement et l’analyse des données
relatives aux épidémies. Cette section couvre certaines de ces tâches
spécialisées.</p>
<div class="section level3">
<h3 id="vérification-de-la-séquence-des-événements-datés">Vérification de la séquence des événements datés<a class="anchor" aria-label="anchor" href="#v%C3%A9rification-de-la-s%C3%A9quence-des-%C3%A9v%C3%A9nements-dat%C3%A9s"></a>
</h3>
<p>Garantir l’ordre et la séquence correcte des événements datés est
crucial dans l’analyse des données épidémiologiques, en particulier lors
de l’analyse des maladies infectieuses, où la chronologie d’événements
tels que la date d’apparition des symptômes et la date de collecte
d’échantillons est essentielle. La librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>
fournit une fonction utile appelée <code>check_date_sequence()</code>
précisément conçu dans ce but.</p>
<p>Voici un exemple de morceau de code démontrant l’utilisation de la
fonction <code>check_date_sequence()</code> dans les 100 premières
lignes de notre ensemble de données Ebola simulé.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">check_date_sequence</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sim_ebola_data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span>, <span class="op">]</span>,</span>
<span>  target_columns <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"date_onset"</span>, <span class="st">"date_sample"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>! Detected 16 incorrect date sequences at lines: "10, 20, 22, 26, 29, 44, 46,
  54, 60, 63, 70, 71, 73, 80, 81, 90".
ℹ Enter `attr(dat, "report")[["incorrect_date_sequence"]]` to access them,
  where "dat" is the object used to store the output from this operation.</code></pre>
</div>
<p>Cette fonctionnalité est essentielle pour garantir l’intégrité des
données et la précision dans les analyses épidémiologiques, car elle
permet d’identifier toute incohérence ou erreur dans l’ordre
chronologique des événements, ce qui vous permet d’y remédier de manière
appropriée.</p>
</div>
<div class="section level3">
<h3 id="substitution-basée-sur-un-dictionnaire">Substitution basée sur un dictionnaire<a class="anchor" aria-label="anchor" href="#substitution-bas%C3%A9e-sur-un-dictionnaire"></a>
</h3>
<p>Dans le cadre du prétraitement des données, il est fréquent de
rencontrer des scénarios dans lesquels certaines colonnes d’un jeu de
données, comme la colonne “gender” dans notre jeu de données Ebola
simulé, sont censées avoir des valeurs ou des facteurs spécifiques.
Cependant, il est également fréquent que des valeurs inattendues ou
erronées apparaissent dans ces colonnes, et doivent être remplacées par
des valeurs de valeurs appropriées. La librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>
offre une fonction qui prend en charge la substitution de valeurs basée
sur un dictionnaire données. Ainsi, vous permet de remplacer des valeurs
dans des colonnes spécifiques sur la base de correspondances définies
dans un dictionnaire de données.</p>
<p>Par ailleurs, la librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> fournit un exemple
de dictionnaire intégré spécialement conçu pour les données
épidémiologiques. Le code ci-dessous montre les correspondances qui y
sont établies pour la colonne “gender”.</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">test_dict</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu">readRDS</span><span class="op">(</span></span>
<span>  <span class="fu">system.file</span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"test_dict.RDS"</span>, package <span class="op">=</span> <span class="st">"cleanepi"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">test_dict</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 6 × 4
  options values grp    orders
  &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;int&gt;
1 1       male   gender      1
2 2       female gender      2
3 M       male   gender      3
4 F       female gender      4
5 m       male   gender      5
6 f       female gender      6</code></pre>
</div>
<p>Nous pouvons maintenant utiliser ce dictionnaire pour substituer les
valeurs de la colonne “gender” selon des catégories prédéfinies. Vous
trouverez ci-dessous un exemple de code démontrant comment utiliser la
fonction <code>clean_using_dictionary()</code> de la librairie
{cleanepi} allant dans ce sens.</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">clean_using_dictionary</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sim_ebola_data</span>,</span>
<span>  dictionary <span class="op">=</span> <span class="va">test_dict</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_ebola_data</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 15,000 × 8
      v1 case_id   age gender status    date_onset date_sample row_id
   &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;date&gt;     &lt;date&gt;       &lt;int&gt;
 1     1 14905      90 male   confirmed 2015-03-15 2015-06-04       1
 2     2 13043      25 female &lt;NA&gt;      2013-09-11 2014-03-01       2
 3     3 14364      54 female &lt;NA&gt;      2014-09-02 2015-03-03       3
 4     4 14675      90 &lt;NA&gt;   &lt;NA&gt;      2014-10-19 2031-12-14       4
 5     5 12648      74 female &lt;NA&gt;      2014-08-06 2016-10-10       5
 6     6 14274      76 female &lt;NA&gt;      2015-04-05 2016-01-23       7
 7     7 14132      16 male   confirmed NA         2015-05-10       8
 8     8 14715      44 female confirmed NA         2016-04-24       9
 9     9 13435      26 male   &lt;NA&gt;      2014-09-07 2020-09-14      10
10    10 14816      30 female &lt;NA&gt;      2015-06-29 2015-06-02      11
# ℹ 14,990 more rows</code></pre>
</div>
<p>Cette approche simplifie le processus de nettoyage des données, en
garantissant que les variables catégorielles dans les jeux de données
épidémiologiques sont catégorisées avec précision et prêtes pour une
analyse plus ultérieures.</p>
<!--
:::::::::::::::::::::::::: spoiler

#### Comment créer votre propre dictionnaire de données ?

Notez que, lorsqu'une colonne du jeu de données contient des valeurs qui ne figurent pas dans le dictionnaire, la fonction `cleanepi::clean_using_dictionary()` soulèvera une erreur.

Vous pouvez commencer à construire un dictionnaire de données personnalisé avec un jeu de données dans ou à l'extérieur de R, puis utiliser la fonction
`cleanepi::add_to_dictionary()` pour y ajouter de nouveaux éléments dans le dictionnaire. Ceci est illustré dans l'exemple ci-dessous:


``` r
new_dictionary <- tibble::tibble(
  options = "0",
  values = "female",
  grp = "sex",
  orders = 1L
) %>%
  cleanepi::add_to_dictionary(
    option = "1",
    value = "male",
    grp = "sex",
    order = NULL
  )

new_dictionary
```

``` output
# A tibble: 2 × 4
  options values grp   orders
  <chr>   <chr>  <chr>  <int>
1 0       female sex        1
2 1       male   sex        2
```

Vous pouvez avoir plus de détails dans la section "Dictionary-based data substituting" dans la
[Vignette](https://epiverse-trace.github.io/cleanepi/articles/cleanepi.html#dictionary-based-data-substituting) du package {cleanepi}.

Pour simplifier la correction des valeurs mals orthographiées, nous avons introduit la function `correct_misspelled_values()` à partir de la version `1.1.1` de la librairie {cleanepi}. Cette fonction permet d'établir des correspondances entre les valeurs mals orthographiées et l'ensemble des vraies valeurs que peuvent prendre les colonnes cibles. Ces valeurs mals
orthographiées seront ainsi substituées par les vraies valeurs qui leurs sont orthographiquement plus proches.


``` r
# remplacer automatiquement les valeurs mals orthographiées de la
# colonne 'status' avec les vraies
sim_ebola_data <- cleanepi::correct_misspelled_values(
  data = sim_ebola_data,
  target_columns = "status",
  wordlist = c("confirmed", "probable", "suspected", "died", "recovered"),
  confirm = FALSE # remplacement sans demander l'avis de l'utilisateur
)
```

``` error
Error: 'correct_misspelled_values' is not an exported object from 'namespace:cleanepi'
```

``` r
# remplacer les valeurs mals orthographiées de la colonne 'status' avec
# les vraies apres avoir demander la confirmation à l'utilisateur
sim_ebola_data <- cleanepi::correct_misspelled_values(
  data = sim_ebola_data,
  target_columns = "status",
  wordlist = c("confirmed", "probable", "suspected", "died", "recovered"),
  confirm = TRUE # remplacement après confirmation de l'utilisateur
)
```

``` error
Error: 'correct_misspelled_values' is not an exported object from 'namespace:cleanepi'
```

Notez qu'il faudrait préalablement convertir les colonnes cibles en `charactère`
avant de procéder à la substitution.

::::::::::::::::::::::::::
-->
</div>
<div class="section level3">
<h3 id="calcul-de-lintervalle-de-temps-entre-différentes-dates">Calcul de l’intervalle de temps entre différentes dates<a class="anchor" aria-label="anchor" href="#calcul-de-lintervalle-de-temps-entre-diff%C3%A9rentes-dates"></a>
</h3>
<p>Durant l’analyse de données épidémiologiques, il est utile de suivre
et d’analyser les événements se produisant au cours du temps, tels que
la progression d’une épidémie (c’est-à-dire le temps écoulé entre la
date de signalement du premier cas et aujourd’hui) ou la durée entre la
durée entre la date de collection et d’analyse des échantillons
(c’est-à-dire le temps écoulé entre la date de collecte des échantillons
et aujourd’hui). L’exemple le plus courant est le calcul de l’âge des
individus à partir de leur date de naissance (c’est-à-dire la différence
de temps entre aujourd’hui et leurs dates de naissance).</p>
<p>La librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> dispose d’une fonction
permettant de calculer le temps écoulé entre deux événements datés à
différentes échelles de temps. Par exemple, l’extrait de code ci-dessous
utilise la fonction <code>cleanepi::timespan()</code> pour calculer le
temps écoulé depuis la date à laquelle les échantillons ont été
prélevées jusqu’au 3 janvier 2025 (<code>"2025-01-03"</code>).</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_ebola_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">timespan</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">sim_ebola_data</span>,</span>
<span>  target_column <span class="op">=</span> <span class="st">"date_sample"</span>,</span>
<span>  end_date <span class="op">=</span> <span class="fu">as.Date</span><span class="op">(</span><span class="st">"2025-01-03"</span><span class="op">)</span>,</span>
<span>  span_unit <span class="op">=</span> <span class="st">"years"</span>,</span>
<span>  span_column_name <span class="op">=</span> <span class="st">"years_since_collection"</span>,</span>
<span>  span_remainder_unit <span class="op">=</span> <span class="st">"months"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sim_ebola_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="va">case_id</span>, <span class="va">date_sample</span>, <span class="va">years_since_collection</span>, <span class="va">remainder_months</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 15,000 × 4
   case_id date_sample years_since_collection remainder_months
   &lt;chr&gt;   &lt;date&gt;                       &lt;dbl&gt;            &lt;dbl&gt;
 1 14905   2015-06-04                       9                7
 2 13043   2014-03-01                      10               10
 3 14364   2015-03-03                       9               10
 4 14675   2031-12-14                      -6              -11
 5 12648   2016-10-10                       8                2
 6 14274   2016-01-23                       8               11
 7 14132   2015-05-10                       9                7
 8 14715   2016-04-24                       8                8
 9 13435   2020-09-14                       4                3
10 14816   2015-06-02                       9                7
# ℹ 14,990 more rows</code></pre>
</div>
<p>Après avoir exécuté la fonction <code>cleanepi::timespan()</code>,
deux nouvelles colonnes nommées <code>years_since_collection</code> et
<code>remainder_months</code> ont été ajoutées à la base de données
<strong>sim_ebola_data</strong>. Ces colonnes contiennent respectivement
le temps écoulé depuis la date de prélèvement de l’échantillon de chaque
individu, mesuré en années, et le temps restant mesuré en mois.</p>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Défi</h3>
<div class="callout-content">
<p>Les données relatives à l’âge sont utiles dans beaucoup d’analyses
qui seront menées après le nettoyage des données. Vous pouvez classer
les âges en catégories pour générer des estimations stratifiées.</p>
<p>Utilisez le jeu de données <code>test_df.RDS</code> qui se trouve
dans la librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> pour calculez l’âge en années
<strong>jusqu’au 1er mars</strong> à partir de la date de naissance des
sujets, et le temps restant en mois. Nettoyez et standardisez les
éléments nécessaires pour y parvenir.</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># lire les donnees dans test_df.RDS</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">readRDS</span><span class="op">(</span></span>
<span>  file <span class="op">=</span> <span class="fu">system.file</span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"test_df.RDS"</span>, package <span class="op">=</span> <span class="st">"cleanepi"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="indice">
<p>Avant de calculer l’âge, vous aurez besoin de:</p>
<ul>
<li>normaliser les noms des colonnes</li>
<li>standardiser les colonnes de type date</li>
<li>remplacer les valeurs manquantes par ‘NA’</li>
</ul>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Montrer la solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>Dans la solution, nous avons ajouter
<code>date_first_pcr_positive_test</code> parmi les colonnes de type
date à standardiser étant donné que c’est une variable qui est souvent
utilisée durant les analyse épidémiologiques.</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_clean</span> <span class="op">&lt;-</span> <span class="va">dat</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># normaliser les noms de colonnes et les colonnes de type date</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_column_names</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_dates</span><span class="op">(</span></span>
<span>    target_columns <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"date_of_birth"</span>, <span class="st">"date_first_pcr_positive_test"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># replacer les chaînes de caractères représentant les données</span></span>
<span>  <span class="co"># manquantes avec NA</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">replace_missing_values</span><span class="op">(</span></span>
<span>    target_columns <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"date_of_birth"</span><span class="op">)</span>,</span>
<span>    na_strings <span class="op">=</span> <span class="st">"-99"</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># calculer l'age en 'annees' and retourner le reste en 'mois'</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">timespan</span><span class="op">(</span></span>
<span>    target_column <span class="op">=</span> <span class="st">"date_of_birth"</span>,</span>
<span>    end_date <span class="op">=</span> <span class="fu">as.Date</span><span class="op">(</span><span class="st">"2025-03-01"</span><span class="op">)</span>,</span>
<span>    span_unit <span class="op">=</span> <span class="st">"years"</span>,</span>
<span>    span_column_name <span class="op">=</span> <span class="st">"age_in_years"</span>,</span>
<span>    span_remainder_unit <span class="op">=</span> <span class="st">"months"</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>! Found &lt;numeric&gt; values that could also be of type &lt;Date&gt; in column:
  date_of_birth.
ℹ It is possible to convert them into &lt;Date&gt; using: `lubridate::as_date(x,
  origin = as.Date("1900-01-01"))`
• where "x" represents here the vector of values from these columns
  (`data$target_column`).</code></pre>
</div>
<p>Maintenant, comment définiriez-vous les classes d’une variable
numérique ?</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Montrer la solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>La solution la plus simple consiste à utiliser
<code>Hmisc::cut2()</code>. Vous pouvez également utiliser
<code>dplyr::case_when()</code>. Cependant cette solution nécessite plus
de lignes de code et est plus appropriée pour les catégorisations
personnalisées. Nous vous proposons ici une solution basée sur
<code>base::cut()</code>:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_clean</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># selectionner les colonnes d'intéret</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span></span>
<span>    <span class="va">study_id</span>,</span>
<span>    <span class="va">sex</span>,</span>
<span>    <span class="va">date_first_pcr_positive_test</span>,</span>
<span>    <span class="va">date_of_birth</span>,</span>
<span>    <span class="va">age_in_years</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># categoriser la variable age [ajouter comme indice dans le challenge]</span></span>
<span>  <span class="co"># replacer avec la valeur maximale si elle est connue</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span></span>
<span>    age_category <span class="op">=</span> <span class="fu">base</span><span class="fu">::</span><span class="fu">cut</span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">age_in_years</span>,</span>
<span>      breaks <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span>, <span class="fl">35</span>, <span class="fl">60</span>, <span class="cn">Inf</span><span class="op">)</span>,</span>
<span>      include.lowest <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      right <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 10 × 6
   study_id   sex date_first_pcr_posit…¹ date_of_birth age_in_years age_category
   &lt;chr&gt;    &lt;int&gt; &lt;date&gt;                 &lt;date&gt;               &lt;dbl&gt; &lt;fct&gt;
 1 PS001P2      1 2020-12-01             1972-06-01              52 [35,60)
 2 PS002P2      1 2021-01-01             1952-02-20              73 [60,Inf]
 3 PS004P2…    NA 2021-02-11             1961-06-15              63 [60,Inf]
 4 PS003P2      1 2021-02-01             1947-11-11              77 [60,Inf]
 5 P0005P2      2 2021-02-16             2000-09-26              24 [20,35)
 6 PS006P2      2 2021-05-02             NA                      NA &lt;NA&gt;
 7 PB500P2      1 2021-02-19             1989-11-03              35 [35,60)
 8 PS008P2      2 2021-09-20             1976-10-05              48 [35,60)
 9 PS010P2      1 2021-02-26             1991-09-23              33 [20,35)
10 PS011P2      2 2021-03-03             1991-02-08              34 [20,35)
# ℹ abbreviated name: ¹​date_first_pcr_positive_test</code></pre>
</div>
<p>Vous pouvez rechercher les valeurs maximales des variables à travers
le résumé obtenu en utilisant la fonction <code>skimr::skim()</code>. Au
lieu de <code>base::cut()</code> vous pouvez également utiliser
<code>Hmisc::cut2(x = age_in_years,cuts = c(20,35,60))</code> qui
calcule la valeur maximale et ne nécessite pas plus d’arguments.</p>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="plusieurs-opérations-à-la-fois">Plusieurs opérations à la fois<a class="anchor" aria-label="anchor" href="#plusieurs-op%C3%A9rations-%C3%A0-la-fois"></a>
</h2>
<hr class="half-width">
<p>L’exécution individuelle des opérations de nettoyage des données peut
prendre beaucoup de temps et être source d’erreurs. La fonction
<code>clean_data()</code> de la librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> permet
de simplifier ce processus en permettant d’exécuter plusieurs opérations
à la fois.</p>
<p>Lorsque l’utilisateur ne spécifie aucune opération de nettoyage de
données, la fonction applique automatiquement une série d’opérations de
nettoyage de données. Voici un exemple de code illustrant l’utilisation
de la fonction <code>clean_data()</code> sur le jeu de données simulé
d’Ebola:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cleaned_data</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">clean_data</span><span class="op">(</span><span class="va">raw_ebola_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ℹ Cleaning column names</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ℹ Removing constant columns and empty rows</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ℹ Removing duplicated rows</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>! Found 5 duplicated rows in the dataset.
ℹ Use `attr(dat, "report")[["duplicated_rows"]]` to access them, where "dat" is
  the object used to store the output from this operation.</code></pre>
</div>
<p>En outre, vous pouvez combiner plusieurs opérations de nettoyage de
données via l’opérateur pipe (<code>|&gt;</code>) de la librairie de
base de R ou celui de la librairie {magrittr} (<code>%&gt;%</code>),
comme illustré à travers le code ci-dessous.</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Exécuter les opérations de nettoyage de données en utilisant l'opérateur %&gt;%</span></span>
<span><span class="va">cleaned_data</span> <span class="op">&lt;-</span> <span class="va">raw_ebola_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_column_names</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">remove_constants</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">remove_duplicates</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">replace_missing_values</span><span class="op">(</span>na_strings <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">check_subject_ids</span><span class="op">(</span></span>
<span>    target_columns <span class="op">=</span> <span class="st">"case_id"</span>,</span>
<span>    range <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="fl">1</span>, <span class="fl">15000</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_dates</span><span class="op">(</span></span>
<span>    target_columns <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"date_onset"</span>, <span class="st">"date_sample"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">convert_to_numeric</span><span class="op">(</span>target_columns <span class="op">=</span> <span class="st">"age"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">check_date_sequence</span><span class="op">(</span></span>
<span>    target_columns <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"date_onset"</span>, <span class="st">"date_sample"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">clean_using_dictionary</span><span class="op">(</span>dictionary <span class="op">=</span> <span class="va">test_dict</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">timespan</span><span class="op">(</span></span>
<span>    target_column <span class="op">=</span> <span class="st">"date_sample"</span>,</span>
<span>    end_date <span class="op">=</span> <span class="fu">as.Date</span><span class="op">(</span><span class="st">"2025-01-03"</span><span class="op">)</span>,</span>
<span>    span_unit <span class="op">=</span> <span class="st">"years"</span>,</span>
<span>    span_column_name <span class="op">=</span> <span class="st">"years_since_collection"</span>,</span>
<span>    span_remainder_unit <span class="op">=</span> <span class="st">"months"</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<div id="discussion3" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Défi</h3>
<div class="callout-content">
<p>Avez-vous remarqué que <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> contient un ensemble
de fonctions pour <strong>diagnostiquer</strong> l’état de propreté des
données et un autre ensemble pour <strong>effectuer</strong> le
nettoyage ?</p>
<p>Identifier les deux groupes :</p>
<ul>
<li>Sur une feuille de papier, écrivez le nom de chaque fonction dans la
colonne correspondante :</li>
</ul>
<table class="table">
<colgroup>
<col width="47%">
<col width="52%">
</colgroup>
<thead><tr class="header">
<th>
<strong>Diagnostiquer</strong> la propreté des données</th>
<th>
<strong>Effectuer</strong> le nettoyage des données</th>
</tr></thead>
<tbody><tr class="odd">
<td>…</td>
<td>…</td>
</tr></tbody>
</table>
</div>
</div>
</div>

</section><section><h2 class="section-heading" id="rapport-du-nettoyage-des-données">Rapport du nettoyage des données<a class="anchor" aria-label="anchor" href="#rapport-du-nettoyage-des-donn%C3%A9es"></a>
</h2>
<hr class="half-width">
<p><a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> génère un rapport complet détaillant les
résultats et les actions de tous les fonctions ayant servi au nettoyages
de données. Ce rapport se présente sous la forme d’un fichier HTML qui
s’ouvrira automatiquement dans votre navigateur par défaut. Il comporte
plusieurs sections. Chaque section correspond à une opération spécifique
de nettoyage des données, et un clic sur chaque section vous permet
d’accéder aux résultats de l’opération de nettoyage des données en
question. Cette approche interactive permet aux utilisateurs d’examiner
et d’analyser efficacement les effets des opérations de nettoyage des
données.</p>
<p>Vous pouvez consulter le rapport de nettage de données à l’aide de la
fonction <code>cleanepi::print_report(cleaned_data)</code>.</p>
<p>
<figure><img src="fig/report_demo.png" alt="Rapport de nettoyage des données" width="600" class="figure"><figcaption><p>
Exemple de rapport de nettoyage de données généré par
<a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>
</p>
<p>
Les rapports de nettoyage de données sont générés par
<a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>.
</p></figcaption></figure></p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Points clés</h3>
<div class="callout-content">
<ul>
<li>Utiliser <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> pour nettoyer et normaliser les
données à caractère épidémiologiques.</li>
<li>Comprendre comment utiliser <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a> pour effectuer
des tâches courantes de nettoyage de données.</li>
<li>Visualiser le rapport de nettoyage des données dans un navigateur,
le consulter et prendre des décisions.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-validate"><p>Content from <a href="validate.html">Valider les données épidémiologiques</a></p>
<hr>
<p>Dernière mise à jour le 2025-09-03 |

        <a href="https://github.com/epiverse-trace/tutorials-early-fr/edit/main/episodes/validate.Rmd" class="external-link">Modifier cette page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Afficher toutes les solutions " data-collapse="Cacher toutes les solutions "> Afficher toutes les solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Vue d'ensemble</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>Comment convertir les données brutes en un objet de la classe
<code>linelist</code> ?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectifs</h3>
<ul>
<li>Démontrez comment convertir les données portant sur les cas
épidémiques en objet de type <code>linelist</code>
</li>
<li>Démontrer comment étiqueter et valider les données pour rendre
l’analyse plus fiable</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="prereq1" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Pré-requis</h3>
<div class="callout-content">
<p>Pour cet épisode vous devez :</p>
<ul>
<li>Télécharger le fichier <a href="https://epiverse-trace.github.io/tutorials-early/data/cleaned_data.csv" class="external-link">données_nettoyées.csv</a>
</li>
<li>Et le sauvegarder dans le dossier <code>data/</code>.</li>
</ul>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>Après la lecture et le nettoyage des données, il est essentiel
d’ajouter une étape supplémentaire fondamentale pour garantir
l’intégrité et la fiabilité durant le processus d’analyse des données
épidémiologiques. Dans le cas contraire, vous risquez de rencontrer des
problèmes lors de l’analyse des données à cause de la création ou
suppression de certaines variables ou de la modification de leur type
(tel que <code>&lt;date&gt;</code> ou <code>&lt;chr&gt;</code>), etc.
Plus précisément, cette étape supplémentaire implique :</p>
<ol style="list-style-type: decimal">
<li>La vérification de la présence de certaines colonnes et de leur type
de données. Ce processus est communément appelé
<strong>étiquetage</strong> ;</li>
<li>La mise en œuvre de mesures pour s’assurer que ces colonnes
étiquettées ne soient pas supprimées par inadvertance lors du traitement
des données. On parle de <strong>validation</strong> des données.</li>
</ol>
<p>Cet épisode est consacré à l’étiquettage et la validation des données
épidémiologiques à l’aide de la librairie <a href="https://epiverse-trace.github.io/linelist/" class="external-link">{linelist}</a>. Nous
aurons besoin de la librairie <a href="https://gesistsa.github.io/rio/" class="external-link">rio</a> pour importer les
données, de <a href="https://epiverse-trace.github.io/linelist/" class="external-link">linelist</a> pour créer un objet de la classe
linelist. Nous utiliserons l’opérateur pipe (<code>%&gt;%</code>) pour
connecter certaines de leurs fonctions, y compris celles de la librairie
<a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>. Pour cette raison, nous allons donc charger la
librairie {tidyverse}.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># charger packages</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">rio</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">here</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">linelist</span><span class="op">)</span> <span class="co"># pour etiquetter et valider les donnees</span></span></code></pre>
</div>
<div id="lopérateur-double-deux-points" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="lopérateur-double-deux-points" class="callout-inner">
<h3 class="callout-title">L’opérateur double deux-points
(<code>::</code>)</h3>
<div class="callout-content">
<p>L’opérateur <code>::</code> de R permet d’accéder aux fonctions ou
aux objets d’un package spécifique sans attacher l’intégralité du
package (sans faire appel à la function<code>libray()</code>). Il offre
plusieurs avantages, notamment :</p>
<ul>
<li>Indiquer explicitement le package d’origine d’une fonction,
réduisant ainsi les ambiguïtés et les conflits potentiels lorsque
plusieurs packages possèdent des fonctions portant le même nom.</li>
<li>Permettre d’appeler une fonction depuis un package sans charger
l’intégralité du package avec <code>library()</code>.</li>
</ul>
<p>Par exemple, la commande <code>dplyr::filter(data, condition)</code>
signifie que nous appelons la fonction <code>filter()</code> depuis la
librairie <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>.</p>
</div>
</div>
</div>
<p>Importez le jeu de données en suivant les directives énoncées dans
l’épisode document <a href="read-cases.html">Lecture des données
épidémiologiques</a>. Il s’agit d’importer les données dans
l’environnement de travail et de visualiser sa structure et son
contenu.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># lecture des données</span></span>
<span><span class="co"># supposons que le chemin d'acces au fichier</span></span>
<span><span class="co"># est: data/simulated_ebola_2.csv, alors:</span></span>
<span><span class="va">cleaned_data</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu">import</span><span class="op">(</span></span>
<span>  <span class="fu">here</span><span class="fu">::</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"cleaned_data.csv"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># voir un aperçu des 10 premieres ligne du tableau de donnees</span></span>
<span><span class="va">cleaned_data</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 15,000 × 10
     v_1 case_id   age gender status    date_onset date_sample row_id
   &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;IDate&gt;    &lt;IDate&gt;      &lt;int&gt;
 1     1   14905    90 male   confirmed 2015-03-15 2015-04-06       1
 2     2   13043    25 female &lt;NA&gt;      2013-09-11 2014-01-03       2
 3     3   14364    54 female &lt;NA&gt;      2014-02-09 2015-03-03       3
 4     4   14675    90 &lt;NA&gt;   &lt;NA&gt;      2014-10-19 2014-12-31       4
 5     5   12648    74 female &lt;NA&gt;      2014-06-08 2016-10-10       5
 6     6   14274    76 female &lt;NA&gt;      2015-04-05 2016-01-23       7
 7     7   14132    16 male   confirmed NA         2015-10-05       8
 8     8   14715    44 female confirmed NA         2016-04-24       9
 9     9   13435    26 male   &lt;NA&gt;      2014-07-09 2014-09-20      10
10    10   14816    30 female &lt;NA&gt;      2015-06-29 2015-02-06      11
# ℹ 14,990 more rows
# ℹ 2 more variables: years_since_collection &lt;int&gt;, remainder_months &lt;int&gt;</code></pre>
</div>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Discussion</h3>
<div class="callout-content">
<p>Avez-vous déjà été confronté à une modification inattendue de
certaines observations et/ou colonnes de vos données d’entrée lors d’une
analyse épidémiologique ? Comment protégez-vous votre analyse de ce
désagrément ?</p>
<div class="section level3">
<h3 id="un-changement-inattendu">Un changement inattendu<a class="anchor" aria-label="anchor" href="#un-changement-inattendu"></a>
</h3>
<p>Vous êtes dans une situation d’urgence. Vous devez produire des
rapports de situation quotidiennes. Vous avez automatisé votre analyse
pour lire les données directement à partir du serveur en ligne :grin :.
Cependant, les personnes chargées de la collecte et de l’administration
des données devaient <strong>supprimer/renommer/reformater</strong> une
variable qui s’est afférée utile <span class="emoji" data-emoji="disappointed">😞</span> !</p>
<p>Comment pouvez-vous détecter si les données saisies sont
<strong>toujours valides</strong> pour reproduire l’analyse en utilisant
le même code que la veille ?</p>
</div>
</div>
</div>
</div>

</section><section><h2 class="section-heading" id="réation-dun-objet-de-type-linelist-et-étiquetage-des-colonnes">réation d’un objet de type linelist et étiquetage des colonnes<a class="anchor" aria-label="anchor" href="#r%C3%A9ation-dun-objet-de-type-linelist-et-%C3%A9tiquetage-des-colonnes"></a>
</h2>
<hr class="half-width">
<p>Après avoir importé et nettoyé les données, nous pouvons les
convertir en un objet de la classe <code>linelist</code> à l’aide de la
fonction <code>make_linelist()</code> de la librairie
<a href="https://epiverse-trace.github.io/linelist/" class="external-link">linelist</a> comme dans l’exemple suivant ci-dessous.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># creer un objet de type linelist a partir des donnees nettoyees</span></span>
<span><span class="va">linelist_data</span> <span class="op">&lt;-</span> <span class="fu">linelist</span><span class="fu">::</span><span class="fu">make_linelist</span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">cleaned_data</span>,         <span class="co"># les donnees d'entree</span></span>
<span>  id <span class="op">=</span> <span class="st">"case_id"</span>,   <span class="co"># colonne avec les identifiants uniques des individus</span></span>
<span>  date_onset <span class="op">=</span> <span class="st">"date_onset"</span>, <span class="co"># colonne avec la date d'apparition des symptomes</span></span>
<span>  gender <span class="op">=</span> <span class="st">"gender"</span>          <span class="co"># colonne ayant le genre des individus</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># voir un aperçu de l'objet cree</span></span>
<span><span class="va">linelist_data</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
// linelist object
# A tibble: 15,000 × 10
     v_1 case_id   age gender status    date_onset date_sample row_id
   &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;IDate&gt;    &lt;IDate&gt;      &lt;int&gt;
 1     1   14905    90 male   confirmed 2015-03-15 2015-04-06       1
 2     2   13043    25 female &lt;NA&gt;      2013-09-11 2014-01-03       2
 3     3   14364    54 female &lt;NA&gt;      2014-02-09 2015-03-03       3
 4     4   14675    90 &lt;NA&gt;   &lt;NA&gt;      2014-10-19 2014-12-31       4
 5     5   12648    74 female &lt;NA&gt;      2014-06-08 2016-10-10       5
 6     6   14274    76 female &lt;NA&gt;      2015-04-05 2016-01-23       7
 7     7   14132    16 male   confirmed NA         2015-10-05       8
 8     8   14715    44 female confirmed NA         2016-04-24       9
 9     9   13435    26 male   &lt;NA&gt;      2014-07-09 2014-09-20      10
10    10   14816    30 female &lt;NA&gt;      2015-06-29 2015-02-06      11
# ℹ 14,990 more rows
# ℹ 2 more variables: years_since_collection &lt;int&gt;, remainder_months &lt;int&gt;

// tags: id:case_id, date_onset:date_onset, gender:gender </code></pre>
</div>
<p>La librairie <a href="https://epiverse-trace.github.io/linelist/" class="external-link">linelist</a> fournit des étiquettes aux
variables épidémiologiques courantes et leurs associe un ensemble de
types de données appropriés. Vous pouvez consulter la liste des
étiquettes disponibles à partir du nom de la variable et les types de
données acceptables pour chacune d’entre elles en utilisant la fonction
<code>linelist::tags_types()</code>.</p>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Défi</h3>
<div class="callout-content">
<p>Etiquettons d’autres variables. Dans certains jeu de données, il est
possible de trouver des noms de variables qui sont différents des noms
des étiquettes disponibles. Dans ces cas là, nous pouvons les associer
en fonction de la façon dont les variables ont été définies durant la
collecte des données.</p>
<p>Maintenant:</p>
<ul>
<li>
<strong>Explorer</strong> les noms de étiquettes disponibles dans
{linelist}.</li>
<li>
<strong>Trouver</strong> quelles autres variables de ce jeu de
données peuvent être associées à l’une des étiquettes disponibles.</li>
<li>
<strong>Étiquetter</strong> ces variables comme on l’a montré
ci-dessus en utilisant la fonction
<code>linelist::make_linelist()</code>.</li>
</ul>
</div>
</div>
</div>
<div id="accordionHint1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint1" aria-expanded="false" aria-controls="collapseHint1">
  <h4 class="accordion-header" id="headingHint1"> Donner un indice </h4>
</button>
<div id="collapseHint1" class="accordion-collapse collapse" data-bs-parent="#accordionHint1" aria-labelledby="headingHint1">
<div class="accordion-body">
<p>Vous pouvez accéder à la liste des noms des étiquettes disponibles
dans la librairie {linelist} en utilisant :</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># obtenir la liste des noms et types des etiquettes</span></span>
<span><span class="fu">linelist</span><span class="fu">::</span><span class="fu">tags_types</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># obtenir la liste des noms des etiquettes uniquement</span></span>
<span><span class="fu">linelist</span><span class="fu">::</span><span class="fu">tags_names</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Montrer la solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">linelist</span><span class="fu">::</span><span class="fu">make_linelist</span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">cleaned_data</span>,</span>
<span>  id <span class="op">=</span> <span class="st">"case_id"</span>,</span>
<span>  date_onset <span class="op">=</span> <span class="st">"date_onset"</span>,</span>
<span>  gender <span class="op">=</span> <span class="st">"gender"</span>,</span>
<span>  age <span class="op">=</span> <span class="st">"age"</span>, <span class="co"># meme nom que celui utilise dans la liste des etiquettes</span></span>
<span>  date_reporting <span class="op">=</span> <span class="st">"date_sample"</span> <span class="co"># noms differents mais lies</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<p>Comment apparaissent ces étiquettes supplémentaires dans le nouveau
objet ?</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="validation">Validation<a class="anchor" aria-label="anchor" href="#validation"></a>
</h2>
<hr class="half-width">
<p>Pour s’assurer que toutes les variables étiquettées sont aux normes
et que leurs types de données sont correctes, utilisez la fonction
<code>linelist::validate_linelist()</code> comme le montre l’exemple
ci-dessous :</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">linelist</span><span class="fu">::</span><span class="fu">validate_linelist</span><span class="op">(</span><span class="va">linelist_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>'linelist_data' is a valid linelist object</code></pre>
</div>
<!-- Si votre jeu de données nécessite une nouvelle étiquette, définissez l'argument `allow_extra = TRUE` lors de la création de l'objet linelist.-->
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Défi</h3>
<div class="callout-content">
<p>Imaginons le scénario suivant lors d’une épidémie en cours. Vous
remarquez à un moment donné que la source de données sur laquelle vous
vous appuyiez comporte un ensemble de nouvelles entrées (c’est-à-dire
des lignes ou des observations) et que le type de données d’une variable
a changé.</p>
<p>Prenons l’exemple où le type de la variable <code>age</code> est
passé de double (<code>&lt;dbl&gt;</code>) à caractère
(<code>&lt;chr&gt;</code>).</p>
<p>Pour simuler cette situation :</p>
<ul>
<li>
<strong>Modifiez</strong> le type de données de la variable,</li>
<li>
<strong>Étiquetez</strong> la variable dans un object linelist,
puis</li>
<li>
<strong>Validez</strong> la variable.</li>
</ul>
<p>Décrivez comment <code>linelist::validate_linelist()</code> réagit
lorsque le type de données d’une variable a été modifié.</p>
</div>
</div>
</div>
<div id="accordionHint2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint2" aria-expanded="false" aria-controls="collapseHint2">
  <h4 class="accordion-header" id="headingHint2"> Donner un indice </h4>
</button>
<div id="collapseHint2" class="accordion-collapse collapse" data-bs-parent="#accordionHint2" aria-labelledby="headingHint2">
<div class="accordion-body">
<p>Nous pouvons utiliser <code>dplyr::mutate()</code> pour modifier le
type de la variable avant de l’étiqueter pour la validation.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cleaned_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># modifier le type de donnees d'une variable</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span>age <span class="op">=</span> <span class="fu">as.character</span><span class="op">(</span><span class="va">age</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># etiqueter variable</span></span>
<span>  <span class="fu">linelist</span><span class="fu">::</span><span class="va">...</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># valider l'objet linelist</span></span>
<span>  <span class="fu">linelist</span><span class="fu">::</span><span class="va">...</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionHint3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint3" aria-expanded="false" aria-controls="collapseHint3">
  <h4 class="accordion-header" id="headingHint3"> Donner un indice </h4>
</button>
<div id="collapseHint3" class="accordion-collapse collapse" data-bs-parent="#accordionHint3" aria-labelledby="headingHint3">
<div class="accordion-body">
<blockquote>
<p>Veuillez exécuter le code ligne par ligne, en vous concentrant
uniquement sur les parties situées avant l’opérateur pipe
(<code>%&gt;%</code>). Après chaque étape, observez la sortie avant de
passer à la ligne suivante.</p>
</blockquote>
<p>Si le résultat <code>age</code> passe de double
(<code>&lt;dbl&gt;</code>) en caractère (<code>&lt;chr&gt;</code>), nous
obtenons ce qui suit :</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cleaned_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># convertir la variable 'age' en chaine de caracteres</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span>age <span class="op">=</span> <span class="fu">as.character</span><span class="op">(</span><span class="va">age</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># etiqueter la variable age</span></span>
<span>  <span class="fu">linelist</span><span class="fu">::</span><span class="fu">make_linelist</span><span class="op">(</span>age <span class="op">=</span> <span class="st">"age"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># valider l'objet linelist</span></span>
<span>  <span class="fu">linelist</span><span class="fu">::</span><span class="fu">validate_linelist</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERREUR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error: Some tags have the wrong class:
  - age: Must inherit from class 'numeric'/'integer', but has class 'character'</code></pre>
</div>
<p>Pourquoi recevons-nous un message <code>d'Erreur</code> ?</p>
<p>Devrions-nous avoir un message d’alerte à la place ? Expliquez
pourquoi. Explorez d’autres situations pour comprendre ce comportement
en convertissant:</p>
<ul>
<li>
<code>date_onset</code> de <code>&lt;date&gt;</code> en caractère
(<code>&lt;chr&gt;</code>),</li>
<li>
<code>gender</code> de caractère (<code>&lt;chr&gt;</code>) en
nombre entier (<code>&lt;int&gt;</code>).</li>
</ul>
<p>Ensuite, étiquetez-les dans dans l’objet linelist pour validation.
Est-ce que le message <code>d'Erreur</code> nous propose-t-il une
solution ?</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Montrer la solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># deuxieme changement</span></span>
<span><span class="co"># executer ce code ligne par ligne pour voir les changements</span></span>
<span><span class="va">cleaned_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># modifier le type de la variable 'date_onset'</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span>date_onset <span class="op">=</span> <span class="fu">as.character</span><span class="op">(</span><span class="va">date_onset</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># tiqueter le variable 'date_onset'</span></span>
<span>  <span class="fu">linelist</span><span class="fu">::</span><span class="fu">make_linelist</span><span class="op">(</span></span>
<span>    date_onset <span class="op">=</span> <span class="st">"date_onset"</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># valider l'objet linelist</span></span>
<span>  <span class="fu">linelist</span><span class="fu">::</span><span class="fu">validate_linelist</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># troisieme changement</span></span>
<span><span class="co"># executer ce code ligne par ligne pour voir les changements</span></span>
<span><span class="va">cleaned_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># modifier le type de la variable 'gender'</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span>gender <span class="op">=</span> <span class="fu">as.factor</span><span class="op">(</span><span class="va">gender</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span>gender <span class="op">=</span> <span class="fu">as.integer</span><span class="op">(</span><span class="va">gender</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># etiqueter la variable 'gender'</span></span>
<span>  <span class="fu">linelist</span><span class="fu">::</span><span class="fu">make_linelist</span><span class="op">(</span></span>
<span>    gender <span class="op">=</span> <span class="st">"gender"</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># valider l'objet linelist</span></span>
<span>  <span class="fu">linelist</span><span class="fu">::</span><span class="fu">validate_linelist</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p>Nous obtenons des messages <code>d'Erreur</code> car le type par
défaut de ces variables dans <code>linelist::tags_types()</code> est
différent de celui dont on les a associé.</p>
<p>Le message <code>d'Erreur</code> nous informe que pour
<strong>valider</strong> notre objet linelist, nous devons changer le
type de variable d’entrée de sorte qu’il corresponde au type d’étiquette
attendu. Dans un script d’analyse de données, nous pouvons le faire en
ajoutant une étape de nettoyage dans le pipeline.</p>
</div>
</div>
</div>
</div>
<div id="challenge3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Défi</h3>
<div class="callout-content">
<p>En dehors de l’étiquetage et de la validation de l’ojet linelist, de
quelle autre étape avons-nous besoin lors de la construction de l’objet
?</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Montrer la solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>Voici un scénario où nous allons essayer d’étiqueter une variable qui
n’existe pas dans notre jeu de données.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cleaned_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># supprimer la variable 'age'</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">age</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># etiqueter la variable 'age' qui n'existe plus</span></span>
<span>  <span class="fu">linelist</span><span class="fu">::</span><span class="fu">make_linelist</span><span class="op">(</span>age <span class="op">=</span> <span class="st">"age"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERREUR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error in base::tryCatch(base::withCallingHandlers({: 1 assertions failed:
 * Variable 'tag': Must be element of set
 * {'v_1','case_id','gender','status','date_onset','date_sample','row_id','years_since_collection','remainder_months'},
 * but is 'age'.</code></pre>
</div>
<p>On a donc besoin de mettre en place un mécanisme pour protéger les
données de toutes actions inopportunes.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="protéger-les-données">Protéger les données<a class="anchor" aria-label="anchor" href="#prot%C3%A9ger-les-donn%C3%A9es"></a>
</h2>
<hr class="half-width">
<p>La protection des données est implicitement intégrée dans les objets
de la classe linelist. Si vous essayez de supprimer l’une des variables
étiquetées, vous recevrez un message d’erreur ou d’avertissement, comme
le montre l’exemple ci-dessous.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_df</span> <span class="op">&lt;-</span> <span class="va">linelist_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="va">case_id</span>, <span class="va">gender</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AVERTISSEMENT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: The following tags have lost their variable:
 date_onset:date_onset</code></pre>
</div>
<p>Ce message d’avertissement qui s’affiche est l’option par défaut
lorsque nous perdons des étiquetes dans un objet de la classe linelist.
Cependant, il peut être remplacé par un message <code>d'Erreur</code> en
utilisant la fonction <code>linelist::lost_tags_action()</code>.</p>
<div id="challenge4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Défi</h3>
<div class="callout-content">
<p>Testons les implications de la variation de la configuration de
<strong>protection</strong> d’un objet linelist de
<code>Avertissement</code> à <code>Erreur</code>.</p>
<ul>
<li>Tout d’abord, exécutez ce code pour compter la fréquence des
catégorie au sein d’une variable catégorielle :</li>
</ul>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">linelist_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="va">case_id</span>, <span class="va">gender</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">count</span><span class="op">(</span><span class="va">gender</span><span class="op">)</span></span></code></pre>
</div>
<ul>
<li>Spéficier qu’on souhaite obtenir un message
<strong>d’Erreur</strong> au lieu d’un <strong>Avertissement</strong> à
la suite de la perte d’une variable étiquetée de l’objet linelist :</li>
</ul>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># retourner une erreur</span></span>
<span><span class="fu">linelist</span><span class="fu">::</span><span class="fu">lost_tags_action</span><span class="op">(</span>action <span class="op">=</span> <span class="st">"error"</span><span class="op">)</span></span></code></pre>
</div>
<ul>
<li>Maintenant, réexécutez le bloc de code ci-dessus avec
<code>dplyr::count()</code>.</li>
<li>Quelle est la différence entre le message
<code>d'Avertissement</code> et le message <code>d'Erreur</code> ?</li>
<li>Quelles pourraient être les implications de ce changement pour votre
pipeline d’analyse quotidienne de données lors d’une réponse à une
épidémie ?</li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Montrer la solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<p>Décider entre <code>Avertir et continuer l'exécution du code</code>
ou <code>Arréter l'exécution du code avec un message d'erreur</code>
dépendra du niveau d’importance et de flexibilité dont vous avez besoin
lorsque vous perdez des étiquettes. L’un vous alertera d’un changement
mais continuera à exécuter le code en aval. L’autre arrêtera votre
pipeline d’analyse et le reste ne sera pas exécuté.</p>
<p>Un script de lecture, nettoyage et validation de données peut
nécessiter un pipeline plus stable ou fixe. Une analyse exploratoire des
données peut nécessiter une approche plus souple. Ces deux processus
peuvent être isolés dans des scripts ou des dossiers différents afin
d’adapter le mécanisme de protection à vos besoins.</p>
<p>Avant de continuer, rétablissez la configuration à l’option par
défaut de <code>Avertissement</code>:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># retablir l'option par defaut: "warning"</span></span>
<span><span class="fu">linelist</span><span class="fu">::</span><span class="fu">lost_tags_action</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Lost tags will now issue a warning.</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>A objet <code>linelist</code> ressemble à un data frame mais offre
des caractéristiques et fonctionnalités plus riches. Les librairies qui
prennent en compte les objets linelist peuvent exploiter ces
fonctionnalités. Par exemple, vous pouvez extraire un data frame
contenant uniquement les colonnes étiquetées à l’aide de la fonction
<code>linelist::tags_df()</code> comme indiqué ci-dessous :</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># extraire uniquement les colonnes étiquetées</span></span>
<span><span class="fu">linelist</span><span class="fu">::</span><span class="fu">tags_df</span><span class="op">(</span><span class="va">linelist_data</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 15,000 × 3
      id date_onset gender
   &lt;int&gt; &lt;IDate&gt;    &lt;chr&gt;
 1 14905 2015-03-15 male
 2 13043 2013-09-11 female
 3 14364 2014-02-09 female
 4 14675 2014-10-19 &lt;NA&gt;
 5 12648 2014-06-08 female
 6 14274 2015-04-05 female
 7 14132 NA         male
 8 14715 NA         female
 9 13435 2014-07-09 male
10 14816 2015-06-29 female
# ℹ 14,990 more rows</code></pre>
</div>
<p>Avec la librairie <a href="https://epiverse-trace.github.io/cleanepi/" class="external-link">cleanepi</a>, vous pouvez également
choisir d’appliquer certaines opérations de nettoyage de données
uniquement sur les les colonnes étiquetées. Il suffira de donner la
valeur <code>"linelist_tags"</code> à l’argument
<code>target_columns</code> de la finction correspondante.</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># identifier les doublons uniquement à travers les colonnes etiquetees</span></span>
<span><span class="va">linelist_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">find_duplicates</span><span class="op">(</span>target_columns <span class="op">=</span> <span class="st">"linelist_tags"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>! Found 177 duplicated rows in the dataset.
ℹ Use `attr(dat, "report")[["duplicated_rows"]]` to access them, where "dat" is
  the object used to store the output from this operation.</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
// linelist object
# A tibble: 15,000 × 10
     v_1 case_id   age gender status    date_onset date_sample row_id
   &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;IDate&gt;    &lt;IDate&gt;      &lt;int&gt;
 1     1   14905    90 male   confirmed 2015-03-15 2015-04-06       1
 2     2   13043    25 female &lt;NA&gt;      2013-09-11 2014-01-03       2
 3     3   14364    54 female &lt;NA&gt;      2014-02-09 2015-03-03       3
 4     4   14675    90 &lt;NA&gt;   &lt;NA&gt;      2014-10-19 2014-12-31       4
 5     5   12648    74 female &lt;NA&gt;      2014-06-08 2016-10-10       5
 6     6   14274    76 female &lt;NA&gt;      2015-04-05 2016-01-23       7
 7     7   14132    16 male   confirmed NA         2015-10-05       8
 8     8   14715    44 female confirmed NA         2016-04-24       9
 9     9   13435    26 male   &lt;NA&gt;      2014-07-09 2014-09-20      10
10    10   14816    30 female &lt;NA&gt;      2015-06-29 2015-02-06      11
# ℹ 14,990 more rows
# ℹ 2 more variables: years_since_collection &lt;int&gt;, remainder_months &lt;int&gt;

// tags: id:case_id, date_onset:date_onset, gender:gender </code></pre>
</div>
<div id="quand-dois-je-utiliser-linelist" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="quand-dois-je-utiliser-linelist" class="callout-inner">
<h3 class="callout-title">Quand dois-je utiliser
<code>{linelist}</code>?</h3>
<div class="callout-content">
<p>L’analyse des données au cours d’une réponse à une épidémie ou d’une
surveillance de masse exige un ensemble de différentes façons de
“protéger les données” par rapport aux situations de recherche
habituelles. Par exemple, vos données changeront ou seront mises à jour
au fil du temps avec de nouvelles entrées, nouvelles variables, des
variables seront renommées, etc.</p>
<p>La librairie <a href="https://epiverse-trace.github.io/linelist/" class="external-link">linelist</a> est plus appropriée pour ce type
de surveillance continue, mais aussi aux analyses de données générée sur
une longue période. Consultez la section de la vignette “Get started” à
propos de <a href="https://epiverse-trace.github.io/linelist/articles/linelist.html#should-i-use-linelist" class="external-link">When
I should consider using {linelist}?</a> pour plus d’informations.</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Points clés</h3>
<div class="callout-content">
<ul>
<li>Utiliser la librairie <a href="https://epiverse-trace.github.io/linelist/" class="external-link">linelist</a> pour étiqueter,
valider et protéger les données épidémiologiques pour l’analyse en
aval.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-describe-cases"><p>Content from <a href="describe-cases.html">Agréger et visualiser les données épidémiologiques</a></p>
<hr>
<p>Dernière mise à jour le 2025-09-03 |

        <a href="https://github.com/epiverse-trace/tutorials-early-fr/edit/main/episodes/describe-cases.Rmd" class="external-link">Modifier cette page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Afficher toutes les solutions " data-collapse="Cacher toutes les solutions "> Afficher toutes les solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Vue d'ensemble</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>Comment agréger et résumer les données épidémiologiques ?</li>
<li>Comment visualiser les données agrégées ?</li>
<li>Quelle est la répartition des cas dans le temps, l’espace, en
fonction du sexe, l’âge, etc ?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectifs</h3>
<ul>
<li>Simuler des données synthétiques sur les épidémies</li>
<li>Convertir un tableau de données des cas individuels (linelist) en
tableau d’incidence des cas au cours du temps</li>
<li>Créer des courbes épidémiques à partir de données d’incidence</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<hr class="half-width">
<p>Dans un pipeline d’analyse de données, l’analyse exploratoire des
données (AED) est une étape importante avant la modélisation
mathématique. L’AED aide à de déterminer les relations entre les
variables et de résumer leurs principales caractéristiques, souvent en
visualisant les données.</p>
<p>Dans cet épisode, nous allons explorer les techniques d’analyse
exploratoire des données épidémiologiques en utilisant des librairies de
<code>R</code>.</p>
<p>L’un des aspects clés de l’analyse des données épidémiologiques est
la notion de “<em>personne, lieu et temps</em>”. Il est important
d’identifier comment les événements observés - tels que les nombres de
cas confirmés, d’hospitalisations, de décès et de guérisons - évoluent
au cours du temps et comment ils varient en fonction des différents
localités et facteurs démographiques, notamment le sexe, l’âge, etc.</p>
<p>Commençons par charger la librairie <a href="https://github.com/epiverse-trace/simulist" class="external-link">simulist</a> pour
simuler des données épidémiologiques à analyser. Nous utiliserons
ensuite la librairie <a href="https://www.reconverse.org/incidence2/" class="external-link">incidence2</a> permettant d’agréger un
tableau des données individuelles en fonction de caractéristiques
spécifiques et de visualiser les courbes épidémiques (épicourbes) qui en
résultent. Le tableau de données agrégées obtenu représente le nombre de
nouveaux événements (c’est-à-dire l’incidence des cas au fil du temps).
Pour le formatage des figures, nous utiliserons la librairie
<code>{tracetheme}</code>. Nous utiliserons l’opérateur pipe
(<code>%&gt;%</code>) pour connecter certaines de leurs fonctions, y
compris celles des packages <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> et
<a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a>, ferons donc faire appel à la librairie
{tidyverse}.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Charger les librairies</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">incidence2</span><span class="op">)</span> <span class="co"># Pour aggréger et visualiser les données</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">simulist</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">tracetheme</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span></code></pre>
</div>
<div id="lopérateur-double-deux-points" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="lopérateur-double-deux-points" class="callout-inner">
<h3 class="callout-title">L’opérateur double deux-points
(<code>::</code>)</h3>
<div class="callout-content">
<p>L’opérateur <code>::</code> de R permet d’accéder aux fonctions ou
aux objets d’un package spécifique sans attacher l’intégralité du
package (sans faire appel à la function<code>libray()</code>). Il offre
plusieurs avantages, notamment :</p>
<ul>
<li>Indiquer explicitement le package d’origine d’une fonction,
réduisant ainsi les ambiguïtés et les conflits potentiels lorsque
plusieurs packages possèdent des fonctions portant le même nom.</li>
<li>Permettre d’appeler une fonction depuis un package sans charger
l’intégralité du package avec <code>library()</code>.</li>
</ul>
<p>Par exemple, la commande <code>dplyr::filter(data, condition)</code>
signifie que nous appelons la fonction <code>filter()</code> depuis la
librairie <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="données-synthétiques-sur-les-épidémies">Données synthétiques sur les épidémies<a class="anchor" aria-label="anchor" href="#donn%C3%A9es-synth%C3%A9tiques-sur-les-%C3%A9pid%C3%A9mies"></a>
</h2>
<hr class="half-width">
<p>Pour illustrer le processus d’analyse exploratoire des données
épidémiologiques, nous allons générer un tableau de données d’une
épidémie hypothétique à l’aide de la librairie <a href="https://github.com/epiverse-trace/simulist" class="external-link">simulist</a>.
<a href="https://github.com/epiverse-trace/simulist" class="external-link">simulist</a> génère des données simulées pour une épidémie
selon la configuration définie. Sa configuration par défaut permet de
générer un tableau de données individuelles comme le montre le morceau
de code ci-dessous.</p>
<p>Pour rappelle, vous pouvez désormais utiliser la librairie {readepi}
pour importer vos données portant sur les cas individuels á partir des
systèmes de gestion de base de données relationnelles, de DHIS2 et
SORMAS.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># initialiser le générateur de nombres aléatoires pour la reproducibilité</span></span>
<span><span class="fu">set.seed</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># simuler un tableau de données</span></span>
<span><span class="co"># pour une épidémie de la taille de 1000 à 1500 cas</span></span>
<span><span class="va">sim_data</span> <span class="op">&lt;-</span> <span class="fu">simulist</span><span class="fu">::</span><span class="fu">sim_linelist</span><span class="op">(</span>outbreak_size <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">1500</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AVERTISSEMENT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Number of cases exceeds maximum outbreak size.
Returning data early with 1546 cases and 3059 total contacts (including cases).</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Voir un aperçu des donnees simulees</span></span>
<span><span class="va">sim_data</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 1,546 × 13
      id case_name           case_type sex     age date_onset date_reporting
   &lt;int&gt; &lt;chr&gt;               &lt;chr&gt;     &lt;chr&gt; &lt;int&gt; &lt;date&gt;     &lt;date&gt;
 1     1 Zahra al-Masri      probable  f        37 2023-01-01 2023-01-01
 2     3 Waleeda al-Muhammad probable  f        12 2023-01-11 2023-01-11
 3     6 Rhett Jackson       confirmed m        53 2023-01-18 2023-01-18
 4     8 Sunnique Sims       confirmed f        36 2023-01-23 2023-01-23
 5    11 Danielle Griggs     probable  f        77 2023-01-30 2023-01-30
 6    14 Mohamed Parker      probable  m        37 2023-01-24 2023-01-24
 7    15 Melissa Eriacho     probable  f        67 2023-01-31 2023-01-31
 8    16 Maria Laughlin      probable  f        80 2023-01-30 2023-01-30
 9    20 Phillip Park        confirmed m        70 2023-01-27 2023-01-27
10    21 Dewarren Newton     probable  m        87 2023-02-09 2023-02-09
# ℹ 1,536 more rows
# ℹ 6 more variables: date_admission &lt;date&gt;, outcome &lt;chr&gt;,
#   date_outcome &lt;date&gt;, date_first_contact &lt;date&gt;, date_last_contact &lt;date&gt;,
#   ct_value &lt;dbl&gt;</code></pre>
</div>
<p>Ce tableau de données contient des enregistements simulés concernant
des individus répertoriés lors d’une épidémie.</p>
<div id="accordionSpoiler1" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler1" aria-expanded="false" aria-controls="collapseSpoiler1">
  <h3 class="accordion-header" id="headingSpoiler1">
  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div>
  Ressources supplémentaires concernant les données relatives aux épidémies
  </h3>
</button>
<div id="collapseSpoiler1" class="accordion-collapse collapse" data-bs-parent="#accordionSpoiler1" aria-labelledby="headingSpoiler1">
<div class="accordion-body">
<p>Ce qui précède est la configuration par défaut de
<a href="https://github.com/epiverse-trace/simulist" class="external-link">simulist</a>. Elle suppose un certain nombre d’hypothèses sur
la transmissibilité et la gravité de l’agent pathogène. Si vous
souhaitez en savoir plus sur la fonction
<code>simulist::sim_linelist()</code> et les autres fonctions de cette
librairie, consultez le <a href="https://epiverse-trace.github.io/simulist/" class="external-link">site avec la
documentation</a>.</p>
<p>Vous pouvez également télécharger des jeux de données
épidémiologiques réelles concernant des épidémies antérieures dans la
librairie <a href="https://www.reconverse.org/outbreaks/" class="external-link"><code>{outbreaks}</code></a>
de R.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="agrégation-des-données">Agrégation des données<a class="anchor" aria-label="anchor" href="#agr%C3%A9gation-des-donn%C3%A9es"></a>
</h2>
<hr class="half-width">
<p>Nous voudrons généralement analyser et visualiser le nombre de cas
enregistrés en un jour ou une semaine, plutôt que de nous concentrer sur
chaque cas individuel. Pour ce faire, il est nécessaire de regrouper le
tableau des données individuelles en tableau de données d’incidence. La
fonction <code>incidence2::incidence()</code> de la librairie
[{incidence2}] (([<a href="https://www.reconverse.org/incidence2/articles/incidence2.html" class="external-link uri">https://www.reconverse.org/incidence2/articles/incidence2.html</a>)
permet de regrouper les données individuelles, généralement en fonction
d’événements datés et/ou d’autres caractéristiques. Le morceau de code
fourni ci-dessous montre la procédure de création d’un objet de la
classe <code>incidence2</code> qui contiendra le nombre agrégé de cas à
partir de la date d’apparition de leurs symptômes en utilisant le
tableau de données d’Ebola simulé.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># creer un objet de classe incidence</span></span>
<span><span class="co"># en agregeant le nombre de cas</span></span>
<span><span class="co"># en fonction de la date d'apparition des symptomes</span></span>
<span><span class="va">daily_incidence</span> <span class="op">&lt;-</span> <span class="fu">incidence2</span><span class="fu">::</span><span class="fu">incidence</span><span class="op">(</span></span>
<span>  <span class="va">sim_data</span>,</span>
<span>  date_index <span class="op">=</span> <span class="st">"date_onset"</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"day"</span> <span class="co"># Aggreger les données de façon journalière</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Voir un aperçu des données d'incidence</span></span>
<span><span class="va">daily_incidence</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># incidence:  232 x 3
# count vars: date_onset
   date_index count_variable count
   &lt;date&gt;     &lt;chr&gt;          &lt;int&gt;
 1 2023-01-01 date_onset         1
 2 2023-01-11 date_onset         1
 3 2023-01-18 date_onset         1
 4 2023-01-23 date_onset         1
 5 2023-01-24 date_onset         1
 6 2023-01-27 date_onset         2
 7 2023-01-29 date_onset         1
 8 2023-01-30 date_onset         2
 9 2023-01-31 date_onset         2
10 2023-02-01 date_onset         1
# ℹ 222 more rows</code></pre>
</div>
<p>La librairie <a href="https://www.reconverse.org/incidence2/" class="external-link">incidence2</a> vous permet de varier
l’intervalle de temps à utiliser lorsque vous agrégez vos données (par
exemple, les données peuvent être agrégées de façon journalière,
hebdomadaire, mensuelle, etc). Elle permet également de classer les cas
selon un ou plusieurs facteurs. L’exemple ci-dessous est un extrait de
code calculant le nombre hebdomadaire de cas regroupés selon la date
d’apparition des symptômes, le sexe et le type de cas.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># calculer l'incidence hebdomadaire</span></span>
<span><span class="co"># des cas regroupés selon le sexe et le type de cas</span></span>
<span><span class="va">weekly_incidence</span> <span class="op">&lt;-</span> <span class="fu">incidence2</span><span class="fu">::</span><span class="fu">incidence</span><span class="op">(</span></span>
<span>  <span class="va">sim_data</span>,</span>
<span>  date_index <span class="op">=</span> <span class="st">"date_onset"</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"week"</span>, <span class="co"># obtenir le nombre hebdomadaire de cas</span></span>
<span>  groups <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"case_type"</span><span class="op">)</span> <span class="co"># regrouper par sexe et type de cas</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># voir un aperçu de l'incidence hebdomadaire des cas</span></span>
<span><span class="va">weekly_incidence</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># incidence:  201 x 5
# count vars: date_onset
# groups:     sex, case_type
   date_index sex   case_type count_variable count
   &lt;isowk&gt;    &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;          &lt;int&gt;
 1 2022-W52   f     probable  date_onset         1
 2 2023-W02   f     probable  date_onset         1
 3 2023-W03   m     confirmed date_onset         1
 4 2023-W04   f     confirmed date_onset         2
 5 2023-W04   f     probable  date_onset         1
 6 2023-W04   m     confirmed date_onset         1
 7 2023-W04   m     probable  date_onset         1
 8 2023-W05   f     confirmed date_onset         3
 9 2023-W05   f     probable  date_onset         4
10 2023-W05   f     suspected date_onset         1
# ℹ 191 more rows</code></pre>
</div>
<div id="compléter-les-dates-manquantes" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="compléter-les-dates-manquantes" class="callout-inner">
<h3 class="callout-title">Compléter les dates manquantes</h3>
<div class="callout-content">
<p>Lorsque les cas sont regroupés en fonction de différents facteurs, il
est possible que les événements impliquant ces groupes se produisent à
des dates différentes dans l’objet de type <code>incidence2</code> qui
en résulte. La fonction <code>incidence2::complete_dates()</code> permet
de insérer les dates manquantes pour chaque groupe de l’objet de la
classe incidence. Par défaut, le nombre de cas de ces groupes sera
représenté par 0 pour cette date (où aucun membre de ces groupe n’avait
été enregistré). Cette fonctionnalité peut également être activées
durant l’appel à la fonction <code>incidence2::incidence()</code> en
donnant la valeur <code>TRUE</code> à l’argument
<code>complete_dates</code>.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># creer un objet de la classe incidence</span></span>
<span><span class="co"># contenant l'incidence journalière du</span></span>
<span><span class="co"># nombre de cas, groupé par sexe</span></span>
<span><span class="va">daily_incidence_2</span> <span class="op">&lt;-</span> <span class="fu">incidence2</span><span class="fu">::</span><span class="fu">incidence</span><span class="op">(</span></span>
<span>  <span class="va">sim_data</span>,</span>
<span>  date_index <span class="op">=</span> <span class="st">"date_onset"</span>,</span>
<span>  groups <span class="op">=</span> <span class="st">"sex"</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"day"</span>, <span class="co"># Agreger par interval journalier</span></span>
<span>  complete_dates <span class="op">=</span> <span class="cn">TRUE</span> <span class="co"># Compléter les dates manquantes</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># voir un aperçu de l'incidence journaliere des cas</span></span>
<span><span class="va">daily_incidence_2</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># incidence:  534 x 4
# count vars: date_onset
# groups:     sex
   date_index sex   count_variable count
   &lt;date&gt;     &lt;chr&gt; &lt;chr&gt;          &lt;int&gt;
 1 2023-01-01 f     date_onset         1
 2 2023-01-01 m     date_onset         0
 3 2023-01-02 f     date_onset         0
 4 2023-01-02 m     date_onset         0
 5 2023-01-03 f     date_onset         0
 6 2023-01-03 m     date_onset         0
 7 2023-01-04 f     date_onset         0
 8 2023-01-04 m     date_onset         0
 9 2023-01-05 f     date_onset         0
10 2023-01-05 m     date_onset         0
# ℹ 524 more rows</code></pre>
</div>
</div>
</div>
</div>
<div id="défi-1-pouvez-vous-le-faire" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="défi-1-pouvez-vous-le-faire" class="callout-inner">
<h3 class="callout-title">Défi 1 : Pouvez-vous le faire ?</h3>
<div class="callout-content">
<ul>
<li>
<strong>Tâche</strong> : calculer l’incidence
<strong>bihebdomadaire</strong> des cas dans le tableau de donnèes
<code>sim_data</code> en fonction de leur date d’admission et de leur
revenu. Sauvegarder le résultat dans un objet appelé
<code>biweekly_incidence</code>.</li>
</ul>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="visualisation">Visualisation<a class="anchor" aria-label="anchor" href="#visualisation"></a>
</h2>
<hr class="half-width">
<p>Les object de la classe <code>incidence2</code> peuvent être
visualisés à l’aide de la fonction <code>plot()</code> de la librairie
de base de R. Le graphe qui en résulte est appelé courbe épidémique, ou
épi-courbe. Le code ci-dessous génère des épi-courbes pour lee objets
<code>daily_incidence</code> et <code>weekly_incidence</code> créés
ci-dessus.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># visualiser l'incidence journaliere</span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="fu">plot</span><span class="op">(</span><span class="va">daily_incidence</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu">labs</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Time (in days)"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Dialy cases"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">tracetheme</span><span class="fu">::</span><span class="fu">theme_trace</span><span class="op">(</span><span class="op">)</span> <span class="co"># appliquer le theme personnalise de epiverse</span></span></code></pre>
</div>
<figure><img src="fig/describe-cases-rendered-unnamed-chunk-7-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># visualiser l'incidence hebdomadaire</span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="fu">plot</span><span class="op">(</span><span class="va">weekly_incidence</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu">labs</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Time (in weeks)"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"weekly cases"</span> <span class="co">#</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">tracetheme</span><span class="fu">::</span><span class="fu">theme_trace</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/describe-cases-rendered-unnamed-chunk-8-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><div id="esthétique-simple" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="esthétique-simple" class="callout-inner">
<h3 class="callout-title">Esthétique simple</h3>
<div class="callout-content">
<p>Nous vous invitons à parcourir la <a href="https://www.reconverse.org/incidence2/articles/incidence2.html" class="external-link">Vignette</a>
de la librairie <a href="https://www.reconverse.org/incidence2/" class="external-link">incidence2</a>. Découvrez comment vous pouvez
utiliser les arguments de la fonction <code>plot()</code> pour donner de
l’esthétique lors de la visualisation de vos objets de la classe
incidence2.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">base</span><span class="fu">::</span><span class="fu">plot</span><span class="op">(</span><span class="va">weekly_incidence</span>, fill <span class="op">=</span> <span class="st">"sex"</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/describe-cases-rendered-unnamed-chunk-9-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Vous y trouverez entre autre argument:
<code>show_cases = TRUE</code>, <code>angle = 45</code> et
<code>n_breaks = 5</code>. Essayer de les utiliser pour voir comment ils
changent l’apparence du graphe qui en découle.</p>
</div>
</div>
</div>
<div id="défi-2-pouvez-vous-le-faire" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="défi-2-pouvez-vous-le-faire" class="callout-inner">
<h3 class="callout-title">Défi 2 : Pouvez-vous le faire ?</h3>
<div class="callout-content">
<ul>
<li>
<strong>Tâche</strong> visualiser l’objet
<code>biweekly_incidence</code>.</li>
</ul>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="courbe-du-nombre-cumulé-de-cas">Courbe du nombre cumulé de cas<a class="anchor" aria-label="anchor" href="#courbe-du-nombre-cumul%C3%A9-de-cas"></a>
</h2>
<hr class="half-width">
<p>Le nombre cumulé de cas peut être calculé à l’aide de la fonction
<code>incidence2::cumulate()</code> à partir d’un objet de la classe
<code>incidence2</code> et peut être visualisé de la même façon que dans
les exemples précédents.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># calculer l'incidence cumulée</span></span>
<span><span class="va">cum_df</span> <span class="op">&lt;-</span> <span class="fu">incidence2</span><span class="fu">::</span><span class="fu">cumulate</span><span class="op">(</span><span class="va">daily_incidence</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># visualiser l'incidence cumulée avec {ggplot2}</span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="fu">plot</span><span class="op">(</span><span class="va">cum_df</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu">labs</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Time (in days)"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"weekly cases"</span> <span class="co">#</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">tracetheme</span><span class="fu">::</span><span class="fu">theme_trace</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/describe-cases-rendered-unnamed-chunk-10-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Notez que cette fonction préserve le regroupement, c’est-à-dire que
si l’objet de la classe<code>incidence2</code> contient des groupes,
elle accumulera les cas en conséquence.</p>
<div id="défi-3-pouvez-vous-le-faire" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="défi-3-pouvez-vous-le-faire" class="callout-inner">
<h3 class="callout-title">Défi 3 : Pouvez-vous le faire ?</h3>
<div class="callout-content">
<ul>
<li>
<strong>Tâche</strong> visuliser le nombre cumulé de cas de l’objet
<code>biweekly_incidence</code>.</li>
</ul>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="estimation-la-date-du-pic-de-lépidémie">Estimation la date du pic de l’épidémie<a class="anchor" aria-label="anchor" href="#estimation-la-date-du-pic-de-l%C3%A9pid%C3%A9mie"></a>
</h2>
<hr class="half-width">
<p>Vous pouvez estimer le pic - le moment où le nombre de cas
enregistrés est le plus élevé - à l’aide de la fonction
<code>incidence2::estimate_peak()</code> de la librairie {incidence2}.
Cette fonction utilise une méthode de bootstrap pour déterminer la
période de pic du nombre de cas (c’est-à-dire en rééchantillonnant les
dates avec remplacement, ce qui donne une distribution des périodes de
pic estimés).</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># estimer le pic de l'incidence journaliere</span></span>
<span><span class="va">peak</span> <span class="op">&lt;-</span> <span class="fu">incidence2</span><span class="fu">::</span><span class="fu">estimate_peak</span><span class="op">(</span></span>
<span>  <span class="va">daily_incidence</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">100</span>,         <span class="co"># nombre de simulations à utiliser pour trouver le pic</span></span>
<span>  alpha <span class="op">=</span> <span class="fl">0.05</span>,    <span class="co"># niveau de significativite pour l'interval de confiance</span></span>
<span>  first_only <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co"># retourner la valeur du premier pic trouvé</span></span>
<span>  progress <span class="op">=</span> <span class="cn">FALSE</span>  <span class="co"># Désactiver les messages de progression</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># voir un aperçu du pic estime</span></span>
<span><span class="fu">print</span><span class="op">(</span><span class="va">peak</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 1 × 7
  count_variable observed_peak observed_count bootstrap_peaks lower_ci
  &lt;chr&gt;          &lt;date&gt;                 &lt;int&gt; &lt;list&gt;          &lt;date&gt;
1 date_onset     2023-05-01                22 &lt;df [100 × 1]&gt;  2023-03-26
# ℹ 2 more variables: median &lt;date&gt;, upper_ci &lt;date&gt;</code></pre>
</div>
<p>Cet exemple montre comment estimer la date du pic de l’épidémie (date
à laquelle le nombre de cas le plus élevé a été répertorié) à l’aide de
la fonction <code>incidence2::estimate_peak()</code> avec un interval de
confiance de <span class="math inline">\(95%\)</span> et en
ré-échantillonnant 100 fois.</p>
<div id="défi-4-pouvez-vous-le-faire" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="défi-4-pouvez-vous-le-faire" class="callout-inner">
<h3 class="callout-title">Défi 4 : Pouvez-vous le faire ?</h3>
<div class="callout-content">
<ul>
<li>
<strong>Tâche</strong> Estimation la période du pic de l’épidémie à
partir de l’objet <code>biweekly_incidence</code>.</li>
</ul>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="visualisation-avec-ggplot2">Visualisation avec ggplot2<a class="anchor" aria-label="anchor" href="#visualisation-avec-ggplot2"></a>
</h2>
<hr class="half-width">
<p><a href="https://www.reconverse.org/incidence2/" class="external-link">incidence2</a> permet d’obtenir des graphes basiques pour
les épi-courbes, mais un travail supplémentaire est nécessaire pour
créer des graphiques bien annotés. Cependant, en urilisant la librairie
<a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a> vous pouvez générer des graphes plus sophistiqués
et des épi-courbes avec plus de flexibilité dans leur annotation.
<a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a> est un package qui offre de nombreuses
fonctionnalités. Cependant, nous nous focaliserons sur trois éléments
clés pour la production d’épi-courbes : les histogrammes, la mise à
l’échelle des axes des variables de type Date et de leurs étiquettes, et
l’annotation générale du thème du graphe. L’exemple ci-dessous montre
comment configurer ces trois éléments pour un simple objet de la classe
<a href="https://www.reconverse.org/incidence2/" class="external-link">incidence2</a>.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># definir comment les dates seront reparties sur l'axe des x</span></span>
<span><span class="va">breaks</span> <span class="op">&lt;-</span> <span class="fu">seq.Date</span><span class="op">(</span></span>
<span>  from <span class="op">=</span> <span class="fu">min</span><span class="op">(</span><span class="fu">as.Date</span><span class="op">(</span><span class="va">daily_incidence</span><span class="op">$</span><span class="va">date_index</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  to <span class="op">=</span> <span class="fu">max</span><span class="op">(</span><span class="fu">as.Date</span><span class="op">(</span><span class="va">daily_incidence</span><span class="op">$</span><span class="va">date_index</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  by <span class="op">=</span> <span class="fl">20</span> <span class="co"># chaque 20 jours</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># creation de l'histogramme</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">daily_incidence</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span></span>
<span>    mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="fu">as.Date</span><span class="op">(</span><span class="va">date_index</span><span class="op">)</span>,</span>
<span>      y <span class="op">=</span> <span class="va">count</span></span>
<span>    <span class="op">)</span>,</span>
<span>    stat <span class="op">=</span> <span class="st">"identity"</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"blue"</span>, <span class="co"># couleur de bordure de l'histogramme</span></span>
<span>    fill <span class="op">=</span> <span class="st">"lightblue"</span>, <span class="co"># couleur de remplissage des bars de l'histogramme</span></span>
<span>    width <span class="op">=</span> <span class="fl">1</span> <span class="co"># l'epaisseur des bars de l'histogramme</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="co"># utiliser un theme minimal</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>,</span>
<span>                              hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>, <span class="co"># centrer le titre du gaphe en gras</span></span>
<span>    plot.subtitle <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>, <span class="co"># centrer le sous-titre</span></span>
<span>    plot.caption <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>face <span class="op">=</span> <span class="st">"italic"</span>,</span>
<span>                                hjust <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>, <span class="co"># mettre la legende en italique</span></span>
<span>    axis.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>, <span class="co"># mettre les noms des axes en gras</span></span>
<span>    axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, vjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="co"># tourner des 45 degrés</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Date"</span>, <span class="co"># definir le nom de l'axe des x</span></span>
<span>    y <span class="op">=</span> <span class="st">"Number of cases"</span>, <span class="co"># definir le nom de l'axe des y</span></span>
<span>    title <span class="op">=</span> <span class="st">"Daily Outbreak Cases"</span>, <span class="co"># definir le titre du graphe</span></span>
<span>    subtitle <span class="op">=</span> <span class="st">"Epidemiological Data for the Outbreak"</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Data Source: Simulated Data"</span> <span class="co"># definir la legende du graphe</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_x_date</span><span class="op">(</span></span>
<span>    breaks <span class="op">=</span> <span class="va">breaks</span>, <span class="co"># definir les limites personnalisee pour l'axe des x</span></span>
<span>    labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu">label_date_short</span><span class="op">(</span><span class="op">)</span> <span class="co"># Raccourcir les noms sur l'axe x</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AVERTISSEMENT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning in geom_histogram(mapping = aes(x = as.Date(date_index), y = count), :
Ignoring unknown parameters: `binwidth`, `bins`, and `pad`</code></pre>
</div>
<figure><img src="fig/describe-cases-rendered-unnamed-chunk-12-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Utilisez l’option <code>group</code> dans la fonction mapping pour
visualiser une courbe épidémique avec différents groupes. Si plusieurs
variables ont été utilisées pour regrouper les cas, utilisez l’option
<code>facet_wrap()</code> comme le montre l’exemple ci-dessous :</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># visualiser l'incidence journaliere avec des facettes liées au sexe</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">daily_incidence_2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span></span>
<span>    mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="fu">as.Date</span><span class="op">(</span><span class="va">date_index</span><span class="op">)</span>,</span>
<span>      y <span class="op">=</span> <span class="va">count</span>,</span>
<span>      group <span class="op">=</span> <span class="va">sex</span>, <span class="co"># grouper les bars par sexe</span></span>
<span>      fill <span class="op">=</span> <span class="va">sex</span></span>
<span>    <span class="op">)</span>,</span>
<span>    stat <span class="op">=</span> <span class="st">"identity"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>    plot.subtitle <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>    plot.caption <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>face <span class="op">=</span> <span class="st">"italic"</span>, hjust <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>    axis.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, vjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="st">"Date"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Number of cases"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Daily Outbreak Cases by Sex"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Incidence of Cases Grouped by Sex"</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"Data Source: Simulated Data"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">sex</span><span class="op">)</span> <span class="op">+</span> <span class="co"># creer un panel separant les groupes de la variable sexe</span></span>
<span>  <span class="fu">scale_x_date</span><span class="op">(</span></span>
<span>    breaks <span class="op">=</span> <span class="va">breaks</span>,</span>
<span>    labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu">label_date_short</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"lightblue"</span>,</span>
<span>                               <span class="st">"lightpink"</span><span class="op">)</span><span class="op">)</span> <span class="co"># couleur personnalisees</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">AVERTISSEMENT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning in geom_histogram(mapping = aes(x = as.Date(date_index), y = count, :
Ignoring unknown parameters: `binwidth`, `bins`, and `pad`</code></pre>
</div>
<figure><img src="fig/describe-cases-rendered-unnamed-chunk-13-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><div id="défi-5-pouvez-vous-le-faire" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="défi-5-pouvez-vous-le-faire" class="callout-inner">
<h3 class="callout-title">Défi 5 : Pouvez-vous le faire ?</h3>
<div class="callout-content">
<ul>
<li>
<strong>Tâche</strong>: produire une figure annotée pour l’objet
contenant les incidences bihebdomadiares <code>biweekly_incidence</code>
à l’aide de la librairie <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a>.</li>
</ul>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Points clés</h3>
<div class="callout-content">
<ul>
<li>Utiliser <a href="https://github.com/epiverse-trace/simulist" class="external-link">simulist</a> pour générer des données
épidémiologiques synthétiques</li>
<li>Utilisez <a href="https://www.reconverse.org/incidence2/" class="external-link">incidence2</a> pour agréger les données
épidémiologiques en fonction d’événements datés et d’autres variables
pour produire des épi-courbes.</li>
<li>Utilisez <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a> pour produire des courbes
épidémiques mieux annotées.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>Cette leçon est soumise au <a href="CODE_OF_CONDUCT.html">Code de Conduite</a></p>
        <p>

        <a href="https://github.com/epiverse-trace/tutorials-early-fr/edit/main/README.md" class="external-link">Modifier sur GitHub</a>

	
        | <a href="https://github.com/epiverse-trace/tutorials-early-fr/blob/main/CONTRIBUTING.md" class="external-link">Contribuer</a>
        | <a href="https://github.com/epiverse-trace/tutorials-early-fr/" class="external-link">Code Source</a></p>
				<p><a href="https://github.com/epiverse-trace/tutorials-early-fr/blob/main/CITATION.cff" class="external-link">Citer</a> | <a href="mailto:andree.valle-campos@lshtm.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">À propos</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Modèle publié sous licence <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> par <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Construit avec <a href="https://github.com/epiverse-trace/sandpaper/tree/patch-renv-github-bug" class="external-link">sandpaper (0.16.13.9000)</a>, <a href="https://github.com/carpentries/pegboard/tree/7dc6acfdd6233c0d124a0ecf288325edc40dd96d" class="external-link">pegboard (0.7.9)</a>, et <a href="https://github.com/epiverse-trace/varnish/tree/epiversetheme" class="external-link">varnish (1.0.7.9000)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Retour En Haut"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Retour</span> En Haut
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://epiverse-trace.github.io/tutorials-early-fr/aio.html",
  "inLanguage": "fr",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software,data,lesson,The Carpentries",
  "name": "Tout sur une seule page",
  "creativeWorkStatus": "active",
  "url": "https://epiverse-trace.github.io/tutorials-early-fr/aio.html",
  "identifier": "https://epiverse-trace.github.io/tutorials-early-fr/aio.html",
  "dateCreated": "2025-09-03",
  "dateModified": "2025-09-09",
  "datePublished": "2025-09-09"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

